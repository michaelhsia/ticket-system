(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var o=[null];o.push.apply(o,arguments);var u=Function.bind.apply(e,o);return new u}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var If={},Vy={get exports(){return If},set exports(t){If=t}},ue="top",Te="bottom",Ce="right",ce="left",as="auto",Zi=[ue,Te,Ce,ce],Kn="start",Ni="end",pp="clippingParents",Nc="viewport",Ai="popper",gp="reference",Ru=Zi.reduce(function(t,e){return t.concat([e+"-"+Kn,e+"-"+Ni])},[]),Vc=[].concat(Zi,[as]).reduce(function(t,e){return t.concat([e,e+"-"+Kn,e+"-"+Ni])},[]),_p="beforeRead",mp="read",yp="afterRead",vp="beforeMain",xp="main",bp="afterMain",wp="beforeWrite",Sp="write",Ap="afterWrite",Tp=[_p,mp,yp,vp,xp,bp,wp,Sp,Ap];function nn(t){return t?(t.nodeName||"").toLowerCase():null}function Pe(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Jn(t){var e=Pe(t).Element;return t instanceof e||t instanceof Element}function Re(t){var e=Pe(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Dc(t){if(typeof ShadowRoot>"u")return!1;var e=Pe(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Dy(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},u=e.elements[n];!Re(u)||!nn(u)||(Object.assign(u.style,r),Object.keys(o).forEach(function(l){var f=o[l];f===!1?u.removeAttribute(l):u.setAttribute(l,f===!0?"":f)}))})}function Iy(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],u=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),f=l.reduce(function(h,p){return h[p]="",h},{});!Re(o)||!nn(o)||(Object.assign(o.style,f),Object.keys(u).forEach(function(h){o.removeAttribute(h)}))})}}const Ic={name:"applyStyles",enabled:!0,phase:"write",fn:Dy,effect:Iy,requires:["computeStyles"]};function tn(t){return t.split("-")[0]}var jn=Math.max,oo=Math.min,Vi=Math.round;function Nu(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Cp(){return!/^((?!chrome|android).)*safari/i.test(Nu())}function Di(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),o=1,u=1;e&&Re(t)&&(o=t.offsetWidth>0&&Vi(r.width)/t.offsetWidth||1,u=t.offsetHeight>0&&Vi(r.height)/t.offsetHeight||1);var l=Jn(t)?Pe(t):window,f=l.visualViewport,h=!Cp()&&n,p=(r.left+(h&&f?f.offsetLeft:0))/o,g=(r.top+(h&&f?f.offsetTop:0))/u,y=r.width/o,_=r.height/u;return{width:y,height:_,top:g,right:p+y,bottom:g+_,left:p,x:p,y:g}}function Gc(t){var e=Di(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Pp(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Dc(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function hn(t){return Pe(t).getComputedStyle(t)}function Gy(t){return["table","td","th"].indexOf(nn(t))>=0}function $n(t){return((Jn(t)?t.ownerDocument:t.document)||window.document).documentElement}function os(t){return nn(t)==="html"?t:t.assignedSlot||t.parentNode||(Dc(t)?t.host:null)||$n(t)}function Gf(t){return!Re(t)||hn(t).position==="fixed"?null:t.offsetParent}function Fy(t){var e=/firefox/i.test(Nu()),n=/Trident/i.test(Nu());if(n&&Re(t)){var r=hn(t);if(r.position==="fixed")return null}var o=os(t);for(Dc(o)&&(o=o.host);Re(o)&&["html","body"].indexOf(nn(o))<0;){var u=hn(o);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||e&&u.willChange==="filter"||e&&u.filter&&u.filter!=="none")return o;o=o.parentNode}return null}function ca(t){for(var e=Pe(t),n=Gf(t);n&&Gy(n)&&hn(n).position==="static";)n=Gf(n);return n&&(nn(n)==="html"||nn(n)==="body"&&hn(n).position==="static")?e:n||Fy(t)||e}function Fc(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Nr(t,e,n){return jn(t,oo(e,n))}function zy(t,e,n){var r=Nr(t,e,n);return r>n?n:r}function Ep(){return{top:0,right:0,bottom:0,left:0}}function Lp(t){return Object.assign({},Ep(),t)}function Mp(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var By=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Lp(typeof e!="number"?e:Mp(e,Zi))};function Xy(t){var e,n=t.state,r=t.name,o=t.options,u=n.elements.arrow,l=n.modifiersData.popperOffsets,f=tn(n.placement),h=Fc(f),p=[ce,Ce].indexOf(f)>=0,g=p?"height":"width";if(!(!u||!l)){var y=By(o.padding,n),_=Gc(u),x=h==="y"?ue:ce,S=h==="y"?Te:Ce,w=n.rects.reference[g]+n.rects.reference[h]-l[h]-n.rects.popper[g],A=l[h]-n.rects.reference[h],C=ca(u),k=C?h==="y"?C.clientHeight||0:C.clientWidth||0:0,M=w/2-A/2,$=y[x],I=k-_[g]-y[S],B=k/2-_[g]/2+M,z=Nr($,B,I),Q=h;n.modifiersData[r]=(e={},e[Q]=z,e.centerOffset=z-B,e)}}function Yy(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||Pp(e.elements.popper,o)&&(e.elements.arrow=o))}const $p={name:"arrow",enabled:!0,phase:"main",fn:Xy,effect:Yy,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ii(t){return t.split("-")[1]}var Hy={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Uy(t,e){var n=t.x,r=t.y,o=e.devicePixelRatio||1;return{x:Vi(n*o)/o||0,y:Vi(r*o)/o||0}}function Ff(t){var e,n=t.popper,r=t.popperRect,o=t.placement,u=t.variation,l=t.offsets,f=t.position,h=t.gpuAcceleration,p=t.adaptive,g=t.roundOffsets,y=t.isFixed,_=l.x,x=_===void 0?0:_,S=l.y,w=S===void 0?0:S,A=typeof g=="function"?g({x,y:w}):{x,y:w};x=A.x,w=A.y;var C=l.hasOwnProperty("x"),k=l.hasOwnProperty("y"),M=ce,$=ue,I=window;if(p){var B=ca(n),z="clientHeight",Q="clientWidth";if(B===Pe(n)&&(B=$n(n),hn(B).position!=="static"&&f==="absolute"&&(z="scrollHeight",Q="scrollWidth")),B=B,o===ue||(o===ce||o===Ce)&&u===Ni){$=Te;var Y=y&&B===I&&I.visualViewport?I.visualViewport.height:B[z];w-=Y-r.height,w*=h?1:-1}if(o===ce||(o===ue||o===Te)&&u===Ni){M=Ce;var T=y&&B===I&&I.visualViewport?I.visualViewport.width:B[Q];x-=T-r.width,x*=h?1:-1}}var W=Object.assign({position:f},p&&Hy),O=g===!0?Uy({x,y:w},Pe(n)):{x,y:w};if(x=O.x,w=O.y,h){var H;return Object.assign({},W,(H={},H[$]=k?"0":"",H[M]=C?"0":"",H.transform=(I.devicePixelRatio||1)<=1?"translate("+x+"px, "+w+"px)":"translate3d("+x+"px, "+w+"px, 0)",H))}return Object.assign({},W,(e={},e[$]=k?w+"px":"",e[M]=C?x+"px":"",e.transform="",e))}function Wy(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,u=n.adaptive,l=u===void 0?!0:u,f=n.roundOffsets,h=f===void 0?!0:f,p={placement:tn(e.placement),variation:Ii(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ff(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ff(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const zc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Wy,data:{}};var Pa={passive:!0};function qy(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,u=o===void 0?!0:o,l=r.resize,f=l===void 0?!0:l,h=Pe(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return u&&p.forEach(function(g){g.addEventListener("scroll",n.update,Pa)}),f&&h.addEventListener("resize",n.update,Pa),function(){u&&p.forEach(function(g){g.removeEventListener("scroll",n.update,Pa)}),f&&h.removeEventListener("resize",n.update,Pa)}}const Bc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qy,data:{}};var jy={left:"right",right:"left",bottom:"top",top:"bottom"};function qa(t){return t.replace(/left|right|bottom|top/g,function(e){return jy[e]})}var Qy={start:"end",end:"start"};function zf(t){return t.replace(/start|end/g,function(e){return Qy[e]})}function Xc(t){var e=Pe(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Yc(t){return Di($n(t)).left+Xc(t).scrollLeft}function Zy(t,e){var n=Pe(t),r=$n(t),o=n.visualViewport,u=r.clientWidth,l=r.clientHeight,f=0,h=0;if(o){u=o.width,l=o.height;var p=Cp();(p||!p&&e==="fixed")&&(f=o.offsetLeft,h=o.offsetTop)}return{width:u,height:l,x:f+Yc(t),y:h}}function Ky(t){var e,n=$n(t),r=Xc(t),o=(e=t.ownerDocument)==null?void 0:e.body,u=jn(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),l=jn(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),f=-r.scrollLeft+Yc(t),h=-r.scrollTop;return hn(o||n).direction==="rtl"&&(f+=jn(n.clientWidth,o?o.clientWidth:0)-u),{width:u,height:l,x:f,y:h}}function Hc(t){var e=hn(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function kp(t){return["html","body","#document"].indexOf(nn(t))>=0?t.ownerDocument.body:Re(t)&&Hc(t)?t:kp(os(t))}function Vr(t,e){var n;e===void 0&&(e=[]);var r=kp(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),u=Pe(r),l=o?[u].concat(u.visualViewport||[],Hc(r)?r:[]):r,f=e.concat(l);return o?f:f.concat(Vr(os(l)))}function Vu(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Jy(t,e){var n=Di(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Bf(t,e,n){return e===Nc?Vu(Zy(t,n)):Jn(e)?Jy(e,n):Vu(Ky($n(t)))}function tv(t){var e=Vr(os(t)),n=["absolute","fixed"].indexOf(hn(t).position)>=0,r=n&&Re(t)?ca(t):t;return Jn(r)?e.filter(function(o){return Jn(o)&&Pp(o,r)&&nn(o)!=="body"}):[]}function ev(t,e,n,r){var o=e==="clippingParents"?tv(t):[].concat(e),u=[].concat(o,[n]),l=u[0],f=u.reduce(function(h,p){var g=Bf(t,p,r);return h.top=jn(g.top,h.top),h.right=oo(g.right,h.right),h.bottom=oo(g.bottom,h.bottom),h.left=jn(g.left,h.left),h},Bf(t,l,r));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function Op(t){var e=t.reference,n=t.element,r=t.placement,o=r?tn(r):null,u=r?Ii(r):null,l=e.x+e.width/2-n.width/2,f=e.y+e.height/2-n.height/2,h;switch(o){case ue:h={x:l,y:e.y-n.height};break;case Te:h={x:l,y:e.y+e.height};break;case Ce:h={x:e.x+e.width,y:f};break;case ce:h={x:e.x-n.width,y:f};break;default:h={x:e.x,y:e.y}}var p=o?Fc(o):null;if(p!=null){var g=p==="y"?"height":"width";switch(u){case Kn:h[p]=h[p]-(e[g]/2-n[g]/2);break;case Ni:h[p]=h[p]+(e[g]/2-n[g]/2);break}}return h}function Gi(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,u=n.strategy,l=u===void 0?t.strategy:u,f=n.boundary,h=f===void 0?pp:f,p=n.rootBoundary,g=p===void 0?Nc:p,y=n.elementContext,_=y===void 0?Ai:y,x=n.altBoundary,S=x===void 0?!1:x,w=n.padding,A=w===void 0?0:w,C=Lp(typeof A!="number"?A:Mp(A,Zi)),k=_===Ai?gp:Ai,M=t.rects.popper,$=t.elements[S?k:_],I=ev(Jn($)?$:$.contextElement||$n(t.elements.popper),h,g,l),B=Di(t.elements.reference),z=Op({reference:B,element:M,strategy:"absolute",placement:o}),Q=Vu(Object.assign({},M,z)),Y=_===Ai?Q:B,T={top:I.top-Y.top+C.top,bottom:Y.bottom-I.bottom+C.bottom,left:I.left-Y.left+C.left,right:Y.right-I.right+C.right},W=t.modifiersData.offset;if(_===Ai&&W){var O=W[o];Object.keys(T).forEach(function(H){var J=[Ce,Te].indexOf(H)>=0?1:-1,U=[ue,Te].indexOf(H)>=0?"y":"x";T[H]+=O[U]*J})}return T}function nv(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,u=n.rootBoundary,l=n.padding,f=n.flipVariations,h=n.allowedAutoPlacements,p=h===void 0?Vc:h,g=Ii(r),y=g?f?Ru:Ru.filter(function(S){return Ii(S)===g}):Zi,_=y.filter(function(S){return p.indexOf(S)>=0});_.length===0&&(_=y);var x=_.reduce(function(S,w){return S[w]=Gi(t,{placement:w,boundary:o,rootBoundary:u,padding:l})[tn(w)],S},{});return Object.keys(x).sort(function(S,w){return x[S]-x[w]})}function iv(t){if(tn(t)===as)return[];var e=qa(t);return[zf(t),e,zf(e)]}function rv(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,u=o===void 0?!0:o,l=n.altAxis,f=l===void 0?!0:l,h=n.fallbackPlacements,p=n.padding,g=n.boundary,y=n.rootBoundary,_=n.altBoundary,x=n.flipVariations,S=x===void 0?!0:x,w=n.allowedAutoPlacements,A=e.options.placement,C=tn(A),k=C===A,M=h||(k||!S?[qa(A)]:iv(A)),$=[A].concat(M).reduce(function(v,b){return v.concat(tn(b)===as?nv(e,{placement:b,boundary:g,rootBoundary:y,padding:p,flipVariations:S,allowedAutoPlacements:w}):b)},[]),I=e.rects.reference,B=e.rects.popper,z=new Map,Q=!0,Y=$[0],T=0;T<$.length;T++){var W=$[T],O=tn(W),H=Ii(W)===Kn,J=[ue,Te].indexOf(O)>=0,U=J?"width":"height",Z=Gi(e,{placement:W,boundary:g,rootBoundary:y,altBoundary:_,padding:p}),it=J?H?Ce:ce:H?Te:ue;I[U]>B[U]&&(it=qa(it));var at=qa(it),i=[];if(u&&i.push(Z[O]<=0),f&&i.push(Z[it]<=0,Z[at]<=0),i.every(function(v){return v})){Y=W,Q=!1;break}z.set(W,i)}if(Q)for(var a=S?3:1,s=function(b){var P=$.find(function(R){var L=z.get(R);if(L)return L.slice(0,b).every(function(N){return N})});if(P)return Y=P,"break"},c=a;c>0;c--){var d=s(c);if(d==="break")break}e.placement!==Y&&(e.modifiersData[r]._skip=!0,e.placement=Y,e.reset=!0)}}const Rp={name:"flip",enabled:!0,phase:"main",fn:rv,requiresIfExists:["offset"],data:{_skip:!1}};function Xf(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Yf(t){return[ue,Ce,Te,ce].some(function(e){return t[e]>=0})}function av(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,u=e.modifiersData.preventOverflow,l=Gi(e,{elementContext:"reference"}),f=Gi(e,{altBoundary:!0}),h=Xf(l,r),p=Xf(f,o,u),g=Yf(h),y=Yf(p);e.modifiersData[n]={referenceClippingOffsets:h,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":y})}const Np={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:av};function ov(t,e,n){var r=tn(t),o=[ce,ue].indexOf(r)>=0?-1:1,u=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,l=u[0],f=u[1];return l=l||0,f=(f||0)*o,[ce,Ce].indexOf(r)>=0?{x:f,y:l}:{x:l,y:f}}function sv(t){var e=t.state,n=t.options,r=t.name,o=n.offset,u=o===void 0?[0,0]:o,l=Vc.reduce(function(g,y){return g[y]=ov(y,e.rects,u),g},{}),f=l[e.placement],h=f.x,p=f.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const Vp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:sv};function uv(t){var e=t.state,n=t.name;e.modifiersData[n]=Op({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Uc={name:"popperOffsets",enabled:!0,phase:"read",fn:uv,data:{}};function cv(t){return t==="x"?"y":"x"}function lv(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,u=o===void 0?!0:o,l=n.altAxis,f=l===void 0?!1:l,h=n.boundary,p=n.rootBoundary,g=n.altBoundary,y=n.padding,_=n.tether,x=_===void 0?!0:_,S=n.tetherOffset,w=S===void 0?0:S,A=Gi(e,{boundary:h,rootBoundary:p,padding:y,altBoundary:g}),C=tn(e.placement),k=Ii(e.placement),M=!k,$=Fc(C),I=cv($),B=e.modifiersData.popperOffsets,z=e.rects.reference,Q=e.rects.popper,Y=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,T=typeof Y=="number"?{mainAxis:Y,altAxis:Y}:Object.assign({mainAxis:0,altAxis:0},Y),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(B){if(u){var H,J=$==="y"?ue:ce,U=$==="y"?Te:Ce,Z=$==="y"?"height":"width",it=B[$],at=it+A[J],i=it-A[U],a=x?-Q[Z]/2:0,s=k===Kn?z[Z]:Q[Z],c=k===Kn?-Q[Z]:-z[Z],d=e.elements.arrow,v=x&&d?Gc(d):{width:0,height:0},b=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Ep(),P=b[J],R=b[U],L=Nr(0,z[Z],v[Z]),N=M?z[Z]/2-a-L-P-T.mainAxis:s-L-P-T.mainAxis,V=M?-z[Z]/2+a+L+R+T.mainAxis:c+L+R+T.mainAxis,X=e.elements.arrow&&ca(e.elements.arrow),D=X?$==="y"?X.clientTop||0:X.clientLeft||0:0,q=(H=W==null?void 0:W[$])!=null?H:0,j=it+N-q-D,tt=it+V-q,K=Nr(x?oo(at,j):at,it,x?jn(i,tt):i);B[$]=K,O[$]=K-it}if(f){var dt,pt=$==="x"?ue:ce,bt=$==="x"?Te:Ce,xt=B[I],wt=I==="y"?"height":"width",lt=xt+A[pt],St=xt-A[bt],mt=[ue,ce].indexOf(C)!==-1,yt=(dt=W==null?void 0:W[I])!=null?dt:0,ot=mt?lt:xt-z[wt]-Q[wt]-yt+T.altAxis,ft=mt?xt+z[wt]+Q[wt]-yt-T.altAxis:St,Nt=x&&mt?zy(ot,xt,ft):Nr(x?ot:lt,xt,x?ft:St);B[I]=Nt,O[I]=Nt-xt}e.modifiersData[r]=O}}const Dp={name:"preventOverflow",enabled:!0,phase:"main",fn:lv,requiresIfExists:["offset"]};function fv(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function hv(t){return t===Pe(t)||!Re(t)?Xc(t):fv(t)}function dv(t){var e=t.getBoundingClientRect(),n=Vi(e.width)/t.offsetWidth||1,r=Vi(e.height)/t.offsetHeight||1;return n!==1||r!==1}function pv(t,e,n){n===void 0&&(n=!1);var r=Re(e),o=Re(e)&&dv(e),u=$n(e),l=Di(t,o,n),f={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!n)&&((nn(e)!=="body"||Hc(u))&&(f=hv(e)),Re(e)?(h=Di(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):u&&(h.x=Yc(u))),{x:l.left+f.scrollLeft-h.x,y:l.top+f.scrollTop-h.y,width:l.width,height:l.height}}function gv(t){var e=new Map,n=new Set,r=[];t.forEach(function(u){e.set(u.name,u)});function o(u){n.add(u.name);var l=[].concat(u.requires||[],u.requiresIfExists||[]);l.forEach(function(f){if(!n.has(f)){var h=e.get(f);h&&o(h)}}),r.push(u)}return t.forEach(function(u){n.has(u.name)||o(u)}),r}function _v(t){var e=gv(t);return Tp.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function mv(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function yv(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Hf={placement:"bottom",modifiers:[],strategy:"absolute"};function Uf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ss(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,u=o===void 0?Hf:o;return function(f,h,p){p===void 0&&(p=u);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hf,u),modifiersData:{},elements:{reference:f,popper:h},attributes:{},styles:{}},y=[],_=!1,x={state:g,setOptions:function(C){var k=typeof C=="function"?C(g.options):C;w(),g.options=Object.assign({},u,g.options,k),g.scrollParents={reference:Jn(f)?Vr(f):f.contextElement?Vr(f.contextElement):[],popper:Vr(h)};var M=_v(yv([].concat(r,g.options.modifiers)));return g.orderedModifiers=M.filter(function($){return $.enabled}),S(),x.update()},forceUpdate:function(){if(!_){var C=g.elements,k=C.reference,M=C.popper;if(Uf(k,M)){g.rects={reference:pv(k,ca(M),g.options.strategy==="fixed"),popper:Gc(M)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(T){return g.modifiersData[T.name]=Object.assign({},T.data)});for(var $=0;$<g.orderedModifiers.length;$++){if(g.reset===!0){g.reset=!1,$=-1;continue}var I=g.orderedModifiers[$],B=I.fn,z=I.options,Q=z===void 0?{}:z,Y=I.name;typeof B=="function"&&(g=B({state:g,options:Q,name:Y,instance:x})||g)}}}},update:mv(function(){return new Promise(function(A){x.forceUpdate(),A(g)})}),destroy:function(){w(),_=!0}};if(!Uf(f,h))return x;x.setOptions(p).then(function(A){!_&&p.onFirstUpdate&&p.onFirstUpdate(A)});function S(){g.orderedModifiers.forEach(function(A){var C=A.name,k=A.options,M=k===void 0?{}:k,$=A.effect;if(typeof $=="function"){var I=$({state:g,name:C,instance:x,options:M}),B=function(){};y.push(I||B)}})}function w(){y.forEach(function(A){return A()}),y=[]}return x}}var vv=ss(),xv=[Bc,Uc,zc,Ic],bv=ss({defaultModifiers:xv}),wv=[Bc,Uc,zc,Ic,Vp,Rp,Dp,$p,Np],Sv=ss({defaultModifiers:wv});const Av=Object.freeze(Object.defineProperty({__proto__:null,afterMain:bp,afterRead:yp,afterWrite:Ap,applyStyles:Ic,arrow:$p,auto:as,basePlacements:Zi,beforeMain:vp,beforeRead:_p,beforeWrite:wp,bottom:Te,clippingParents:pp,computeStyles:zc,createPopper:Sv,createPopperBase:vv,createPopperLite:bv,detectOverflow:Gi,end:Ni,eventListeners:Bc,flip:Rp,hide:Np,left:ce,main:xp,modifierPhases:Tp,offset:Vp,placements:Vc,popper:Ai,popperGenerator:ss,popperOffsets:Uc,preventOverflow:Dp,read:mp,reference:gp,right:Ce,start:Kn,top:ue,variationPlacements:Ru,viewport:Nc,write:Sp},Symbol.toStringTag,{value:"Module"})),Tv=dp(Av);/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r(Tv)})(hp,function(n){function r(F){if(F&&F.__esModule)return F;const m=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(F){for(const E in F)if(E!=="default"){const G=Object.getOwnPropertyDescriptor(F,E);Object.defineProperty(m,E,G.get?G:{enumerable:!0,get:()=>F[E]})}}return m.default=F,Object.freeze(m)}const o=r(n),u="transitionend",l=F=>{let m=F.getAttribute("data-bs-target");if(!m||m==="#"){let E=F.getAttribute("href");if(!E||!E.includes("#")&&!E.startsWith("."))return null;E.includes("#")&&!E.startsWith("#")&&(E=`#${E.split("#")[1]}`),m=E&&E!=="#"?E.trim():null}return m},f=F=>{const m=l(F);return m&&document.querySelector(m)?m:null},h=F=>{const m=l(F);return m?document.querySelector(m):null},p=F=>{F.dispatchEvent(new Event(u))},g=F=>!(!F||typeof F!="object")&&(F.jquery!==void 0&&(F=F[0]),F.nodeType!==void 0),y=F=>g(F)?F.jquery?F[0]:F:typeof F=="string"&&F.length>0?document.querySelector(F):null,_=F=>{if(!g(F)||F.getClientRects().length===0)return!1;const m=getComputedStyle(F).getPropertyValue("visibility")==="visible",E=F.closest("details:not([open])");if(!E)return m;if(E!==F){const G=F.closest("summary");if(G&&G.parentNode!==E||G===null)return!1}return m},x=F=>!F||F.nodeType!==Node.ELEMENT_NODE||!!F.classList.contains("disabled")||(F.disabled!==void 0?F.disabled:F.hasAttribute("disabled")&&F.getAttribute("disabled")!=="false"),S=F=>{if(!document.documentElement.attachShadow)return null;if(typeof F.getRootNode=="function"){const m=F.getRootNode();return m instanceof ShadowRoot?m:null}return F instanceof ShadowRoot?F:F.parentNode?S(F.parentNode):null},w=()=>{},A=F=>{F.offsetHeight},C=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,k=[],M=()=>document.documentElement.dir==="rtl",$=F=>{var m;m=()=>{const E=C();if(E){const G=F.NAME,et=E.fn[G];E.fn[G]=F.jQueryInterface,E.fn[G].Constructor=F,E.fn[G].noConflict=()=>(E.fn[G]=et,F.jQueryInterface)}},document.readyState==="loading"?(k.length||document.addEventListener("DOMContentLoaded",()=>{for(const E of k)E()}),k.push(m)):m()},I=F=>{typeof F=="function"&&F()},B=(F,m,E=!0)=>{if(!E)return void I(F);const G=(ct=>{if(!ct)return 0;let{transitionDuration:Pt,transitionDelay:Rt}=window.getComputedStyle(ct);const ie=Number.parseFloat(Pt),xe=Number.parseFloat(Rt);return ie||xe?(Pt=Pt.split(",")[0],Rt=Rt.split(",")[0],1e3*(Number.parseFloat(Pt)+Number.parseFloat(Rt))):0})(m)+5;let et=!1;const rt=({target:ct})=>{ct===m&&(et=!0,m.removeEventListener(u,rt),I(F))};m.addEventListener(u,rt),setTimeout(()=>{et||p(m)},G)},z=(F,m,E,G)=>{const et=F.length;let rt=F.indexOf(m);return rt===-1?!E&&G?F[et-1]:F[0]:(rt+=E?1:-1,G&&(rt=(rt+et)%et),F[Math.max(0,Math.min(rt,et-1))])},Q=/[^.]*(?=\..*)\.|.*/,Y=/\..*/,T=/::\d+$/,W={};let O=1;const H={mouseenter:"mouseover",mouseleave:"mouseout"},J=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function U(F,m){return m&&`${m}::${O++}`||F.uidEvent||O++}function Z(F){const m=U(F);return F.uidEvent=m,W[m]=W[m]||{},W[m]}function it(F,m,E=null){return Object.values(F).find(G=>G.callable===m&&G.delegationSelector===E)}function at(F,m,E){const G=typeof m=="string",et=G?E:m||E;let rt=c(F);return J.has(rt)||(rt=F),[G,et,rt]}function i(F,m,E,G,et){if(typeof m!="string"||!F)return;let[rt,ct,Pt]=at(m,E,G);m in H&&(ct=(zn=>function(Ie){if(!Ie.relatedTarget||Ie.relatedTarget!==Ie.delegateTarget&&!Ie.delegateTarget.contains(Ie.relatedTarget))return zn.call(this,Ie)})(ct));const Rt=Z(F),ie=Rt[Pt]||(Rt[Pt]={}),xe=it(ie,ct,rt?E:null);if(xe)return void(xe.oneOff=xe.oneOff&&et);const Ee=U(ct,m.replace(Q,"")),vn=rt?function(qe,zn,Ie){return function sr(Ca){const Ry=qe.querySelectorAll(zn);for(let{target:Bn}=Ca;Bn&&Bn!==this;Bn=Bn.parentNode)for(const Ny of Ry)if(Ny===Bn)return v(Ca,{delegateTarget:Bn}),sr.oneOff&&d.off(qe,Ca.type,zn,Ie),Ie.apply(Bn,[Ca])}}(F,E,ct):function(qe,zn){return function Ie(sr){return v(sr,{delegateTarget:qe}),Ie.oneOff&&d.off(qe,sr.type,zn),zn.apply(qe,[sr])}}(F,ct);vn.delegationSelector=rt?E:null,vn.callable=ct,vn.oneOff=et,vn.uidEvent=Ee,ie[Ee]=vn,F.addEventListener(Pt,vn,rt)}function a(F,m,E,G,et){const rt=it(m[E],G,et);rt&&(F.removeEventListener(E,rt,!!et),delete m[E][rt.uidEvent])}function s(F,m,E,G){const et=m[E]||{};for(const rt of Object.keys(et))if(rt.includes(G)){const ct=et[rt];a(F,m,E,ct.callable,ct.delegationSelector)}}function c(F){return F=F.replace(Y,""),H[F]||F}const d={on(F,m,E,G){i(F,m,E,G,!1)},one(F,m,E,G){i(F,m,E,G,!0)},off(F,m,E,G){if(typeof m!="string"||!F)return;const[et,rt,ct]=at(m,E,G),Pt=ct!==m,Rt=Z(F),ie=Rt[ct]||{},xe=m.startsWith(".");if(rt===void 0){if(xe)for(const Ee of Object.keys(Rt))s(F,Rt,Ee,m.slice(1));for(const Ee of Object.keys(ie)){const vn=Ee.replace(T,"");if(!Pt||m.includes(vn)){const qe=ie[Ee];a(F,Rt,ct,qe.callable,qe.delegationSelector)}}}else{if(!Object.keys(ie).length)return;a(F,Rt,ct,rt,et?E:null)}},trigger(F,m,E){if(typeof m!="string"||!F)return null;const G=C();let et=null,rt=!0,ct=!0,Pt=!1;m!==c(m)&&G&&(et=G.Event(m,E),G(F).trigger(et),rt=!et.isPropagationStopped(),ct=!et.isImmediatePropagationStopped(),Pt=et.isDefaultPrevented());let Rt=new Event(m,{bubbles:rt,cancelable:!0});return Rt=v(Rt,E),Pt&&Rt.preventDefault(),ct&&F.dispatchEvent(Rt),Rt.defaultPrevented&&et&&et.preventDefault(),Rt}};function v(F,m){for(const[E,G]of Object.entries(m||{}))try{F[E]=G}catch{Object.defineProperty(F,E,{configurable:!0,get:()=>G})}return F}const b=new Map,P={set(F,m,E){b.has(F)||b.set(F,new Map);const G=b.get(F);G.has(m)||G.size===0?G.set(m,E):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(G.keys())[0]}.`)},get:(F,m)=>b.has(F)&&b.get(F).get(m)||null,remove(F,m){if(!b.has(F))return;const E=b.get(F);E.delete(m),E.size===0&&b.delete(F)}};function R(F){if(F==="true")return!0;if(F==="false")return!1;if(F===Number(F).toString())return Number(F);if(F===""||F==="null")return null;if(typeof F!="string")return F;try{return JSON.parse(decodeURIComponent(F))}catch{return F}}function L(F){return F.replace(/[A-Z]/g,m=>`-${m.toLowerCase()}`)}const N={setDataAttribute(F,m,E){F.setAttribute(`data-bs-${L(m)}`,E)},removeDataAttribute(F,m){F.removeAttribute(`data-bs-${L(m)}`)},getDataAttributes(F){if(!F)return{};const m={},E=Object.keys(F.dataset).filter(G=>G.startsWith("bs")&&!G.startsWith("bsConfig"));for(const G of E){let et=G.replace(/^bs/,"");et=et.charAt(0).toLowerCase()+et.slice(1,et.length),m[et]=R(F.dataset[G])}return m},getDataAttribute:(F,m)=>R(F.getAttribute(`data-bs-${L(m)}`))};class V{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(m){return m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m}_mergeConfigObj(m,E){const G=g(E)?N.getDataAttribute(E,"config"):{};return{...this.constructor.Default,...typeof G=="object"?G:{},...g(E)?N.getDataAttributes(E):{},...typeof m=="object"?m:{}}}_typeCheckConfig(m,E=this.constructor.DefaultType){for(const et of Object.keys(E)){const rt=E[et],ct=m[et],Pt=g(ct)?"element":(G=ct)==null?`${G}`:Object.prototype.toString.call(G).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(rt).test(Pt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${et}" provided type "${Pt}" but expected type "${rt}".`)}var G}}class X extends V{constructor(m,E){super(),(m=y(m))&&(this._element=m,this._config=this._getConfig(E),P.set(this._element,this.constructor.DATA_KEY,this))}dispose(){P.remove(this._element,this.constructor.DATA_KEY),d.off(this._element,this.constructor.EVENT_KEY);for(const m of Object.getOwnPropertyNames(this))this[m]=null}_queueCallback(m,E,G=!0){B(m,E,G)}_getConfig(m){return m=this._mergeConfigObj(m,this._element),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}static getInstance(m){return P.get(y(m),this.DATA_KEY)}static getOrCreateInstance(m,E={}){return this.getInstance(m)||new this(m,typeof E=="object"?E:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(m){return`${m}${this.EVENT_KEY}`}}const D=(F,m="hide")=>{const E=`click.dismiss${F.EVENT_KEY}`,G=F.NAME;d.on(document,E,`[data-bs-dismiss="${G}"]`,function(et){if(["A","AREA"].includes(this.tagName)&&et.preventDefault(),x(this))return;const rt=h(this)||this.closest(`.${G}`);F.getOrCreateInstance(rt)[m]()})};class q extends X{static get NAME(){return"alert"}close(){if(d.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const m=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,m)}_destroyElement(){this._element.remove(),d.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(m){return this.each(function(){const E=q.getOrCreateInstance(this);if(typeof m=="string"){if(E[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);E[m](this)}})}}D(q,"close"),$(q);const j='[data-bs-toggle="button"]';class tt extends X{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(m){return this.each(function(){const E=tt.getOrCreateInstance(this);m==="toggle"&&E[m]()})}}d.on(document,"click.bs.button.data-api",j,F=>{F.preventDefault();const m=F.target.closest(j);tt.getOrCreateInstance(m).toggle()}),$(tt);const K={find:(F,m=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(m,F)),findOne:(F,m=document.documentElement)=>Element.prototype.querySelector.call(m,F),children:(F,m)=>[].concat(...F.children).filter(E=>E.matches(m)),parents(F,m){const E=[];let G=F.parentNode.closest(m);for(;G;)E.push(G),G=G.parentNode.closest(m);return E},prev(F,m){let E=F.previousElementSibling;for(;E;){if(E.matches(m))return[E];E=E.previousElementSibling}return[]},next(F,m){let E=F.nextElementSibling;for(;E;){if(E.matches(m))return[E];E=E.nextElementSibling}return[]},focusableChildren(F){const m=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(E=>`${E}:not([tabindex^="-"])`).join(",");return this.find(m,F).filter(E=>!x(E)&&_(E))}},dt={endCallback:null,leftCallback:null,rightCallback:null},pt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class bt extends V{constructor(m,E){super(),this._element=m,m&&bt.isSupported()&&(this._config=this._getConfig(E),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return dt}static get DefaultType(){return pt}static get NAME(){return"swipe"}dispose(){d.off(this._element,".bs.swipe")}_start(m){this._supportPointerEvents?this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX):this._deltaX=m.touches[0].clientX}_end(m){this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX-this._deltaX),this._handleSwipe(),I(this._config.endCallback)}_move(m){this._deltaX=m.touches&&m.touches.length>1?0:m.touches[0].clientX-this._deltaX}_handleSwipe(){const m=Math.abs(this._deltaX);if(m<=40)return;const E=m/this._deltaX;this._deltaX=0,E&&I(E>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(d.on(this._element,"pointerdown.bs.swipe",m=>this._start(m)),d.on(this._element,"pointerup.bs.swipe",m=>this._end(m)),this._element.classList.add("pointer-event")):(d.on(this._element,"touchstart.bs.swipe",m=>this._start(m)),d.on(this._element,"touchmove.bs.swipe",m=>this._move(m)),d.on(this._element,"touchend.bs.swipe",m=>this._end(m)))}_eventIsPointerPenTouch(m){return this._supportPointerEvents&&(m.pointerType==="pen"||m.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const xt="next",wt="prev",lt="left",St="right",mt="slid.bs.carousel",yt="carousel",ot="active",ft={ArrowLeft:St,ArrowRight:lt},Nt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Zt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class It extends X{constructor(m,E){super(m,E),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=K.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===yt&&this.cycle()}static get Default(){return Nt}static get DefaultType(){return Zt}static get NAME(){return"carousel"}next(){this._slide(xt)}nextWhenVisible(){!document.hidden&&_(this._element)&&this.next()}prev(){this._slide(wt)}pause(){this._isSliding&&p(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?d.one(this._element,mt,()=>this.cycle()):this.cycle())}to(m){const E=this._getItems();if(m>E.length-1||m<0)return;if(this._isSliding)return void d.one(this._element,mt,()=>this.to(m));const G=this._getItemIndex(this._getActive());if(G===m)return;const et=m>G?xt:wt;this._slide(et,E[m])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(m){return m.defaultInterval=m.interval,m}_addEventListeners(){this._config.keyboard&&d.on(this._element,"keydown.bs.carousel",m=>this._keydown(m)),this._config.pause==="hover"&&(d.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),d.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&bt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const E of K.find(".carousel-item img",this._element))d.on(E,"dragstart.bs.carousel",G=>G.preventDefault());const m={leftCallback:()=>this._slide(this._directionToOrder(lt)),rightCallback:()=>this._slide(this._directionToOrder(St)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new bt(this._element,m)}_keydown(m){if(/input|textarea/i.test(m.target.tagName))return;const E=ft[m.key];E&&(m.preventDefault(),this._slide(this._directionToOrder(E)))}_getItemIndex(m){return this._getItems().indexOf(m)}_setActiveIndicatorElement(m){if(!this._indicatorsElement)return;const E=K.findOne(".active",this._indicatorsElement);E.classList.remove(ot),E.removeAttribute("aria-current");const G=K.findOne(`[data-bs-slide-to="${m}"]`,this._indicatorsElement);G&&(G.classList.add(ot),G.setAttribute("aria-current","true"))}_updateInterval(){const m=this._activeElement||this._getActive();if(!m)return;const E=Number.parseInt(m.getAttribute("data-bs-interval"),10);this._config.interval=E||this._config.defaultInterval}_slide(m,E=null){if(this._isSliding)return;const G=this._getActive(),et=m===xt,rt=E||z(this._getItems(),G,et,this._config.wrap);if(rt===G)return;const ct=this._getItemIndex(rt),Pt=Ee=>d.trigger(this._element,Ee,{relatedTarget:rt,direction:this._orderToDirection(m),from:this._getItemIndex(G),to:ct});if(Pt("slide.bs.carousel").defaultPrevented||!G||!rt)return;const Rt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ct),this._activeElement=rt;const ie=et?"carousel-item-start":"carousel-item-end",xe=et?"carousel-item-next":"carousel-item-prev";rt.classList.add(xe),A(rt),G.classList.add(ie),rt.classList.add(ie),this._queueCallback(()=>{rt.classList.remove(ie,xe),rt.classList.add(ot),G.classList.remove(ot,xe,ie),this._isSliding=!1,Pt(mt)},G,this._isAnimated()),Rt&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return K.findOne(".active.carousel-item",this._element)}_getItems(){return K.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(m){return M()?m===lt?wt:xt:m===lt?xt:wt}_orderToDirection(m){return M()?m===wt?lt:St:m===wt?St:lt}static jQueryInterface(m){return this.each(function(){const E=It.getOrCreateInstance(this,m);if(typeof m!="number"){if(typeof m=="string"){if(E[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);E[m]()}}else E.to(m)})}}d.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(F){const m=h(this);if(!m||!m.classList.contains(yt))return;F.preventDefault();const E=It.getOrCreateInstance(m),G=this.getAttribute("data-bs-slide-to");return G?(E.to(G),void E._maybeEnableCycle()):N.getDataAttribute(this,"slide")==="next"?(E.next(),void E._maybeEnableCycle()):(E.prev(),void E._maybeEnableCycle())}),d.on(window,"load.bs.carousel.data-api",()=>{const F=K.find('[data-bs-ride="carousel"]');for(const m of F)It.getOrCreateInstance(m)}),$(It);const ee="show",zt="collapse",Xt="collapsing",Mt='[data-bs-toggle="collapse"]',nt={parent:null,toggle:!0},vt={parent:"(null|element)",toggle:"boolean"};class qt extends X{constructor(m,E){super(m,E),this._isTransitioning=!1,this._triggerArray=[];const G=K.find(Mt);for(const et of G){const rt=f(et),ct=K.find(rt).filter(Pt=>Pt===this._element);rt!==null&&ct.length&&this._triggerArray.push(et)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return nt}static get DefaultType(){return vt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let m=[];if(this._config.parent&&(m=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(et=>et!==this._element).map(et=>qt.getOrCreateInstance(et,{toggle:!1}))),m.length&&m[0]._isTransitioning||d.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const et of m)et.hide();const E=this._getDimension();this._element.classList.remove(zt),this._element.classList.add(Xt),this._element.style[E]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const G=`scroll${E[0].toUpperCase()+E.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Xt),this._element.classList.add(zt,ee),this._element.style[E]="",d.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[E]=`${this._element[G]}px`}hide(){if(this._isTransitioning||!this._isShown()||d.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const m=this._getDimension();this._element.style[m]=`${this._element.getBoundingClientRect()[m]}px`,A(this._element),this._element.classList.add(Xt),this._element.classList.remove(zt,ee);for(const E of this._triggerArray){const G=h(E);G&&!this._isShown(G)&&this._addAriaAndCollapsedClass([E],!1)}this._isTransitioning=!0,this._element.style[m]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Xt),this._element.classList.add(zt),d.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(m=this._element){return m.classList.contains(ee)}_configAfterMerge(m){return m.toggle=!!m.toggle,m.parent=y(m.parent),m}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const m=this._getFirstLevelChildren(Mt);for(const E of m){const G=h(E);G&&this._addAriaAndCollapsedClass([E],this._isShown(G))}}_getFirstLevelChildren(m){const E=K.find(":scope .collapse .collapse",this._config.parent);return K.find(m,this._config.parent).filter(G=>!E.includes(G))}_addAriaAndCollapsedClass(m,E){if(m.length)for(const G of m)G.classList.toggle("collapsed",!E),G.setAttribute("aria-expanded",E)}static jQueryInterface(m){const E={};return typeof m=="string"&&/show|hide/.test(m)&&(E.toggle=!1),this.each(function(){const G=qt.getOrCreateInstance(this,E);if(typeof m=="string"){if(G[m]===void 0)throw new TypeError(`No method named "${m}"`);G[m]()}})}}d.on(document,"click.bs.collapse.data-api",Mt,function(F){(F.target.tagName==="A"||F.delegateTarget&&F.delegateTarget.tagName==="A")&&F.preventDefault();const m=f(this),E=K.find(m);for(const G of E)qt.getOrCreateInstance(G,{toggle:!1}).toggle()}),$(qt);const mn="dropdown",nr="ArrowUp",Ne="ArrowDown",ve="click.bs.dropdown.data-api",ne="keydown.bs.dropdown.data-api",ge="show",Ve='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',yn=`${Ve}.show`,Dn=".dropdown-menu",ir=M()?"top-end":"top-start",We=M()?"top-start":"top-end",zs=M()?"bottom-end":"bottom-start",ey=M()?"bottom-start":"bottom-end",ny=M()?"left-start":"right-start",iy=M()?"right-start":"left-start",ry={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ay={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class De extends X{constructor(m,E){super(m,E),this._popper=null,this._parent=this._element.parentNode,this._menu=K.next(this._element,Dn)[0]||K.prev(this._element,Dn)[0]||K.findOne(Dn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ry}static get DefaultType(){return ay}static get NAME(){return mn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(x(this._element)||this._isShown())return;const m={relatedTarget:this._element};if(!d.trigger(this._element,"show.bs.dropdown",m).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const E of[].concat(...document.body.children))d.on(E,"mouseover",w);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ge),this._element.classList.add(ge),d.trigger(this._element,"shown.bs.dropdown",m)}}hide(){if(x(this._element)||!this._isShown())return;const m={relatedTarget:this._element};this._completeHide(m)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(m){if(!d.trigger(this._element,"hide.bs.dropdown",m).defaultPrevented){if("ontouchstart"in document.documentElement)for(const E of[].concat(...document.body.children))d.off(E,"mouseover",w);this._popper&&this._popper.destroy(),this._menu.classList.remove(ge),this._element.classList.remove(ge),this._element.setAttribute("aria-expanded","false"),N.removeDataAttribute(this._menu,"popper"),d.trigger(this._element,"hidden.bs.dropdown",m)}}_getConfig(m){if(typeof(m=super._getConfig(m)).reference=="object"&&!g(m.reference)&&typeof m.reference.getBoundingClientRect!="function")throw new TypeError(`${mn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return m}_createPopper(){if(o===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let m=this._element;this._config.reference==="parent"?m=this._parent:g(this._config.reference)?m=y(this._config.reference):typeof this._config.reference=="object"&&(m=this._config.reference);const E=this._getPopperConfig();this._popper=o.createPopper(m,this._menu,E)}_isShown(){return this._menu.classList.contains(ge)}_getPlacement(){const m=this._parent;if(m.classList.contains("dropend"))return ny;if(m.classList.contains("dropstart"))return iy;if(m.classList.contains("dropup-center"))return"top";if(m.classList.contains("dropdown-center"))return"bottom";const E=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return m.classList.contains("dropup")?E?We:ir:E?ey:zs}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(E=>Number.parseInt(E,10)):typeof m=="function"?E=>m(E,this._element):m}_getPopperConfig(){const m={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(N.setDataAttribute(this._menu,"popper","static"),m.modifiers=[{name:"applyStyles",enabled:!1}]),{...m,...typeof this._config.popperConfig=="function"?this._config.popperConfig(m):this._config.popperConfig}}_selectMenuItem({key:m,target:E}){const G=K.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(et=>_(et));G.length&&z(G,E,m===Ne,!G.includes(E)).focus()}static jQueryInterface(m){return this.each(function(){const E=De.getOrCreateInstance(this,m);if(typeof m=="string"){if(E[m]===void 0)throw new TypeError(`No method named "${m}"`);E[m]()}})}static clearMenus(m){if(m.button===2||m.type==="keyup"&&m.key!=="Tab")return;const E=K.find(yn);for(const G of E){const et=De.getInstance(G);if(!et||et._config.autoClose===!1)continue;const rt=m.composedPath(),ct=rt.includes(et._menu);if(rt.includes(et._element)||et._config.autoClose==="inside"&&!ct||et._config.autoClose==="outside"&&ct||et._menu.contains(m.target)&&(m.type==="keyup"&&m.key==="Tab"||/input|select|option|textarea|form/i.test(m.target.tagName)))continue;const Pt={relatedTarget:et._element};m.type==="click"&&(Pt.clickEvent=m),et._completeHide(Pt)}}static dataApiKeydownHandler(m){const E=/input|textarea/i.test(m.target.tagName),G=m.key==="Escape",et=[nr,Ne].includes(m.key);if(!et&&!G||E&&!G)return;m.preventDefault();const rt=this.matches(Ve)?this:K.prev(this,Ve)[0]||K.next(this,Ve)[0]||K.findOne(Ve,m.delegateTarget.parentNode),ct=De.getOrCreateInstance(rt);if(et)return m.stopPropagation(),ct.show(),void ct._selectMenuItem(m);ct._isShown()&&(m.stopPropagation(),ct.hide(),rt.focus())}}d.on(document,ne,Ve,De.dataApiKeydownHandler),d.on(document,ne,Dn,De.dataApiKeydownHandler),d.on(document,ve,De.clearMenus),d.on(document,"keyup.bs.dropdown.data-api",De.clearMenus),d.on(document,ve,Ve,function(F){F.preventDefault(),De.getOrCreateInstance(this).toggle()}),$(De);const uf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",cf=".sticky-top",va="padding-right",lf="margin-right";class Bs{constructor(){this._element=document.body}getWidth(){const m=document.documentElement.clientWidth;return Math.abs(window.innerWidth-m)}hide(){const m=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,va,E=>E+m),this._setElementAttributes(uf,va,E=>E+m),this._setElementAttributes(cf,lf,E=>E-m)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,va),this._resetElementAttributes(uf,va),this._resetElementAttributes(cf,lf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(m,E,G){const et=this.getWidth();this._applyManipulationCallback(m,rt=>{if(rt!==this._element&&window.innerWidth>rt.clientWidth+et)return;this._saveInitialAttribute(rt,E);const ct=window.getComputedStyle(rt).getPropertyValue(E);rt.style.setProperty(E,`${G(Number.parseFloat(ct))}px`)})}_saveInitialAttribute(m,E){const G=m.style.getPropertyValue(E);G&&N.setDataAttribute(m,E,G)}_resetElementAttributes(m,E){this._applyManipulationCallback(m,G=>{const et=N.getDataAttribute(G,E);et!==null?(N.removeDataAttribute(G,E),G.style.setProperty(E,et)):G.style.removeProperty(E)})}_applyManipulationCallback(m,E){if(g(m))E(m);else for(const G of K.find(m,this._element))E(G)}}const ff="show",hf="mousedown.bs.backdrop",oy={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},sy={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class df extends V{constructor(m){super(),this._config=this._getConfig(m),this._isAppended=!1,this._element=null}static get Default(){return oy}static get DefaultType(){return sy}static get NAME(){return"backdrop"}show(m){if(!this._config.isVisible)return void I(m);this._append();const E=this._getElement();this._config.isAnimated&&A(E),E.classList.add(ff),this._emulateAnimation(()=>{I(m)})}hide(m){this._config.isVisible?(this._getElement().classList.remove(ff),this._emulateAnimation(()=>{this.dispose(),I(m)})):I(m)}dispose(){this._isAppended&&(d.off(this._element,hf),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const m=document.createElement("div");m.className=this._config.className,this._config.isAnimated&&m.classList.add("fade"),this._element=m}return this._element}_configAfterMerge(m){return m.rootElement=y(m.rootElement),m}_append(){if(this._isAppended)return;const m=this._getElement();this._config.rootElement.append(m),d.on(m,hf,()=>{I(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(m){B(m,this._getElement(),this._config.isAnimated)}}const pf=".bs.focustrap",gf="backward",uy={autofocus:!0,trapElement:null},cy={autofocus:"boolean",trapElement:"element"};class _f extends V{constructor(m){super(),this._config=this._getConfig(m),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return uy}static get DefaultType(){return cy}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),d.off(document,pf),d.on(document,"focusin.bs.focustrap",m=>this._handleFocusin(m)),d.on(document,"keydown.tab.bs.focustrap",m=>this._handleKeydown(m)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,d.off(document,pf))}_handleFocusin(m){const{trapElement:E}=this._config;if(m.target===document||m.target===E||E.contains(m.target))return;const G=K.focusableChildren(E);G.length===0?E.focus():this._lastTabNavDirection===gf?G[G.length-1].focus():G[0].focus()}_handleKeydown(m){m.key==="Tab"&&(this._lastTabNavDirection=m.shiftKey?gf:"forward")}}const mf="hidden.bs.modal",yf="show.bs.modal",vf="modal-open",xf="show",Xs="modal-static",ly={backdrop:!0,focus:!0,keyboard:!0},fy={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class In extends X{constructor(m,E){super(m,E),this._dialog=K.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Bs,this._addEventListeners()}static get Default(){return ly}static get DefaultType(){return fy}static get NAME(){return"modal"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||this._isTransitioning||d.trigger(this._element,yf,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(vf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(m)))}hide(){this._isShown&&!this._isTransitioning&&(d.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(xf),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const m of[window,this._dialog])d.off(m,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new df({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new _f({trapElement:this._element})}_showElement(m){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const E=K.findOne(".modal-body",this._dialog);E&&(E.scrollTop=0),A(this._element),this._element.classList.add(xf),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,d.trigger(this._element,"shown.bs.modal",{relatedTarget:m})},this._dialog,this._isAnimated())}_addEventListeners(){d.on(this._element,"keydown.dismiss.bs.modal",m=>{if(m.key==="Escape")return this._config.keyboard?(m.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),d.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),d.on(this._element,"mousedown.dismiss.bs.modal",m=>{d.one(this._element,"click.dismiss.bs.modal",E=>{this._element===m.target&&this._element===E.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(vf),this._resetAdjustments(),this._scrollBar.reset(),d.trigger(this._element,mf)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(d.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const m=this._element.scrollHeight>document.documentElement.clientHeight,E=this._element.style.overflowY;E==="hidden"||this._element.classList.contains(Xs)||(m||(this._element.style.overflowY="hidden"),this._element.classList.add(Xs),this._queueCallback(()=>{this._element.classList.remove(Xs),this._queueCallback(()=>{this._element.style.overflowY=E},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const m=this._element.scrollHeight>document.documentElement.clientHeight,E=this._scrollBar.getWidth(),G=E>0;if(G&&!m){const et=M()?"paddingLeft":"paddingRight";this._element.style[et]=`${E}px`}if(!G&&m){const et=M()?"paddingRight":"paddingLeft";this._element.style[et]=`${E}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(m,E){return this.each(function(){const G=In.getOrCreateInstance(this,m);if(typeof m=="string"){if(G[m]===void 0)throw new TypeError(`No method named "${m}"`);G[m](E)}})}}d.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(F){const m=h(this);["A","AREA"].includes(this.tagName)&&F.preventDefault(),d.one(m,yf,G=>{G.defaultPrevented||d.one(m,mf,()=>{_(this)&&this.focus()})});const E=K.findOne(".modal.show");E&&In.getInstance(E).hide(),In.getOrCreateInstance(m).toggle(this)}),D(In),$(In);const bf="show",wf="showing",Sf="hiding",Af=".offcanvas.show",Tf="hidePrevented.bs.offcanvas",Cf="hidden.bs.offcanvas",hy={backdrop:!0,keyboard:!0,scroll:!1},dy={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class sn extends X{constructor(m,E){super(m,E),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return hy}static get DefaultType(){return dy}static get NAME(){return"offcanvas"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||d.trigger(this._element,"show.bs.offcanvas",{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Bs().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(wf),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(bf),this._element.classList.remove(wf),d.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:m})},this._element,!0))}hide(){this._isShown&&(d.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Sf),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(bf,Sf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Bs().reset(),d.trigger(this._element,Cf)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const m=!!this._config.backdrop;return new df({className:"offcanvas-backdrop",isVisible:m,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:m?()=>{this._config.backdrop!=="static"?this.hide():d.trigger(this._element,Tf)}:null})}_initializeFocusTrap(){return new _f({trapElement:this._element})}_addEventListeners(){d.on(this._element,"keydown.dismiss.bs.offcanvas",m=>{m.key==="Escape"&&(this._config.keyboard?this.hide():d.trigger(this._element,Tf))})}static jQueryInterface(m){return this.each(function(){const E=sn.getOrCreateInstance(this,m);if(typeof m=="string"){if(E[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);E[m](this)}})}}d.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(F){const m=h(this);if(["A","AREA"].includes(this.tagName)&&F.preventDefault(),x(this))return;d.one(m,Cf,()=>{_(this)&&this.focus()});const E=K.findOne(Af);E&&E!==m&&sn.getInstance(E).hide(),sn.getOrCreateInstance(m).toggle(this)}),d.on(window,"load.bs.offcanvas.data-api",()=>{for(const F of K.find(Af))sn.getOrCreateInstance(F).show()}),d.on(window,"resize.bs.offcanvas",()=>{for(const F of K.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(F).position!=="fixed"&&sn.getOrCreateInstance(F).hide()}),D(sn),$(sn);const py=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),gy=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,_y=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,my=(F,m)=>{const E=F.nodeName.toLowerCase();return m.includes(E)?!py.has(E)||!!(gy.test(F.nodeValue)||_y.test(F.nodeValue)):m.filter(G=>G instanceof RegExp).some(G=>G.test(E))},Pf={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},yy={allowList:Pf,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},vy={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},xy={entry:"(string|element|function|null)",selector:"(string|element)"};class by extends V{constructor(m){super(),this._config=this._getConfig(m)}static get Default(){return yy}static get DefaultType(){return vy}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(m=>this._resolvePossibleFunction(m)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(m){return this._checkContent(m),this._config.content={...this._config.content,...m},this}toHtml(){const m=document.createElement("div");m.innerHTML=this._maybeSanitize(this._config.template);for(const[et,rt]of Object.entries(this._config.content))this._setContent(m,rt,et);const E=m.children[0],G=this._resolvePossibleFunction(this._config.extraClass);return G&&E.classList.add(...G.split(" ")),E}_typeCheckConfig(m){super._typeCheckConfig(m),this._checkContent(m.content)}_checkContent(m){for(const[E,G]of Object.entries(m))super._typeCheckConfig({selector:E,entry:G},xy)}_setContent(m,E,G){const et=K.findOne(G,m);et&&((E=this._resolvePossibleFunction(E))?g(E)?this._putElementInTemplate(y(E),et):this._config.html?et.innerHTML=this._maybeSanitize(E):et.textContent=E:et.remove())}_maybeSanitize(m){return this._config.sanitize?function(E,G,et){if(!E.length)return E;if(et&&typeof et=="function")return et(E);const rt=new window.DOMParser().parseFromString(E,"text/html"),ct=[].concat(...rt.body.querySelectorAll("*"));for(const Pt of ct){const Rt=Pt.nodeName.toLowerCase();if(!Object.keys(G).includes(Rt)){Pt.remove();continue}const ie=[].concat(...Pt.attributes),xe=[].concat(G["*"]||[],G[Rt]||[]);for(const Ee of ie)my(Ee,xe)||Pt.removeAttribute(Ee.nodeName)}return rt.body.innerHTML}(m,this._config.allowList,this._config.sanitizeFn):m}_resolvePossibleFunction(m){return typeof m=="function"?m(this):m}_putElementInTemplate(m,E){if(this._config.html)return E.innerHTML="",void E.append(m);E.textContent=m.textContent}}const wy=new Set(["sanitize","allowList","sanitizeFn"]),Ys="fade",xa="show",Ef=".modal",Lf="hide.bs.modal",ba="hover",Mf="focus",Sy={AUTO:"auto",TOP:"top",RIGHT:M()?"left":"right",BOTTOM:"bottom",LEFT:M()?"right":"left"},Ay={allowList:Pf,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ty={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Gn extends X{constructor(m,E){if(o===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(m,E),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ay}static get DefaultType(){return Ty}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),d.off(this._element.closest(Ef),Lf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const m=d.trigger(this._element,this.constructor.eventName("show")),E=(S(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(m.defaultPrevented||!E)return;this._disposePopper();const G=this._getTipElement();this._element.setAttribute("aria-describedby",G.getAttribute("id"));const{container:et}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(et.append(G),d.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(G),G.classList.add(xa),"ontouchstart"in document.documentElement)for(const rt of[].concat(...document.body.children))d.on(rt,"mouseover",w);this._queueCallback(()=>{d.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!d.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(xa),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))d.off(m,"mouseover",w);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),d.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(m){const E=this._getTemplateFactory(m).toHtml();if(!E)return null;E.classList.remove(Ys,xa),E.classList.add(`bs-${this.constructor.NAME}-auto`);const G=(et=>{do et+=Math.floor(1e6*Math.random());while(document.getElementById(et));return et})(this.constructor.NAME).toString();return E.setAttribute("id",G),this._isAnimated()&&E.classList.add(Ys),E}setContent(m){this._newContent=m,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(m){return this._templateFactory?this._templateFactory.changeContent(m):this._templateFactory=new by({...this._config,content:m,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(m){return this.constructor.getOrCreateInstance(m.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ys)}_isShown(){return this.tip&&this.tip.classList.contains(xa)}_createPopper(m){const E=typeof this._config.placement=="function"?this._config.placement.call(this,m,this._element):this._config.placement,G=Sy[E.toUpperCase()];return o.createPopper(this._element,m,this._getPopperConfig(G))}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(E=>Number.parseInt(E,10)):typeof m=="function"?E=>m(E,this._element):m}_resolvePossibleFunction(m){return typeof m=="function"?m.call(this._element):m}_getPopperConfig(m){const E={placement:m,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:G=>{this._getTipElement().setAttribute("data-popper-placement",G.state.placement)}}]};return{...E,...typeof this._config.popperConfig=="function"?this._config.popperConfig(E):this._config.popperConfig}}_setListeners(){const m=this._config.trigger.split(" ");for(const E of m)if(E==="click")d.on(this._element,this.constructor.eventName("click"),this._config.selector,G=>{this._initializeOnDelegatedTarget(G).toggle()});else if(E!=="manual"){const G=E===ba?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),et=E===ba?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");d.on(this._element,G,this._config.selector,rt=>{const ct=this._initializeOnDelegatedTarget(rt);ct._activeTrigger[rt.type==="focusin"?Mf:ba]=!0,ct._enter()}),d.on(this._element,et,this._config.selector,rt=>{const ct=this._initializeOnDelegatedTarget(rt);ct._activeTrigger[rt.type==="focusout"?Mf:ba]=ct._element.contains(rt.relatedTarget),ct._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},d.on(this._element.closest(Ef),Lf,this._hideModalHandler)}_fixTitle(){const m=this._element.getAttribute("title");m&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",m),this._element.setAttribute("data-bs-original-title",m),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(m,E){clearTimeout(this._timeout),this._timeout=setTimeout(m,E)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(m){const E=N.getDataAttributes(this._element);for(const G of Object.keys(E))wy.has(G)&&delete E[G];return m={...E,...typeof m=="object"&&m?m:{}},m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m.container=m.container===!1?document.body:y(m.container),typeof m.delay=="number"&&(m.delay={show:m.delay,hide:m.delay}),typeof m.title=="number"&&(m.title=m.title.toString()),typeof m.content=="number"&&(m.content=m.content.toString()),m}_getDelegateConfig(){const m={};for(const E in this._config)this.constructor.Default[E]!==this._config[E]&&(m[E]=this._config[E]);return m.selector=!1,m.trigger="manual",m}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(m){return this.each(function(){const E=Gn.getOrCreateInstance(this,m);if(typeof m=="string"){if(E[m]===void 0)throw new TypeError(`No method named "${m}"`);E[m]()}})}}$(Gn);const Cy={...Gn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Py={...Gn.DefaultType,content:"(null|string|element|function)"};class wa extends Gn{static get Default(){return Cy}static get DefaultType(){return Py}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(m){return this.each(function(){const E=wa.getOrCreateInstance(this,m);if(typeof m=="string"){if(E[m]===void 0)throw new TypeError(`No method named "${m}"`);E[m]()}})}}$(wa);const $f="click.bs.scrollspy",rr="active",kf="[href]",Ey={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ly={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ar extends X{constructor(m,E){super(m,E),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ey}static get DefaultType(){return Ly}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const m of this._observableSections.values())this._observer.observe(m)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(m){return m.target=y(m.target)||document.body,m.rootMargin=m.offset?`${m.offset}px 0px -30%`:m.rootMargin,typeof m.threshold=="string"&&(m.threshold=m.threshold.split(",").map(E=>Number.parseFloat(E))),m}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(d.off(this._config.target,$f),d.on(this._config.target,$f,kf,m=>{const E=this._observableSections.get(m.target.hash);if(E){m.preventDefault();const G=this._rootElement||window,et=E.offsetTop-this._element.offsetTop;if(G.scrollTo)return void G.scrollTo({top:et,behavior:"smooth"});G.scrollTop=et}}))}_getNewObserver(){const m={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(E=>this._observerCallback(E),m)}_observerCallback(m){const E=ct=>this._targetLinks.get(`#${ct.target.id}`),G=ct=>{this._previousScrollData.visibleEntryTop=ct.target.offsetTop,this._process(E(ct))},et=(this._rootElement||document.documentElement).scrollTop,rt=et>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=et;for(const ct of m){if(!ct.isIntersecting){this._activeTarget=null,this._clearActiveClass(E(ct));continue}const Pt=ct.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(rt&&Pt){if(G(ct),!et)return}else rt||Pt||G(ct)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const m=K.find(kf,this._config.target);for(const E of m){if(!E.hash||x(E))continue;const G=K.findOne(E.hash,this._element);_(G)&&(this._targetLinks.set(E.hash,E),this._observableSections.set(E.hash,G))}}_process(m){this._activeTarget!==m&&(this._clearActiveClass(this._config.target),this._activeTarget=m,m.classList.add(rr),this._activateParents(m),d.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:m}))}_activateParents(m){if(m.classList.contains("dropdown-item"))K.findOne(".dropdown-toggle",m.closest(".dropdown")).classList.add(rr);else for(const E of K.parents(m,".nav, .list-group"))for(const G of K.prev(E,".nav-link, .nav-item > .nav-link, .list-group-item"))G.classList.add(rr)}_clearActiveClass(m){m.classList.remove(rr);const E=K.find("[href].active",m);for(const G of E)G.classList.remove(rr)}static jQueryInterface(m){return this.each(function(){const E=ar.getOrCreateInstance(this,m);if(typeof m=="string"){if(E[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);E[m]()}})}}d.on(window,"load.bs.scrollspy.data-api",()=>{for(const F of K.find('[data-bs-spy="scroll"]'))ar.getOrCreateInstance(F)}),$(ar);const My="ArrowLeft",Of="ArrowRight",$y="ArrowUp",Rf="ArrowDown",Sa="active",Nf="fade",Hs="show",Vf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Us=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${Vf}`;class Fn extends X{constructor(m){super(m),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),d.on(this._element,"keydown.bs.tab",E=>this._keydown(E)))}static get NAME(){return"tab"}show(){const m=this._element;if(this._elemIsActive(m))return;const E=this._getActiveElem(),G=E?d.trigger(E,"hide.bs.tab",{relatedTarget:m}):null;d.trigger(m,"show.bs.tab",{relatedTarget:E}).defaultPrevented||G&&G.defaultPrevented||(this._deactivate(E,m),this._activate(m,E))}_activate(m,E){m&&(m.classList.add(Sa),this._activate(h(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.removeAttribute("tabindex"),m.setAttribute("aria-selected",!0),this._toggleDropDown(m,!0),d.trigger(m,"shown.bs.tab",{relatedTarget:E})):m.classList.add(Hs)},m,m.classList.contains(Nf)))}_deactivate(m,E){m&&(m.classList.remove(Sa),m.blur(),this._deactivate(h(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.setAttribute("aria-selected",!1),m.setAttribute("tabindex","-1"),this._toggleDropDown(m,!1),d.trigger(m,"hidden.bs.tab",{relatedTarget:E})):m.classList.remove(Hs)},m,m.classList.contains(Nf)))}_keydown(m){if(![My,Of,$y,Rf].includes(m.key))return;m.stopPropagation(),m.preventDefault();const E=[Of,Rf].includes(m.key),G=z(this._getChildren().filter(et=>!x(et)),m.target,E,!0);G&&(G.focus({preventScroll:!0}),Fn.getOrCreateInstance(G).show())}_getChildren(){return K.find(Us,this._parent)}_getActiveElem(){return this._getChildren().find(m=>this._elemIsActive(m))||null}_setInitialAttributes(m,E){this._setAttributeIfNotExists(m,"role","tablist");for(const G of E)this._setInitialAttributesOnChild(G)}_setInitialAttributesOnChild(m){m=this._getInnerElement(m);const E=this._elemIsActive(m),G=this._getOuterElement(m);m.setAttribute("aria-selected",E),G!==m&&this._setAttributeIfNotExists(G,"role","presentation"),E||m.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(m,"role","tab"),this._setInitialAttributesOnTargetPanel(m)}_setInitialAttributesOnTargetPanel(m){const E=h(m);E&&(this._setAttributeIfNotExists(E,"role","tabpanel"),m.id&&this._setAttributeIfNotExists(E,"aria-labelledby",`#${m.id}`))}_toggleDropDown(m,E){const G=this._getOuterElement(m);if(!G.classList.contains("dropdown"))return;const et=(rt,ct)=>{const Pt=K.findOne(rt,G);Pt&&Pt.classList.toggle(ct,E)};et(".dropdown-toggle",Sa),et(".dropdown-menu",Hs),G.setAttribute("aria-expanded",E)}_setAttributeIfNotExists(m,E,G){m.hasAttribute(E)||m.setAttribute(E,G)}_elemIsActive(m){return m.classList.contains(Sa)}_getInnerElement(m){return m.matches(Us)?m:K.findOne(Us,m)}_getOuterElement(m){return m.closest(".nav-item, .list-group-item")||m}static jQueryInterface(m){return this.each(function(){const E=Fn.getOrCreateInstance(this);if(typeof m=="string"){if(E[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);E[m]()}})}}d.on(document,"click.bs.tab",Vf,function(F){["A","AREA"].includes(this.tagName)&&F.preventDefault(),x(this)||Fn.getOrCreateInstance(this).show()}),d.on(window,"load.bs.tab",()=>{for(const F of K.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Fn.getOrCreateInstance(F)}),$(Fn);const Df="hide",Aa="show",Ta="showing",ky={animation:"boolean",autohide:"boolean",delay:"number"},Oy={animation:!0,autohide:!0,delay:5e3};class or extends X{constructor(m,E){super(m,E),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Oy}static get DefaultType(){return ky}static get NAME(){return"toast"}show(){d.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Df),A(this._element),this._element.classList.add(Aa,Ta),this._queueCallback(()=>{this._element.classList.remove(Ta),d.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(d.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Ta),this._queueCallback(()=>{this._element.classList.add(Df),this._element.classList.remove(Ta,Aa),d.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Aa),super.dispose()}isShown(){return this._element.classList.contains(Aa)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(m,E){switch(m.type){case"mouseover":case"mouseout":this._hasMouseInteraction=E;break;case"focusin":case"focusout":this._hasKeyboardInteraction=E}if(E)return void this._clearTimeout();const G=m.relatedTarget;this._element===G||this._element.contains(G)||this._maybeScheduleHide()}_setListeners(){d.on(this._element,"mouseover.bs.toast",m=>this._onInteraction(m,!0)),d.on(this._element,"mouseout.bs.toast",m=>this._onInteraction(m,!1)),d.on(this._element,"focusin.bs.toast",m=>this._onInteraction(m,!0)),d.on(this._element,"focusout.bs.toast",m=>this._onInteraction(m,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(m){return this.each(function(){const E=or.getOrCreateInstance(this,m);if(typeof m=="string"){if(E[m]===void 0)throw new TypeError(`No method named "${m}"`);E[m](this)}})}}return D(or),$(or),{Alert:q,Button:tt,Carousel:It,Collapse:qt,Dropdown:De,Modal:In,Offcanvas:sn,Popover:wa,ScrollSpy:ar,Tab:Fn,Toast:or,Tooltip:Gn}})})(Vy);function Cv(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Du={},Pv={get exports(){return Du},set exports(t){Du=t}},Ev="5.16.0";function kn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Wc(t){return t.length===1&&(t=Lv(t)),{left:function(e,n,r,o){for(r==null&&(r=0),o==null&&(o=e.length);r<o;){var u=r+o>>>1;t(e[u],n)<0?r=u+1:o=u}return r},right:function(e,n,r,o){for(r==null&&(r=0),o==null&&(o=e.length);r<o;){var u=r+o>>>1;t(e[u],n)>0?o=u:r=u+1}return r}}}function Lv(t){return function(e,n){return kn(t(e),n)}}var Ip=Wc(kn),Tn=Ip.right,Mv=Ip.left;function $v(t,e){e==null&&(e=Gp);for(var n=0,r=t.length-1,o=t[0],u=new Array(r<0?0:r);n<r;)u[n]=e(o,o=t[++n]);return u}function Gp(t,e){return[t,e]}function kv(t,e,n){var r=t.length,o=e.length,u=new Array(r*o),l,f,h,p;for(n==null&&(n=Gp),l=h=0;l<r;++l)for(p=t[l],f=0;f<o;++f,++h)u[h]=n(p,e[f]);return u}function Ov(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Cn(t){return t===null?NaN:+t}function Fp(t,e){var n=t.length,r=0,o=-1,u=0,l,f,h=0;if(e==null)for(;++o<n;)isNaN(l=Cn(t[o]))||(f=l-u,u+=f/++r,h+=f*(l-u));else for(;++o<n;)isNaN(l=Cn(e(t[o],o,t)))||(f=l-u,u+=f/++r,h+=f*(l-u));if(r>1)return h/(r-1)}function zp(t,e){var n=Fp(t,e);return n&&Math.sqrt(n)}function qc(t,e){var n=t.length,r=-1,o,u,l;if(e==null){for(;++r<n;)if((o=t[r])!=null&&o>=o)for(u=l=o;++r<n;)(o=t[r])!=null&&(u>o&&(u=o),l<o&&(l=o))}else for(;++r<n;)if((o=e(t[r],r,t))!=null&&o>=o)for(u=l=o;++r<n;)(o=e(t[r],r,t))!=null&&(u>o&&(u=o),l<o&&(l=o));return[u,l]}var Bp=Array.prototype,Rv=Bp.slice,Nv=Bp.map;function Ea(t){return function(){return t}}function Vv(t){return t}function Ae(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,u=new Array(o);++r<o;)u[r]=t+r*n;return u}var Iu=Math.sqrt(50),Gu=Math.sqrt(10),Fu=Math.sqrt(2);function jc(t,e,n){var r,o=-1,u,l,f;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(u=t,t=e,e=u),(f=Dr(t,e,n))===0||!isFinite(f))return[];if(f>0)for(t=Math.ceil(t/f),e=Math.floor(e/f),l=new Array(u=Math.ceil(e-t+1));++o<u;)l[o]=(t+o)*f;else for(t=Math.floor(t*f),e=Math.ceil(e*f),l=new Array(u=Math.ceil(t-e+1));++o<u;)l[o]=(t-o)/f;return r&&l.reverse(),l}function Dr(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,o);return o>=0?(u>=Iu?10:u>=Gu?5:u>=Fu?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(u>=Iu?10:u>=Gu?5:u>=Fu?2:1)}function ti(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/o;return u>=Iu?o*=10:u>=Gu?o*=5:u>=Fu&&(o*=2),e<t?-o:o}function Qc(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function Dv(){var t=Vv,e=qc,n=Qc;function r(o){var u,l=o.length,f,h=new Array(l);for(u=0;u<l;++u)h[u]=t(o[u],u,o);var p=e(h),g=p[0],y=p[1],_=n(h,g,y);Array.isArray(_)||(_=ti(g,y,_),_=Ae(Math.ceil(g/_)*_,y,_));for(var x=_.length;_[0]<=g;)_.shift(),--x;for(;_[x-1]>y;)_.pop(),--x;var S=new Array(x+1),w;for(u=0;u<=x;++u)w=S[u]=[],w.x0=u>0?_[u-1]:g,w.x1=u<x?_[u]:y;for(u=0;u<l;++u)f=h[u],g<=f&&f<=y&&S[Tn(_,f,0,x)].push(o[u]);return S}return r.value=function(o){return arguments.length?(t=typeof o=="function"?o:Ea(o),r):t},r.domain=function(o){return arguments.length?(e=typeof o=="function"?o:Ea([o[0],o[1]]),r):e},r.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:Array.isArray(o)?Ea(Rv.call(o)):Ea(o),r):n},r}function Xr(t,e,n){if(n==null&&(n=Cn),!!(r=t.length)){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,o=(r-1)*e,u=Math.floor(o),l=+n(t[u],u,t),f=+n(t[u+1],u+1,t);return l+(f-l)*(o-u)}}function Iv(t,e,n){return t=Nv.call(t,Cn).sort(kn),Math.ceil((n-e)/(2*(Xr(t,.75)-Xr(t,.25))*Math.pow(t.length,-1/3)))}function Gv(t,e,n){return Math.ceil((n-e)/(3.5*zp(t)*Math.pow(t.length,-1/3)))}function Xp(t,e){var n=t.length,r=-1,o,u;if(e==null){for(;++r<n;)if((o=t[r])!=null&&o>=o)for(u=o;++r<n;)(o=t[r])!=null&&o>u&&(u=o)}else for(;++r<n;)if((o=e(t[r],r,t))!=null&&o>=o)for(u=o;++r<n;)(o=e(t[r],r,t))!=null&&o>u&&(u=o);return u}function Fv(t,e){var n=t.length,r=n,o=-1,u,l=0;if(e==null)for(;++o<n;)isNaN(u=Cn(t[o]))?--r:l+=u;else for(;++o<n;)isNaN(u=Cn(e(t[o],o,t)))?--r:l+=u;if(r)return l/r}function zv(t,e){var n=t.length,r=-1,o,u=[];if(e==null)for(;++r<n;)isNaN(o=Cn(t[r]))||u.push(o);else for(;++r<n;)isNaN(o=Cn(e(t[r],r,t)))||u.push(o);return Xr(u.sort(kn),.5)}function Zc(t){for(var e=t.length,n,r=-1,o=0,u,l;++r<e;)o+=t[r].length;for(u=new Array(o);--e>=0;)for(l=t[e],n=l.length;--n>=0;)u[--o]=l[n];return u}function Yp(t,e){var n=t.length,r=-1,o,u;if(e==null){for(;++r<n;)if((o=t[r])!=null&&o>=o)for(u=o;++r<n;)(o=t[r])!=null&&u>o&&(u=o)}else for(;++r<n;)if((o=e(t[r],r,t))!=null&&o>=o)for(u=o;++r<n;)(o=e(t[r],r,t))!=null&&u>o&&(u=o);return u}function Bv(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}function Xv(t,e){if(n=t.length){var n,r=0,o=0,u,l=t[o];for(e==null&&(e=kn);++r<n;)(e(u=t[r],l)<0||e(l,l)!==0)&&(l=u,o=r);if(e(l,l)===0)return o}}function Yv(t,e,n){for(var r=(n??t.length)-(e=e==null?0:+e),o,u;r;)u=Math.random()*r--|0,o=t[r+e],t[r+e]=t[u+e],t[u+e]=o;return t}function Hv(t,e){var n=t.length,r=-1,o,u=0;if(e==null)for(;++r<n;)(o=+t[r])&&(u+=o);else for(;++r<n;)(o=+e(t[r],r,t))&&(u+=o);return u}function Hp(t){if(!(u=t.length))return[];for(var e=-1,n=Yp(t,Uv),r=new Array(n);++e<n;)for(var o=-1,u,l=r[e]=new Array(u);++o<u;)l[o]=t[o][e];return r}function Uv(t){return t.length}function Wv(){return Hp(arguments)}var Ws=Array.prototype.slice;function qv(t){return t}var ja=1,Qa=2,zu=3,vr=4,Wf=1e-6;function jv(t){return"translate("+(t+.5)+",0)"}function Qv(t){return"translate(0,"+(t+.5)+")"}function Zv(t){return function(e){return+t(e)}}function Kv(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function Jv(){return!this.__axis}function us(t,e){var n=[],r=null,o=null,u=6,l=6,f=3,h=t===ja||t===vr?-1:1,p=t===vr||t===Qa?"x":"y",g=t===ja||t===zu?jv:Qv;function y(_){var x=r??(e.ticks?e.ticks.apply(e,n):e.domain()),S=o??(e.tickFormat?e.tickFormat.apply(e,n):qv),w=Math.max(u,0)+f,A=e.range(),C=+A[0]+.5,k=+A[A.length-1]+.5,M=(e.bandwidth?Kv:Zv)(e.copy()),$=_.selection?_.selection():_,I=$.selectAll(".domain").data([null]),B=$.selectAll(".tick").data(x,e).order(),z=B.exit(),Q=B.enter().append("g").attr("class","tick"),Y=B.select("line"),T=B.select("text");I=I.merge(I.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),B=B.merge(Q),Y=Y.merge(Q.append("line").attr("stroke","currentColor").attr(p+"2",h*u)),T=T.merge(Q.append("text").attr("fill","currentColor").attr(p,h*w).attr("dy",t===ja?"0em":t===zu?"0.71em":"0.32em")),_!==$&&(I=I.transition(_),B=B.transition(_),Y=Y.transition(_),T=T.transition(_),z=z.transition(_).attr("opacity",Wf).attr("transform",function(W){return isFinite(W=M(W))?g(W):this.getAttribute("transform")}),Q.attr("opacity",Wf).attr("transform",function(W){var O=this.parentNode.__axis;return g(O&&isFinite(O=O(W))?O:M(W))})),z.remove(),I.attr("d",t===vr||t==Qa?l?"M"+h*l+","+C+"H0.5V"+k+"H"+h*l:"M0.5,"+C+"V"+k:l?"M"+C+","+h*l+"V0.5H"+k+"V"+h*l:"M"+C+",0.5H"+k),B.attr("opacity",1).attr("transform",function(W){return g(M(W))}),Y.attr(p+"2",h*u),T.attr(p,h*w).text(S),$.filter(Jv).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Qa?"start":t===vr?"end":"middle"),$.each(function(){this.__axis=M})}return y.scale=function(_){return arguments.length?(e=_,y):e},y.ticks=function(){return n=Ws.call(arguments),y},y.tickArguments=function(_){return arguments.length?(n=_==null?[]:Ws.call(_),y):n.slice()},y.tickValues=function(_){return arguments.length?(r=_==null?null:Ws.call(_),y):r&&r.slice()},y.tickFormat=function(_){return arguments.length?(o=_,y):o},y.tickSize=function(_){return arguments.length?(u=l=+_,y):u},y.tickSizeInner=function(_){return arguments.length?(u=+_,y):u},y.tickSizeOuter=function(_){return arguments.length?(l=+_,y):l},y.tickPadding=function(_){return arguments.length?(f=+_,y):f},y}function tx(t){return us(ja,t)}function ex(t){return us(Qa,t)}function nx(t){return us(zu,t)}function ix(t){return us(vr,t)}var rx={value:function(){}};function hi(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Za(n)}function Za(t){this._=t}function ax(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Za.prototype=hi.prototype={constructor:Za,on:function(t,e){var n=this._,r=ax(t+"",n),o,u=-1,l=r.length;if(arguments.length<2){for(;++u<l;)if((o=(t=r[u]).type)&&(o=ox(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++u<l;)if(o=(t=r[u]).type)n[o]=qf(n[o],t.name,e);else if(e==null)for(o in n)n[o]=qf(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Za(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,u;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],r=0,o=u.length;r<o;++r)u[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,u=r.length;o<u;++o)r[o].value.apply(e,n)}};function ox(t,e){for(var n=0,r=t.length,o;n<r;++n)if((o=t[n]).name===e)return o.value}function qf(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=rx,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Bu="http://www.w3.org/1999/xhtml";const Xu={svg:"http://www.w3.org/2000/svg",xhtml:Bu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function la(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Xu.hasOwnProperty(e)?{space:Xu[e],local:t}:t}function sx(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Bu&&e.documentElement.namespaceURI===Bu?e.createElement(t):e.createElementNS(n,t)}}function ux(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function cs(t){var e=la(t);return(e.local?ux:sx)(e)}function cx(){}function ls(t){return t==null?cx:function(){return this.querySelector(t)}}function lx(t){typeof t!="function"&&(t=ls(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u=e[o],l=u.length,f=r[o]=new Array(l),h,p,g=0;g<l;++g)(h=u[g])&&(p=t.call(h,h.__data__,g,u))&&("__data__"in h&&(p.__data__=h.__data__),f[g]=p);return new le(r,this._parents)}function fx(){return[]}function Kc(t){return t==null?fx:function(){return this.querySelectorAll(t)}}function hx(t){typeof t!="function"&&(t=Kc(t));for(var e=this._groups,n=e.length,r=[],o=[],u=0;u<n;++u)for(var l=e[u],f=l.length,h,p=0;p<f;++p)(h=l[p])&&(r.push(t.call(h,h.__data__,p,l)),o.push(h));return new le(r,o)}function Jc(t){return function(){return this.matches(t)}}function dx(t){typeof t!="function"&&(t=Jc(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u=e[o],l=u.length,f=r[o]=[],h,p=0;p<l;++p)(h=u[p])&&t.call(h,h.__data__,p,u)&&f.push(h);return new le(r,this._parents)}function Up(t){return new Array(t.length)}function px(){return new le(this._enter||this._groups.map(Up),this._parents)}function so(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}so.prototype={constructor:so,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function gx(t){return function(){return t}}var jf="$";function _x(t,e,n,r,o,u){for(var l=0,f,h=e.length,p=u.length;l<p;++l)(f=e[l])?(f.__data__=u[l],r[l]=f):n[l]=new so(t,u[l]);for(;l<h;++l)(f=e[l])&&(o[l]=f)}function mx(t,e,n,r,o,u,l){var f,h,p={},g=e.length,y=u.length,_=new Array(g),x;for(f=0;f<g;++f)(h=e[f])&&(_[f]=x=jf+l.call(h,h.__data__,f,e),x in p?o[f]=h:p[x]=h);for(f=0;f<y;++f)x=jf+l.call(t,u[f],f,u),(h=p[x])?(r[f]=h,h.__data__=u[f],p[x]=null):n[f]=new so(t,u[f]);for(f=0;f<g;++f)(h=e[f])&&p[_[f]]===h&&(o[f]=h)}function yx(t,e){if(!t)return x=new Array(this.size()),p=-1,this.each(function(B){x[++p]=B}),x;var n=e?mx:_x,r=this._parents,o=this._groups;typeof t!="function"&&(t=gx(t));for(var u=o.length,l=new Array(u),f=new Array(u),h=new Array(u),p=0;p<u;++p){var g=r[p],y=o[p],_=y.length,x=t.call(g,g&&g.__data__,p,r),S=x.length,w=f[p]=new Array(S),A=l[p]=new Array(S),C=h[p]=new Array(_);n(g,y,w,A,C,x,e);for(var k=0,M=0,$,I;k<S;++k)if($=w[k]){for(k>=M&&(M=k+1);!(I=A[M])&&++M<S;);$._next=I||null}}return l=new le(l,r),l._enter=f,l._exit=h,l}function vx(){return new le(this._exit||this._groups.map(Up),this._parents)}function xx(t,e,n){var r=this.enter(),o=this,u=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(o=e(o)),n==null?u.remove():n(u),r&&o?r.merge(o).order():o}function bx(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,u=Math.min(r,o),l=new Array(r),f=0;f<u;++f)for(var h=e[f],p=n[f],g=h.length,y=l[f]=new Array(g),_,x=0;x<g;++x)(_=h[x]||p[x])&&(y[x]=_);for(;f<r;++f)l[f]=e[f];return new le(l,this._parents)}function wx(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],o=r.length-1,u=r[o],l;--o>=0;)(l=r[o])&&(u&&l.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(l,u),u=l);return this}function Sx(t){t||(t=Ax);function e(y,_){return y&&_?t(y.__data__,_.__data__):!y-!_}for(var n=this._groups,r=n.length,o=new Array(r),u=0;u<r;++u){for(var l=n[u],f=l.length,h=o[u]=new Array(f),p,g=0;g<f;++g)(p=l[g])&&(h[g]=p);h.sort(e)}return new le(o,this._parents).order()}function Ax(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Tx(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Cx(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function Px(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,u=r.length;o<u;++o){var l=r[o];if(l)return l}return null}function Ex(){var t=0;return this.each(function(){++t}),t}function Lx(){return!this.node()}function Mx(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],u=0,l=o.length,f;u<l;++u)(f=o[u])&&t.call(f,f.__data__,u,o);return this}function $x(t){return function(){this.removeAttribute(t)}}function kx(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ox(t,e){return function(){this.setAttribute(t,e)}}function Rx(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Nx(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Vx(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Dx(t,e){var n=la(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?kx:$x:typeof e=="function"?n.local?Vx:Nx:n.local?Rx:Ox)(n,e))}function tl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ix(t){return function(){this.style.removeProperty(t)}}function Gx(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Fx(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function zx(t,e,n){return arguments.length>1?this.each((e==null?Ix:typeof e=="function"?Fx:Gx)(t,e,n??"")):ei(this.node(),t)}function ei(t,e){return t.style.getPropertyValue(e)||tl(t).getComputedStyle(t,null).getPropertyValue(e)}function Bx(t){return function(){delete this[t]}}function Xx(t,e){return function(){this[t]=e}}function Yx(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Hx(t,e){return arguments.length>1?this.each((e==null?Bx:typeof e=="function"?Yx:Xx)(t,e)):this.node()[t]}function Wp(t){return t.trim().split(/^|\s+/)}function el(t){return t.classList||new qp(t)}function qp(t){this._node=t,this._names=Wp(t.getAttribute("class")||"")}qp.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function jp(t,e){for(var n=el(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function Qp(t,e){for(var n=el(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function Ux(t){return function(){jp(this,t)}}function Wx(t){return function(){Qp(this,t)}}function qx(t,e){return function(){(e.apply(this,arguments)?jp:Qp)(this,t)}}function jx(t,e){var n=Wp(t+"");if(arguments.length<2){for(var r=el(this.node()),o=-1,u=n.length;++o<u;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?qx:e?Ux:Wx)(n,e))}function Qx(){this.textContent=""}function Zx(t){return function(){this.textContent=t}}function Kx(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Jx(t){return arguments.length?this.each(t==null?Qx:(typeof t=="function"?Kx:Zx)(t)):this.node().textContent}function t1(){this.innerHTML=""}function e1(t){return function(){this.innerHTML=t}}function n1(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function i1(t){return arguments.length?this.each(t==null?t1:(typeof t=="function"?n1:e1)(t)):this.node().innerHTML}function r1(){this.nextSibling&&this.parentNode.appendChild(this)}function a1(){return this.each(r1)}function o1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function s1(){return this.each(o1)}function u1(t){var e=typeof t=="function"?t:cs(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function c1(){return null}function l1(t,e){var n=typeof t=="function"?t:cs(t),r=e==null?c1:typeof e=="function"?e:ls(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function f1(){var t=this.parentNode;t&&t.removeChild(this)}function h1(){return this.each(f1)}function d1(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function p1(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function g1(t){return this.select(t?p1:d1)}function _1(t){return arguments.length?this.property("__data__",t):this.node().__data__}var Zp={},st=null;if(typeof document<"u"){var m1=document.documentElement;"onmouseenter"in m1||(Zp={mouseenter:"mouseover",mouseleave:"mouseout"})}function y1(t,e,n){return t=Kp(t,e,n),function(r){var o=r.relatedTarget;(!o||o!==this&&!(o.compareDocumentPosition(this)&8))&&t.call(this,r)}}function Kp(t,e,n){return function(r){var o=st;st=r;try{t.call(this,this.__data__,e,n)}finally{st=o}}}function v1(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function x1(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,o=e.length,u;n<o;++n)u=e[n],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.capture):e[++r]=u;++r?e.length=r:delete this.__on}}}function b1(t,e,n){var r=Zp.hasOwnProperty(t.type)?y1:Kp;return function(o,u,l){var f=this.__on,h,p=r(e,u,l);if(f){for(var g=0,y=f.length;g<y;++g)if((h=f[g]).type===t.type&&h.name===t.name){this.removeEventListener(h.type,h.listener,h.capture),this.addEventListener(h.type,h.listener=p,h.capture=n),h.value=e;return}}this.addEventListener(t.type,p,n),h={type:t.type,name:t.name,value:e,listener:p,capture:n},f?f.push(h):this.__on=[h]}}function w1(t,e,n){var r=v1(t+""),o,u=r.length,l;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,p=f.length,g;h<p;++h)for(o=0,g=f[h];o<u;++o)if((l=r[o]).type===g.type&&l.name===g.name)return g.value}return}for(f=e?b1:x1,n==null&&(n=!1),o=0;o<u;++o)this.each(f(r[o],e,n));return this}function Yr(t,e,n,r){var o=st;t.sourceEvent=st,st=t;try{return e.apply(n,r)}finally{st=o}}function Jp(t,e,n){var r=tl(t),o=r.CustomEvent;typeof o=="function"?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function S1(t,e){return function(){return Jp(this,t,e)}}function A1(t,e){return function(){return Jp(this,t,e.apply(this,arguments))}}function T1(t,e){return this.each((typeof e=="function"?A1:S1)(t,e))}var nl=[null];function le(t,e){this._groups=t,this._parents=e}function di(){return new le([[document.documentElement]],nl)}le.prototype=di.prototype={constructor:le,select:lx,selectAll:hx,filter:dx,data:yx,enter:px,exit:vx,join:xx,merge:bx,order:wx,sort:Sx,call:Tx,nodes:Cx,node:Px,size:Ex,empty:Lx,each:Mx,attr:Dx,style:zx,property:Hx,classed:jx,text:Jx,html:i1,raise:a1,lower:s1,append:u1,insert:l1,remove:h1,clone:g1,datum:_1,on:w1,dispatch:T1};function ye(t){return typeof t=="string"?new le([[document.querySelector(t)]],[document.documentElement]):new le([[t]],nl)}function C1(t){return ye(cs(t).call(document.documentElement))}var P1=0;function tg(){return new Yu}function Yu(){this._="@"+(++P1).toString(36)}Yu.prototype=tg.prototype={constructor:Yu,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function il(){for(var t=st,e;e=t.sourceEvent;)t=e;return t}function fs(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function qn(t){var e=il();return e.changedTouches&&(e=e.changedTouches[0]),fs(t,e)}function E1(t){return typeof t=="string"?new le([document.querySelectorAll(t)],[document.documentElement]):new le([t??[]],nl)}function Hr(t,e,n){arguments.length<3&&(n=e,e=il().changedTouches);for(var r=0,o=e?e.length:0,u;r<o;++r)if((u=e[r]).identifier===n)return fs(t,u);return null}function L1(t,e){e==null&&(e=il().touches);for(var n=0,r=e?e.length:0,o=new Array(r);n<r;++n)o[n]=fs(t,e[n]);return o}function qs(){st.stopImmediatePropagation()}function Li(){st.preventDefault(),st.stopImmediatePropagation()}function hs(t){var e=t.document.documentElement,n=ye(t).on("dragstart.drag",Li,!0);"onselectstart"in e?n.on("selectstart.drag",Li,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ds(t,e){var n=t.document.documentElement,r=ye(t).on("dragstart.drag",null);e&&(r.on("click.drag",Li,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function La(t){return function(){return t}}function Hu(t,e,n,r,o,u,l,f,h,p){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=o,this.x=u,this.y=l,this.dx=f,this.dy=h,this._=p}Hu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function M1(){return!st.ctrlKey&&!st.button}function $1(){return this.parentNode}function k1(t){return t??{x:st.x,y:st.y}}function O1(){return navigator.maxTouchPoints||"ontouchstart"in this}function R1(){var t=M1,e=$1,n=k1,r=O1,o={},u=hi("start","drag","end"),l=0,f,h,p,g,y=0;function _($){$.on("mousedown.drag",x).filter(r).on("touchstart.drag",A).on("touchmove.drag",C).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(){if(!(g||!t.apply(this,arguments))){var $=M("mouse",e.apply(this,arguments),qn,this,arguments);$&&(ye(st.view).on("mousemove.drag",S,!0).on("mouseup.drag",w,!0),hs(st.view),qs(),p=!1,f=st.clientX,h=st.clientY,$("start"))}}function S(){if(Li(),!p){var $=st.clientX-f,I=st.clientY-h;p=$*$+I*I>y}o.mouse("drag")}function w(){ye(st.view).on("mousemove.drag mouseup.drag",null),ds(st.view,p),Li(),o.mouse("end")}function A(){if(t.apply(this,arguments)){var $=st.changedTouches,I=e.apply(this,arguments),B=$.length,z,Q;for(z=0;z<B;++z)(Q=M($[z].identifier,I,Hr,this,arguments))&&(qs(),Q("start"))}}function C(){var $=st.changedTouches,I=$.length,B,z;for(B=0;B<I;++B)(z=o[$[B].identifier])&&(Li(),z("drag"))}function k(){var $=st.changedTouches,I=$.length,B,z;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),B=0;B<I;++B)(z=o[$[B].identifier])&&(qs(),z("end"))}function M($,I,B,z,Q){var Y=B(I,$),T,W,O,H=u.copy();if(Yr(new Hu(_,"beforestart",T,$,l,Y[0],Y[1],0,0,H),function(){return(st.subject=T=n.apply(z,Q))==null?!1:(W=T.x-Y[0]||0,O=T.y-Y[1]||0,!0)}))return function J(U){var Z=Y,it;switch(U){case"start":o[$]=J,it=l++;break;case"end":delete o[$],--l;case"drag":Y=B(I,$),it=l;break}Yr(new Hu(_,U,T,$,it,Y[0]+W,Y[1]+O,Y[0]-Z[0],Y[1]-Z[1],H),H.apply,H,[U,z,Q])}}return _.filter=function($){return arguments.length?(t=typeof $=="function"?$:La(!!$),_):t},_.container=function($){return arguments.length?(e=typeof $=="function"?$:La($),_):e},_.subject=function($){return arguments.length?(n=typeof $=="function"?$:La($),_):n},_.touchable=function($){return arguments.length?(r=typeof $=="function"?$:La(!!$),_):r},_.on=function(){var $=u.on.apply(u,arguments);return $===u?_:$},_.clickDistance=function($){return arguments.length?(y=($=+$)*$,_):Math.sqrt(y)},_}function Ki(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fa(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function On(){}var ni=.7,Fi=1/ni,Mi="\\s*([+-]?\\d+)\\s*",Ur="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",en="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N1=/^#([0-9a-f]{3,8})$/,V1=new RegExp("^rgb\\("+[Mi,Mi,Mi]+"\\)$"),D1=new RegExp("^rgb\\("+[en,en,en]+"\\)$"),I1=new RegExp("^rgba\\("+[Mi,Mi,Mi,Ur]+"\\)$"),G1=new RegExp("^rgba\\("+[en,en,en,Ur]+"\\)$"),F1=new RegExp("^hsl\\("+[Ur,en,en]+"\\)$"),z1=new RegExp("^hsla\\("+[Ur,en,en,Ur]+"\\)$"),Qf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ki(On,Pn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Zf,formatHex:Zf,formatHsl:B1,formatRgb:Kf,toString:Kf});function Zf(){return this.rgb().formatHex()}function B1(){return eg(this).formatHsl()}function Kf(){return this.rgb().formatRgb()}function Pn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=N1.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Jf(e):n===3?new jt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ma(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ma(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=V1.exec(t))?new jt(e[1],e[2],e[3],1):(e=D1.exec(t))?new jt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=I1.exec(t))?Ma(e[1],e[2],e[3],e[4]):(e=G1.exec(t))?Ma(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=F1.exec(t))?nh(e[1],e[2]/100,e[3]/100,1):(e=z1.exec(t))?nh(e[1],e[2]/100,e[3]/100,e[4]):Qf.hasOwnProperty(t)?Jf(Qf[t]):t==="transparent"?new jt(NaN,NaN,NaN,0):null}function Jf(t){return new jt(t>>16&255,t>>8&255,t&255,1)}function Ma(t,e,n,r){return r<=0&&(t=e=n=NaN),new jt(t,e,n,r)}function rl(t){return t instanceof On||(t=Pn(t)),t?(t=t.rgb(),new jt(t.r,t.g,t.b,t.opacity)):new jt}function zi(t,e,n,r){return arguments.length===1?rl(t):new jt(t,e,n,r??1)}function jt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ki(jt,zi,fa(On,{brighter:function(t){return t=t==null?Fi:Math.pow(Fi,t),new jt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?ni:Math.pow(ni,t),new jt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:th,formatHex:th,formatRgb:eh,toString:eh}));function th(){return"#"+js(this.r)+js(this.g)+js(this.b)}function eh(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function js(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function nh(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qe(t,e,n,r)}function eg(t){if(t instanceof Qe)return new Qe(t.h,t.s,t.l,t.opacity);if(t instanceof On||(t=Pn(t)),!t)return new Qe;if(t instanceof Qe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),u=Math.max(e,n,r),l=NaN,f=u-o,h=(u+o)/2;return f?(e===u?l=(n-r)/f+(n<r)*6:n===u?l=(r-e)/f+2:l=(e-n)/f+4,f/=h<.5?u+o:2-u-o,l*=60):f=h>0&&h<1?0:l,new Qe(l,f,h,t.opacity)}function uo(t,e,n,r){return arguments.length===1?eg(t):new Qe(t,e,n,r??1)}function Qe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ki(Qe,uo,fa(On,{brighter:function(t){return t=t==null?Fi:Math.pow(Fi,t),new Qe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?ni:Math.pow(ni,t),new Qe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new jt(Qs(t>=240?t-240:t+120,o,r),Qs(t,o,r),Qs(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Qs(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var ng=Math.PI/180,ig=180/Math.PI,co=18,rg=.96422,ag=1,og=.82521,sg=4/29,$i=6/29,ug=3*$i*$i,X1=$i*$i*$i;function cg(t){if(t instanceof Xe)return new Xe(t.l,t.a,t.b,t.opacity);if(t instanceof Je)return fg(t);t instanceof jt||(t=rl(t));var e=tu(t.r),n=tu(t.g),r=tu(t.b),o=Zs((.2225045*e+.7168786*n+.0606169*r)/ag),u,l;return e===n&&n===r?u=l=o:(u=Zs((.4360747*e+.3850649*n+.1430804*r)/rg),l=Zs((.0139322*e+.0971045*n+.7141733*r)/og)),new Xe(116*o-16,500*(u-o),200*(o-l),t.opacity)}function Y1(t,e){return new Xe(t,0,0,e??1)}function lo(t,e,n,r){return arguments.length===1?cg(t):new Xe(t,e,n,r??1)}function Xe(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Ki(Xe,lo,fa(On,{brighter:function(t){return new Xe(this.l+co*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new Xe(this.l-co*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=rg*Ks(e),t=ag*Ks(t),n=og*Ks(n),new jt(Js(3.1338561*e-1.6168667*t-.4906146*n),Js(-.9787684*e+1.9161415*t+.033454*n),Js(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Zs(t){return t>X1?Math.pow(t,1/3):t/ug+sg}function Ks(t){return t>$i?t*t*t:ug*(t-sg)}function Js(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function tu(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function lg(t){if(t instanceof Je)return new Je(t.h,t.c,t.l,t.opacity);if(t instanceof Xe||(t=cg(t)),t.a===0&&t.b===0)return new Je(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ig;return new Je(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function H1(t,e,n,r){return arguments.length===1?lg(t):new Je(n,e,t,r??1)}function fo(t,e,n,r){return arguments.length===1?lg(t):new Je(t,e,n,r??1)}function Je(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function fg(t){if(isNaN(t.h))return new Xe(t.l,0,0,t.opacity);var e=t.h*ng;return new Xe(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ki(Je,fo,fa(On,{brighter:function(t){return new Je(this.h,this.c,this.l+co*(t??1),this.opacity)},darker:function(t){return new Je(this.h,this.c,this.l-co*(t??1),this.opacity)},rgb:function(){return fg(this).rgb()}}));var hg=-.14861,al=1.78277,ol=-.29227,ps=-.90649,Wr=1.97294,ih=Wr*ps,rh=Wr*al,ah=al*ol-ps*hg;function U1(t){if(t instanceof Qn)return new Qn(t.h,t.s,t.l,t.opacity);t instanceof jt||(t=rl(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(ah*r+ih*e-rh*n)/(ah+ih-rh),u=r-o,l=(Wr*(n-o)-ol*u)/ps,f=Math.sqrt(l*l+u*u)/(Wr*o*(1-o)),h=f?Math.atan2(l,u)*ig-120:NaN;return new Qn(h<0?h+360:h,f,o,t.opacity)}function Ye(t,e,n,r){return arguments.length===1?U1(t):new Qn(t,e,n,r??1)}function Qn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ki(Qn,Ye,fa(On,{brighter:function(t){return t=t==null?Fi:Math.pow(Fi,t),new Qn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?ni:Math.pow(ni,t),new Qn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ng,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new jt(255*(e+n*(hg*r+al*o)),255*(e+n*(ol*r+ps*o)),255*(e+n*(Wr*r)),this.opacity)}}));function dg(t,e,n,r,o){var u=t*t,l=u*t;return((1-3*t+3*u-l)*e+(4-6*u+3*l)*n+(1+3*t+3*u-3*l)*r+l*o)/6}function pg(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],u=t[r+1],l=r>0?t[r-1]:2*o-u,f=r<e-1?t[r+2]:2*u-o;return dg((n-r/e)*e,l,o,u,f)}}function gg(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],u=t[r%e],l=t[(r+1)%e],f=t[(r+2)%e];return dg((n-r/e)*e,o,u,l,f)}}function gs(t){return function(){return t}}function _g(t,e){return function(n){return t+n*e}}function W1(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _s(t,e){var n=e-t;return n?_g(t,n>180||n<-180?n-360*Math.round(n/360):n):gs(isNaN(t)?e:t)}function q1(t){return(t=+t)==1?Ut:function(e,n){return n-e?W1(e,n,t):gs(isNaN(e)?n:e)}}function Ut(t,e){var n=e-t;return n?_g(t,n):gs(isNaN(t)?e:t)}const qr=function t(e){var n=q1(e);function r(o,u){var l=n((o=zi(o)).r,(u=zi(u)).r),f=n(o.g,u.g),h=n(o.b,u.b),p=Ut(o.opacity,u.opacity);return function(g){return o.r=l(g),o.g=f(g),o.b=h(g),o.opacity=p(g),o+""}}return r.gamma=t,r}(1);function mg(t){return function(e){var n=e.length,r=new Array(n),o=new Array(n),u=new Array(n),l,f;for(l=0;l<n;++l)f=zi(e[l]),r[l]=f.r||0,o[l]=f.g||0,u[l]=f.b||0;return r=t(r),o=t(o),u=t(u),f.opacity=1,function(h){return f.r=r(h),f.g=o(h),f.b=u(h),f+""}}}var yg=mg(pg),j1=mg(gg);function sl(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),o;return function(u){for(o=0;o<n;++o)r[o]=t[o]*(1-u)+e[o]*u;return r}}function vg(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Q1(t,e){return(vg(e)?sl:xg)(t,e)}function xg(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),u=new Array(n),l;for(l=0;l<r;++l)o[l]=ha(t[l],e[l]);for(;l<n;++l)u[l]=e[l];return function(f){for(l=0;l<r;++l)u[l]=o[l](f);return u}}function bg(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ke(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wg(t,e){var n={},r={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=ha(t[o],e[o]):r[o]=e[o];return function(u){for(o in n)r[o]=n[o](u);return r}}var Uu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eu=new RegExp(Uu.source,"g");function Z1(t){return function(){return t}}function K1(t){return function(e){return t(e)+""}}function ul(t,e){var n=Uu.lastIndex=eu.lastIndex=0,r,o,u,l=-1,f=[],h=[];for(t=t+"",e=e+"";(r=Uu.exec(t))&&(o=eu.exec(e));)(u=o.index)>n&&(u=e.slice(n,u),f[l]?f[l]+=u:f[++l]=u),(r=r[0])===(o=o[0])?f[l]?f[l]+=o:f[++l]=o:(f[++l]=null,h.push({i:l,x:ke(r,o)})),n=eu.lastIndex;return n<e.length&&(u=e.slice(n),f[l]?f[l]+=u:f[++l]=u),f.length<2?h[0]?K1(h[0].x):Z1(e):(e=h.length,function(p){for(var g=0,y;g<e;++g)f[(y=h[g]).i]=y.x(p);return f.join("")})}function ha(t,e){var n=typeof e,r;return e==null||n==="boolean"?gs(e):(n==="number"?ke:n==="string"?(r=Pn(e))?(e=r,qr):ul:e instanceof Pn?qr:e instanceof Date?bg:vg(e)?sl:Array.isArray(e)?xg:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wg:ke)(t,e)}function J1(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function tb(t,e){var n=_s(+t,+e);return function(r){var o=n(r);return o-360*Math.floor(o/360)}}function Sg(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var oh=180/Math.PI,Wu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ag(t,e,n,r,o,u){var l,f,h;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,h/=f),t*r<e*n&&(t=-t,e=-e,h=-h,l=-l),{translateX:o,translateY:u,rotate:Math.atan2(e,t)*oh,skewX:Math.atan(h)*oh,scaleX:l,scaleY:f}}var ur,nu,sh,$a;function eb(t){return t==="none"?Wu:(ur||(ur=document.createElement("DIV"),nu=document.documentElement,sh=document.defaultView),ur.style.transform=t,t=sh.getComputedStyle(nu.appendChild(ur),null).getPropertyValue("transform"),nu.removeChild(ur),t=t.slice(7,-1).split(","),Ag(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function nb(t){return t==null||($a||($a=document.createElementNS("http://www.w3.org/2000/svg","g")),$a.setAttribute("transform",t),!(t=$a.transform.baseVal.consolidate()))?Wu:(t=t.matrix,Ag(t.a,t.b,t.c,t.d,t.e,t.f))}function Tg(t,e,n,r){function o(p){return p.length?p.pop()+" ":""}function u(p,g,y,_,x,S){if(p!==y||g!==_){var w=x.push("translate(",null,e,null,n);S.push({i:w-4,x:ke(p,y)},{i:w-2,x:ke(g,_)})}else(y||_)&&x.push("translate("+y+e+_+n)}function l(p,g,y,_){p!==g?(p-g>180?g+=360:g-p>180&&(p+=360),_.push({i:y.push(o(y)+"rotate(",null,r)-2,x:ke(p,g)})):g&&y.push(o(y)+"rotate("+g+r)}function f(p,g,y,_){p!==g?_.push({i:y.push(o(y)+"skewX(",null,r)-2,x:ke(p,g)}):g&&y.push(o(y)+"skewX("+g+r)}function h(p,g,y,_,x,S){if(p!==y||g!==_){var w=x.push(o(x)+"scale(",null,",",null,")");S.push({i:w-4,x:ke(p,y)},{i:w-2,x:ke(g,_)})}else(y!==1||_!==1)&&x.push(o(x)+"scale("+y+","+_+")")}return function(p,g){var y=[],_=[];return p=t(p),g=t(g),u(p.translateX,p.translateY,g.translateX,g.translateY,y,_),l(p.rotate,g.rotate,y,_),f(p.skewX,g.skewX,y,_),h(p.scaleX,p.scaleY,g.scaleX,g.scaleY,y,_),p=g=null,function(x){for(var S=-1,w=_.length,A;++S<w;)y[(A=_[S]).i]=A.x(x);return y.join("")}}}var Cg=Tg(eb,"px, ","px)","deg)"),Pg=Tg(nb,", ",")",")"),cr=Math.SQRT2,iu=2,uh=4,ib=1e-12;function ch(t){return((t=Math.exp(t))+1/t)/2}function rb(t){return((t=Math.exp(t))-1/t)/2}function ab(t){return((t=Math.exp(2*t))-1)/(t+1)}function Eg(t,e){var n=t[0],r=t[1],o=t[2],u=e[0],l=e[1],f=e[2],h=u-n,p=l-r,g=h*h+p*p,y,_;if(g<ib)_=Math.log(f/o)/cr,y=function(k){return[n+k*h,r+k*p,o*Math.exp(cr*k*_)]};else{var x=Math.sqrt(g),S=(f*f-o*o+uh*g)/(2*o*iu*x),w=(f*f-o*o-uh*g)/(2*f*iu*x),A=Math.log(Math.sqrt(S*S+1)-S),C=Math.log(Math.sqrt(w*w+1)-w);_=(C-A)/cr,y=function(k){var M=k*_,$=ch(A),I=o/(iu*x)*($*ab(cr*M+A)-rb(A));return[n+I*h,r+I*p,o*$/ch(cr*M+A)]}}return y.duration=_*1e3,y}function Lg(t){return function(e,n){var r=t((e=uo(e)).h,(n=uo(n)).h),o=Ut(e.s,n.s),u=Ut(e.l,n.l),l=Ut(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=o(f),e.l=u(f),e.opacity=l(f),e+""}}}const ob=Lg(_s);var sb=Lg(Ut);function ub(t,e){var n=Ut((t=lo(t)).l,(e=lo(e)).l),r=Ut(t.a,e.a),o=Ut(t.b,e.b),u=Ut(t.opacity,e.opacity);return function(l){return t.l=n(l),t.a=r(l),t.b=o(l),t.opacity=u(l),t+""}}function Mg(t){return function(e,n){var r=t((e=fo(e)).h,(n=fo(n)).h),o=Ut(e.c,n.c),u=Ut(e.l,n.l),l=Ut(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=o(f),e.l=u(f),e.opacity=l(f),e+""}}}const cb=Mg(_s);var lb=Mg(Ut);function $g(t){return function e(n){n=+n;function r(o,u){var l=t((o=Ye(o)).h,(u=Ye(u)).h),f=Ut(o.s,u.s),h=Ut(o.l,u.l),p=Ut(o.opacity,u.opacity);return function(g){return o.h=l(g),o.s=f(g),o.l=h(Math.pow(g,n)),o.opacity=p(g),o+""}}return r.gamma=e,r}(1)}const fb=$g(_s);var ms=$g(Ut);function hb(t,e){for(var n=0,r=e.length-1,o=e[0],u=new Array(r<0?0:r);n<r;)u[n]=t(o,o=e[++n]);return function(l){var f=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return u[f](l-f)}}function db(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Bi=0,xr=0,lr=0,kg=1e3,ho,br,po=0,ii=0,ys=0,jr=typeof performance=="object"&&performance.now?performance:Date,Og=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ji(){return ii||(Og(pb),ii=jr.now()+ys)}function pb(){ii=0}function Qr(){this._call=this._time=this._next=null}Qr.prototype=vs.prototype={constructor:Qr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ji():+n)+(e==null?0:+e),!this._next&&br!==this&&(br?br._next=this:ho=this,br=this),this._call=t,this._time=n,qu()},stop:function(){this._call&&(this._call=null,this._time=1/0,qu())}};function vs(t,e,n){var r=new Qr;return r.restart(t,e,n),r}function Rg(){Ji(),++Bi;for(var t=ho,e;t;)(e=ii-t._time)>=0&&t._call.call(null,e),t=t._next;--Bi}function lh(){ii=(po=jr.now())+ys,Bi=xr=0;try{Rg()}finally{Bi=0,_b(),ii=0}}function gb(){var t=jr.now(),e=t-po;e>kg&&(ys-=e,po=t)}function _b(){for(var t,e=ho,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ho=n);br=t,qu(r)}function qu(t){if(!Bi){xr&&(xr=clearTimeout(xr));var e=t-ii;e>24?(t<1/0&&(xr=setTimeout(lh,t-jr.now()-ys)),lr&&(lr=clearInterval(lr))):(lr||(po=jr.now(),lr=setInterval(gb,kg)),Bi=1,Og(lh))}}function ju(t,e,n){var r=new Qr;return e=e==null?0:+e,r.restart(function(o){r.stop(),t(o+e)},e,n),r}function mb(t,e,n){var r=new Qr,o=e;return e==null?(r.restart(t,e,n),r):(e=+e,n=n==null?Ji():+n,r.restart(function u(l){l+=o,r.restart(u,o+=e,n),t(l)},e,n),r)}var yb=hi("start","end","cancel","interrupt"),vb=[],Ng=0,Qu=1,Zu=2,Ka=3,fh=4,Ku=5,Ja=6;function xs(t,e,n,r,o,u){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;xb(t,n,{name:e,index:r,group:o,on:yb,tween:vb,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Ng})}function cl(t,e){var n=He(t,e);if(n.state>Ng)throw new Error("too late; already scheduled");return n}function gn(t,e){var n=He(t,e);if(n.state>Ka)throw new Error("too late; already running");return n}function He(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function xb(t,e,n){var r=t.__transition,o;r[e]=n,n.timer=vs(u,0,n.time);function u(p){n.state=Qu,n.timer.restart(l,n.delay,n.time),n.delay<=p&&l(p-n.delay)}function l(p){var g,y,_,x;if(n.state!==Qu)return h();for(g in r)if(x=r[g],x.name===n.name){if(x.state===Ka)return ju(l);x.state===fh?(x.state=Ja,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[g]):+g<e&&(x.state=Ja,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[g])}if(ju(function(){n.state===Ka&&(n.state=fh,n.timer.restart(f,n.delay,n.time),f(p))}),n.state=Zu,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Zu){for(n.state=Ka,o=new Array(_=n.tween.length),g=0,y=-1;g<_;++g)(x=n.tween[g].value.call(t,t.__data__,n.index,n.group))&&(o[++y]=x);o.length=y+1}}function f(p){for(var g=p<n.duration?n.ease.call(null,p/n.duration):(n.timer.restart(h),n.state=Ku,1),y=-1,_=o.length;++y<_;)o[y].call(t,g);n.state===Ku&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=Ja,n.timer.stop(),delete r[e];for(var p in r)return;delete t.__transition}}function Zn(t,e){var n=t.__transition,r,o,u=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((r=n[l]).name!==e){u=!1;continue}o=r.state>Zu&&r.state<Ku,r.state=Ja,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[l]}u&&delete t.__transition}}function bb(t){return this.each(function(){Zn(this,t)})}function wb(t,e){var n,r;return function(){var o=gn(this,t),u=o.tween;if(u!==n){r=n=u;for(var l=0,f=r.length;l<f;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}o.tween=r}}function Sb(t,e,n){var r,o;if(typeof n!="function")throw new Error;return function(){var u=gn(this,t),l=u.tween;if(l!==r){o=(r=l).slice();for(var f={name:e,value:n},h=0,p=o.length;h<p;++h)if(o[h].name===e){o[h]=f;break}h===p&&o.push(f)}u.tween=o}}function Ab(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=He(this.node(),n).tween,o=0,u=r.length,l;o<u;++o)if((l=r[o]).name===t)return l.value;return null}return this.each((e==null?wb:Sb)(n,t,e))}function ll(t,e,n){var r=t._id;return t.each(function(){var o=gn(this,r);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return He(o,r).value[e]}}function Vg(t,e){var n;return(typeof e=="number"?ke:e instanceof Pn?qr:(n=Pn(e))?(e=n,qr):ul)(t,e)}function Tb(t){return function(){this.removeAttribute(t)}}function Cb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pb(t,e,n){var r,o=n+"",u;return function(){var l=this.getAttribute(t);return l===o?null:l===r?u:u=e(r=l,n)}}function Eb(t,e,n){var r,o=n+"",u;return function(){var l=this.getAttributeNS(t.space,t.local);return l===o?null:l===r?u:u=e(r=l,n)}}function Lb(t,e,n){var r,o,u;return function(){var l,f=n(this),h;return f==null?void this.removeAttribute(t):(l=this.getAttribute(t),h=f+"",l===h?null:l===r&&h===o?u:(o=h,u=e(r=l,f)))}}function Mb(t,e,n){var r,o,u;return function(){var l,f=n(this),h;return f==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),h=f+"",l===h?null:l===r&&h===o?u:(o=h,u=e(r=l,f)))}}function $b(t,e){var n=la(t),r=n==="transform"?Pg:Vg;return this.attrTween(t,typeof e=="function"?(n.local?Mb:Lb)(n,r,ll(this,"attr."+t,e)):e==null?(n.local?Cb:Tb)(n):(n.local?Eb:Pb)(n,r,e))}function kb(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ob(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Rb(t,e){var n,r;function o(){var u=e.apply(this,arguments);return u!==r&&(n=(r=u)&&Ob(t,u)),n}return o._value=e,o}function Nb(t,e){var n,r;function o(){var u=e.apply(this,arguments);return u!==r&&(n=(r=u)&&kb(t,u)),n}return o._value=e,o}function Vb(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=la(t);return this.tween(n,(r.local?Rb:Nb)(r,e))}function Db(t,e){return function(){cl(this,t).delay=+e.apply(this,arguments)}}function Ib(t,e){return e=+e,function(){cl(this,t).delay=e}}function Gb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Db:Ib)(e,t)):He(this.node(),e).delay}function Fb(t,e){return function(){gn(this,t).duration=+e.apply(this,arguments)}}function zb(t,e){return e=+e,function(){gn(this,t).duration=e}}function Bb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Fb:zb)(e,t)):He(this.node(),e).duration}function Xb(t,e){if(typeof e!="function")throw new Error;return function(){gn(this,t).ease=e}}function Yb(t){var e=this._id;return arguments.length?this.each(Xb(e,t)):He(this.node(),e).ease}function Hb(t){typeof t!="function"&&(t=Jc(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u=e[o],l=u.length,f=r[o]=[],h,p=0;p<l;++p)(h=u[p])&&t.call(h,h.__data__,p,u)&&f.push(h);return new rn(r,this._parents,this._name,this._id)}function Ub(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,u=Math.min(r,o),l=new Array(r),f=0;f<u;++f)for(var h=e[f],p=n[f],g=h.length,y=l[f]=new Array(g),_,x=0;x<g;++x)(_=h[x]||p[x])&&(y[x]=_);for(;f<r;++f)l[f]=e[f];return new rn(l,this._parents,this._name,this._id)}function Wb(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function qb(t,e,n){var r,o,u=Wb(e)?cl:gn;return function(){var l=u(this,t),f=l.on;f!==r&&(o=(r=f).copy()).on(e,n),l.on=o}}function jb(t,e){var n=this._id;return arguments.length<2?He(this.node(),n).on.on(t):this.each(qb(n,t,e))}function Qb(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Zb(){return this.on("end.remove",Qb(this._id))}function Kb(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ls(t));for(var r=this._groups,o=r.length,u=new Array(o),l=0;l<o;++l)for(var f=r[l],h=f.length,p=u[l]=new Array(h),g,y,_=0;_<h;++_)(g=f[_])&&(y=t.call(g,g.__data__,_,f))&&("__data__"in g&&(y.__data__=g.__data__),p[_]=y,xs(p[_],e,n,_,p,He(g,n)));return new rn(u,this._parents,e,n)}function Jb(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Kc(t));for(var r=this._groups,o=r.length,u=[],l=[],f=0;f<o;++f)for(var h=r[f],p=h.length,g,y=0;y<p;++y)if(g=h[y]){for(var _=t.call(g,g.__data__,y,h),x,S=He(g,n),w=0,A=_.length;w<A;++w)(x=_[w])&&xs(x,e,n,w,_,S);u.push(_),l.push(g)}return new rn(u,l,e,n)}var tw=di.prototype.constructor;function ew(){return new tw(this._groups,this._parents)}function nw(t,e){var n,r,o;return function(){var u=ei(this,t),l=(this.style.removeProperty(t),ei(this,t));return u===l?null:u===n&&l===r?o:o=e(n=u,r=l)}}function Dg(t){return function(){this.style.removeProperty(t)}}function iw(t,e,n){var r,o=n+"",u;return function(){var l=ei(this,t);return l===o?null:l===r?u:u=e(r=l,n)}}function rw(t,e,n){var r,o,u;return function(){var l=ei(this,t),f=n(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(t),ei(this,t))),l===h?null:l===r&&h===o?u:(o=h,u=e(r=l,f))}}function aw(t,e){var n,r,o,u="style."+e,l="end."+u,f;return function(){var h=gn(this,t),p=h.on,g=h.value[u]==null?f||(f=Dg(e)):void 0;(p!==n||o!==g)&&(r=(n=p).copy()).on(l,o=g),h.on=r}}function ow(t,e,n){var r=(t+="")=="transform"?Cg:Vg;return e==null?this.styleTween(t,nw(t,r)).on("end.style."+t,Dg(t)):typeof e=="function"?this.styleTween(t,rw(t,r,ll(this,"style."+t,e))).each(aw(this._id,t)):this.styleTween(t,iw(t,r,e),n).on("end.style."+t,null)}function sw(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function uw(t,e,n){var r,o;function u(){var l=e.apply(this,arguments);return l!==o&&(r=(o=l)&&sw(t,l,n)),r}return u._value=e,u}function cw(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,uw(t,e,n??""))}function lw(t){return function(){this.textContent=t}}function fw(t){return function(){var e=t(this);this.textContent=e??""}}function hw(t){return this.tween("text",typeof t=="function"?fw(ll(this,"text",t)):lw(t==null?"":t+""))}function dw(t){return function(e){this.textContent=t.call(this,e)}}function pw(t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&dw(o)),e}return r._value=t,r}function gw(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,pw(t))}function _w(){for(var t=this._name,e=this._id,n=Gg(),r=this._groups,o=r.length,u=0;u<o;++u)for(var l=r[u],f=l.length,h,p=0;p<f;++p)if(h=l[p]){var g=He(h,e);xs(h,t,n,p,l,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new rn(r,this._parents,t,n)}function mw(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(u,l){var f={value:l},h={value:function(){--o===0&&u()}};n.each(function(){var p=gn(this,r),g=p.on;g!==t&&(e=(t=g).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(h)),p.on=e})})}var yw=0;function rn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ig(t){return di().transition(t)}function Gg(){return++yw}var vi=di.prototype;rn.prototype=Ig.prototype={constructor:rn,select:Kb,selectAll:Jb,filter:Hb,merge:Ub,selection:ew,transition:_w,call:vi.call,nodes:vi.nodes,node:vi.node,size:vi.size,empty:vi.empty,each:vi.each,on:jb,attr:$b,attrTween:Vb,style:ow,styleTween:cw,text:hw,textTween:gw,remove:Zb,tween:Ab,delay:Gb,duration:Bb,ease:Yb,end:mw};function vw(t){return+t}function xw(t){return t*t}function bw(t){return t*(2-t)}function hh(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function ww(t){return t*t*t}function Sw(t){return--t*t*t+1}function Ju(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var fl=3,Aw=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(fl),Tw=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(fl),dh=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(fl),Fg=Math.PI,zg=Fg/2;function Cw(t){return+t==1?1:1-Math.cos(t*zg)}function Pw(t){return Math.sin(t*zg)}function ph(t){return(1-Math.cos(Fg*t))/2}function En(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function Ew(t){return En(1-+t)}function Lw(t){return 1-En(t)}function gh(t){return((t*=2)<=1?En(1-t):2-En(t-1))/2}function Mw(t){return 1-Math.sqrt(1-t*t)}function $w(t){return Math.sqrt(1- --t*t)}function _h(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var tc=4/11,kw=6/11,Ow=8/11,Rw=3/4,Nw=9/11,Vw=10/11,Dw=15/16,Iw=21/22,Gw=63/64,ka=1/tc/tc;function Fw(t){return 1-Zr(1-t)}function Zr(t){return(t=+t)<tc?ka*t*t:t<Ow?ka*(t-=kw)*t+Rw:t<Vw?ka*(t-=Nw)*t+Dw:ka*(t-=Iw)*t+Gw}function zw(t){return((t*=2)<=1?1-Zr(1-t):Zr(t-1)+1)/2}var hl=1.70158,Bw=function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n}(hl),Xw=function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n}(hl),mh=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(hl),Xi=2*Math.PI,dl=1,pl=.3,Yw=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Xi);function o(u){return e*En(- --u)*Math.sin((r-u)/n)}return o.amplitude=function(u){return t(u,n*Xi)},o.period=function(u){return t(e,u)},o}(dl,pl),yh=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Xi);function o(u){return 1-e*En(u=+u)*Math.sin((u+r)/n)}return o.amplitude=function(u){return t(u,n*Xi)},o.period=function(u){return t(e,u)},o}(dl,pl),Hw=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Xi);function o(u){return((u=u*2-1)<0?e*En(-u)*Math.sin((r-u)/n):2-e*En(u)*Math.sin((r+u)/n))/2}return o.amplitude=function(u){return t(u,n*Xi)},o.period=function(u){return t(e,u)},o}(dl,pl),ec={time:null,delay:0,duration:250,ease:Ju};function Uw(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return ec.time=Ji(),ec;return n}function Ww(t){var e,n;t instanceof rn?(e=t._id,t=t._name):(e=Gg(),(n=ec).time=Ji(),t=t==null?null:t+"");for(var r=this._groups,o=r.length,u=0;u<o;++u)for(var l=r[u],f=l.length,h,p=0;p<f;++p)(h=l[p])&&xs(h,t,e,p,l,n||Uw(h,e));return new rn(r,this._parents,t,e)}di.prototype.interrupt=bb;di.prototype.transition=Ww;var qw=[null];function jw(t,e){var n=t.__transition,r,o;if(n){e=e==null?null:e+"";for(o in n)if((r=n[o]).state>Qu&&r.name===e)return new rn([[t]],qw,e,+o)}return null}function ru(t){return function(){return t}}function Qw(t,e,n){this.target=t,this.type=e,this.selection=n}function vh(){st.stopImmediatePropagation()}function au(){st.preventDefault(),st.stopImmediatePropagation()}var xh={name:"drag"},ou={name:"space"},xi={name:"handle"},bi={name:"center"};function bh(t){return[+t[0],+t[1]]}function nc(t){return[bh(t[0]),bh(t[1])]}function Zw(t){return function(e){return Hr(e,st.touches,t)}}var to={name:"x",handles:["w","e"].map(Kr),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},eo={name:"y",handles:["n","s"].map(Kr),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Kw={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Kr),input:function(t){return t==null?null:nc(t)},output:function(t){return t}},un={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},wh={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Sh={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Jw={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},t2={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Kr(t){return{type:t}}function e2(){return!st.ctrlKey&&!st.button}function n2(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function i2(){return navigator.maxTouchPoints||"ontouchstart"in this}function su(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function r2(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function a2(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function o2(){return gl(to)}function s2(){return gl(eo)}function u2(){return gl(Kw)}function gl(t){var e=n2,n=e2,r=i2,o=!0,u=hi("start","brush","end"),l=6,f;function h(A){var C=A.property("__brush",w).selectAll(".overlay").data([Kr("overlay")]);C.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",un.overlay).merge(C).each(function(){var M=su(this).extent;ye(this).attr("x",M[0][0]).attr("y",M[0][1]).attr("width",M[1][0]-M[0][0]).attr("height",M[1][1]-M[0][1])}),A.selectAll(".selection").data([Kr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",un.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var k=A.selectAll(".handle").data(t.handles,function(M){return M.type});k.exit().remove(),k.enter().append("rect").attr("class",function(M){return"handle handle--"+M.type}).attr("cursor",function(M){return un[M.type]}),A.each(p).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",_).filter(r).on("touchstart.brush",_).on("touchmove.brush",x).on("touchend.brush touchcancel.brush",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.move=function(A,C){A.selection?A.on("start.brush",function(){g(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){g(this,arguments).end()}).tween("brush",function(){var k=this,M=k.__brush,$=g(k,arguments),I=M.selection,B=t.input(typeof C=="function"?C.apply(this,arguments):C,M.extent),z=ha(I,B);function Q(Y){M.selection=Y===1&&B===null?null:z(Y),p.call(k),$.brush()}return I!==null&&B!==null?Q:Q(1)}):A.each(function(){var k=this,M=arguments,$=k.__brush,I=t.input(typeof C=="function"?C.apply(k,M):C,$.extent),B=g(k,M).beforestart();Zn(k),$.selection=I===null?null:I,p.call(k),B.start().brush().end()})},h.clear=function(A){h.move(A,null)};function p(){var A=ye(this),C=su(this).selection;C?(A.selectAll(".selection").style("display",null).attr("x",C[0][0]).attr("y",C[0][1]).attr("width",C[1][0]-C[0][0]).attr("height",C[1][1]-C[0][1]),A.selectAll(".handle").style("display",null).attr("x",function(k){return k.type[k.type.length-1]==="e"?C[1][0]-l/2:C[0][0]-l/2}).attr("y",function(k){return k.type[0]==="s"?C[1][1]-l/2:C[0][1]-l/2}).attr("width",function(k){return k.type==="n"||k.type==="s"?C[1][0]-C[0][0]+l:l}).attr("height",function(k){return k.type==="e"||k.type==="w"?C[1][1]-C[0][1]+l:l})):A.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function g(A,C,k){var M=A.__brush.emitter;return M&&(!k||!M.clean)?M:new y(A,C,k)}function y(A,C,k){this.that=A,this.args=C,this.state=A.__brush,this.active=0,this.clean=k}y.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(A){Yr(new Qw(h,A,t.output(this.state.selection)),u.apply,u,[A,this.that,this.args])}};function _(){if(f&&!st.touches||!n.apply(this,arguments))return;var A=this,C=st.target.__data__.type,k=(o&&st.metaKey?C="overlay":C)==="selection"?xh:o&&st.altKey?bi:xi,M=t===eo?null:Jw[C],$=t===to?null:t2[C],I=su(A),B=I.extent,z=I.selection,Q=B[0][0],Y,T,W=B[0][1],O,H,J=B[1][0],U,Z,it=B[1][1],at,i,a=0,s=0,c,d=M&&$&&o&&st.shiftKey,v,b,P=st.touches?Zw(st.changedTouches[0].identifier):qn,R=P(A),L=R,N=g(A,arguments,!0).beforestart();C==="overlay"?(z&&(c=!0),I.selection=z=[[Y=t===eo?Q:R[0],O=t===to?W:R[1]],[U=t===eo?J:Y,at=t===to?it:O]]):(Y=z[0][0],O=z[0][1],U=z[1][0],at=z[1][1]),T=Y,H=O,Z=U,i=at;var V=ye(A).attr("pointer-events","none"),X=V.selectAll(".overlay").attr("cursor",un[C]);if(st.touches)N.moved=q,N.ended=tt;else{var D=ye(st.view).on("mousemove.brush",q,!0).on("mouseup.brush",tt,!0);o&&D.on("keydown.brush",K,!0).on("keyup.brush",dt,!0),hs(st.view)}vh(),Zn(A),p.call(A),N.start();function q(){var pt=P(A);d&&!v&&!b&&(Math.abs(pt[0]-L[0])>Math.abs(pt[1]-L[1])?b=!0:v=!0),L=pt,c=!0,au(),j()}function j(){var pt;switch(a=L[0]-R[0],s=L[1]-R[1],k){case ou:case xh:{M&&(a=Math.max(Q-Y,Math.min(J-U,a)),T=Y+a,Z=U+a),$&&(s=Math.max(W-O,Math.min(it-at,s)),H=O+s,i=at+s);break}case xi:{M<0?(a=Math.max(Q-Y,Math.min(J-Y,a)),T=Y+a,Z=U):M>0&&(a=Math.max(Q-U,Math.min(J-U,a)),T=Y,Z=U+a),$<0?(s=Math.max(W-O,Math.min(it-O,s)),H=O+s,i=at):$>0&&(s=Math.max(W-at,Math.min(it-at,s)),H=O,i=at+s);break}case bi:{M&&(T=Math.max(Q,Math.min(J,Y-a*M)),Z=Math.max(Q,Math.min(J,U+a*M))),$&&(H=Math.max(W,Math.min(it,O-s*$)),i=Math.max(W,Math.min(it,at+s*$)));break}}Z<T&&(M*=-1,pt=Y,Y=U,U=pt,pt=T,T=Z,Z=pt,C in wh&&X.attr("cursor",un[C=wh[C]])),i<H&&($*=-1,pt=O,O=at,at=pt,pt=H,H=i,i=pt,C in Sh&&X.attr("cursor",un[C=Sh[C]])),I.selection&&(z=I.selection),v&&(T=z[0][0],Z=z[1][0]),b&&(H=z[0][1],i=z[1][1]),(z[0][0]!==T||z[0][1]!==H||z[1][0]!==Z||z[1][1]!==i)&&(I.selection=[[T,H],[Z,i]],p.call(A),N.brush())}function tt(){if(vh(),st.touches){if(st.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else ds(st.view,c),D.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);V.attr("pointer-events","all"),X.attr("cursor",un.overlay),I.selection&&(z=I.selection),r2(z)&&(I.selection=null,p.call(A)),N.end()}function K(){switch(st.keyCode){case 16:{d=M&&$;break}case 18:{k===xi&&(M&&(U=Z-a*M,Y=T+a*M),$&&(at=i-s*$,O=H+s*$),k=bi,j());break}case 32:{(k===xi||k===bi)&&(M<0?U=Z-a:M>0&&(Y=T-a),$<0?at=i-s:$>0&&(O=H-s),k=ou,X.attr("cursor",un.selection),j());break}default:return}au()}function dt(){switch(st.keyCode){case 16:{d&&(v=b=d=!1,j());break}case 18:{k===bi&&(M<0?U=Z:M>0&&(Y=T),$<0?at=i:$>0&&(O=H),k=xi,j());break}case 32:{k===ou&&(st.altKey?(M&&(U=Z-a*M,Y=T+a*M),$&&(at=i-s*$,O=H+s*$),k=bi):(M<0?U=Z:M>0&&(Y=T),$<0?at=i:$>0&&(O=H),k=xi),X.attr("cursor",un[C]),j());break}default:return}au()}}function x(){g(this,arguments).moved()}function S(){g(this,arguments).ended()}function w(){var A=this.__brush||{selection:null};return A.extent=nc(e.apply(this,arguments)),A.dim=t,A}return h.extent=function(A){return arguments.length?(e=typeof A=="function"?A:ru(nc(A)),h):e},h.filter=function(A){return arguments.length?(n=typeof A=="function"?A:ru(!!A),h):n},h.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:ru(!!A),h):r},h.handleSize=function(A){return arguments.length?(l=+A,h):l},h.keyModifiers=function(A){return arguments.length?(o=!!A,h):o},h.on=function(){var A=u.on.apply(u,arguments);return A===u?h:A},h}var Ah=Math.cos,Th=Math.sin,Bg=Math.PI,Oa=Bg/2,Ch=Bg*2,Ph=Math.max;function c2(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function l2(){var t=0,e=null,n=null,r=null;function o(u){var l=u.length,f=[],h=Ae(l),p=[],g=[],y=g.groups=new Array(l),_=new Array(l*l),x,S,w,A,C,k;for(x=0,C=-1;++C<l;){for(S=0,k=-1;++k<l;)S+=u[C][k];f.push(S),p.push(Ae(l)),x+=S}for(e&&h.sort(function(T,W){return e(f[T],f[W])}),n&&p.forEach(function(T,W){T.sort(function(O,H){return n(u[W][O],u[W][H])})}),x=Ph(0,Ch-t*l)/x,A=x?t:Ch/l,S=0,C=-1;++C<l;){for(w=S,k=-1;++k<l;){var M=h[C],$=p[M][k],I=u[M][$],B=S,z=S+=I*x;_[$*l+M]={index:M,subindex:$,startAngle:B,endAngle:z,value:I}}y[M]={index:M,startAngle:w,endAngle:S,value:f[M]},S+=A}for(C=-1;++C<l;)for(k=C-1;++k<l;){var Q=_[k*l+C],Y=_[C*l+k];(Q.value||Y.value)&&g.push(Q.value<Y.value?{source:Y,target:Q}:{source:Q,target:Y})}return r?g.sort(r):g}return o.padAngle=function(u){return arguments.length?(t=Ph(0,u),o):t},o.sortGroups=function(u){return arguments.length?(e=u,o):e},o.sortSubgroups=function(u){return arguments.length?(n=u,o):n},o.sortChords=function(u){return arguments.length?(u==null?r=null:(r=c2(u))._=u,o):r&&r._},o}var f2=Array.prototype.slice;function uu(t){return function(){return t}}var ic=Math.PI,rc=2*ic,Hn=1e-6,h2=rc-Hn;function ac(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Rn(){return new ac}ac.prototype=Rn.prototype={constructor:ac,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,o,u){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+u)},arcTo:function(t,e,n,r,o){t=+t,e=+e,n=+n,r=+r,o=+o;var u=this._x1,l=this._y1,f=n-t,h=r-e,p=u-t,g=l-e,y=p*p+g*g;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(y>Hn)if(!(Math.abs(g*f-h*p)>Hn)||!o)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var _=n-u,x=r-l,S=f*f+h*h,w=_*_+x*x,A=Math.sqrt(S),C=Math.sqrt(y),k=o*Math.tan((ic-Math.acos((S+y-w)/(2*A*C)))/2),M=k/C,$=k/A;Math.abs(M-1)>Hn&&(this._+="L"+(t+M*p)+","+(e+M*g)),this._+="A"+o+","+o+",0,0,"+ +(g*_>p*x)+","+(this._x1=t+$*f)+","+(this._y1=e+$*h)}},arc:function(t,e,n,r,o,u){t=+t,e=+e,n=+n,u=!!u;var l=n*Math.cos(r),f=n*Math.sin(r),h=t+l,p=e+f,g=1^u,y=u?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+h+","+p:(Math.abs(this._x1-h)>Hn||Math.abs(this._y1-p)>Hn)&&(this._+="L"+h+","+p),n&&(y<0&&(y=y%rc+rc),y>h2?this._+="A"+n+","+n+",0,1,"+g+","+(t-l)+","+(e-f)+"A"+n+","+n+",0,1,"+g+","+(this._x1=h)+","+(this._y1=p):y>Hn&&(this._+="A"+n+","+n+",0,"+ +(y>=ic)+","+g+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function d2(t){return t.source}function p2(t){return t.target}function g2(t){return t.radius}function _2(t){return t.startAngle}function m2(t){return t.endAngle}function y2(){var t=d2,e=p2,n=g2,r=_2,o=m2,u=null;function l(){var f,h=f2.call(arguments),p=t.apply(this,h),g=e.apply(this,h),y=+n.apply(this,(h[0]=p,h)),_=r.apply(this,h)-Oa,x=o.apply(this,h)-Oa,S=y*Ah(_),w=y*Th(_),A=+n.apply(this,(h[0]=g,h)),C=r.apply(this,h)-Oa,k=o.apply(this,h)-Oa;if(u||(u=f=Rn()),u.moveTo(S,w),u.arc(0,0,y,_,x),(_!==C||x!==k)&&(u.quadraticCurveTo(0,0,A*Ah(C),A*Th(C)),u.arc(0,0,A,C,k)),u.quadraticCurveTo(0,0,S,w),u.closePath(),f)return u=null,f+""||null}return l.radius=function(f){return arguments.length?(n=typeof f=="function"?f:uu(+f),l):n},l.startAngle=function(f){return arguments.length?(r=typeof f=="function"?f:uu(+f),l):r},l.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:uu(+f),l):o},l.source=function(f){return arguments.length?(t=f,l):t},l.target=function(f){return arguments.length?(e=f,l):e},l.context=function(f){return arguments.length?(u=f??null,l):u},l}var $e="$";function go(){}go.prototype=dn.prototype={constructor:go,has:function(t){return $e+t in this},get:function(t){return this[$e+t]},set:function(t,e){return this[$e+t]=e,this},remove:function(t){var e=$e+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===$e&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===$e&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===$e&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===$e&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===$e&&++t;return t},empty:function(){for(var t in this)if(t[0]===$e)return!1;return!0},each:function(t){for(var e in this)e[0]===$e&&t(this[e],e.slice(1),this)}};function dn(t,e){var n=new go;if(t instanceof go)t.each(function(f,h){n.set(h,f)});else if(Array.isArray(t)){var r=-1,o=t.length,u;if(e==null)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(u=t[r],r,t),u)}else if(t)for(var l in t)n.set(l,t[l]);return n}function v2(){var t=[],e=[],n,r,o;function u(f,h,p,g){if(h>=t.length)return n!=null&&f.sort(n),r!=null?r(f):f;for(var y=-1,_=f.length,x=t[h++],S,w,A=dn(),C,k=p();++y<_;)(C=A.get(S=x(w=f[y])+""))?C.push(w):A.set(S,[w]);return A.each(function(M,$){g(k,$,u(M,h,p,g))}),k}function l(f,h){if(++h>t.length)return f;var p,g=e[h-1];return r!=null&&h>=t.length?p=f.entries():(p=[],f.each(function(y,_){p.push({key:_,values:l(y,h)})})),g!=null?p.sort(function(y,_){return g(y.key,_.key)}):p}return o={object:function(f){return u(f,0,x2,b2)},map:function(f){return u(f,0,Eh,Lh)},entries:function(f){return l(u(f,0,Eh,Lh),0)},key:function(f){return t.push(f),o},sortKeys:function(f){return e[t.length-1]=f,o},sortValues:function(f){return n=f,o},rollup:function(f){return r=f,o}}}function x2(){return{}}function b2(t,e,n){t[e]=n}function Eh(){return dn()}function Lh(t,e,n){t.set(e,n)}function _o(){}var Xn=dn.prototype;_o.prototype=Xg.prototype={constructor:_o,has:Xn.has,add:function(t){return t+="",this[$e+t]=t,this},remove:Xn.remove,clear:Xn.clear,values:Xn.keys,size:Xn.size,empty:Xn.empty,each:Xn.each};function Xg(t,e){var n=new _o;if(t instanceof _o)t.each(function(u){n.add(u)});else if(t){var r=-1,o=t.length;if(e==null)for(;++r<o;)n.add(t[r]);else for(;++r<o;)n.add(e(t[r],r,t))}return n}function w2(t){var e=[];for(var n in t)e.push(n);return e}function S2(t){var e=[];for(var n in t)e.push(t[n]);return e}function A2(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}var T2=Array.prototype,Yg=T2.slice;function C2(t,e){return t-e}function P2(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}function xn(t){return function(){return t}}function E2(t,e){for(var n=-1,r=e.length,o;++n<r;)if(o=L2(t,e[n]))return o;return 0}function L2(t,e){for(var n=e[0],r=e[1],o=-1,u=0,l=t.length,f=l-1;u<l;f=u++){var h=t[u],p=h[0],g=h[1],y=t[f],_=y[0],x=y[1];if(M2(h,y,e))return 0;g>r!=x>r&&n<(_-p)*(r-g)/(x-g)+p&&(o=-o)}return o}function M2(t,e,n){var r;return $2(t,e,n)&&k2(t[r=+(t[0]===e[0])],n[r],e[r])}function $2(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function k2(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function O2(){}var cn=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Hg(){var t=1,e=1,n=Qc,r=h;function o(p){var g=n(p);if(Array.isArray(g))g=g.slice().sort(C2);else{var y=qc(p),_=y[0],x=y[1];g=ti(_,x,g),g=Ae(Math.floor(_/g)*g,Math.floor(x/g)*g,g)}return g.map(function(S){return u(p,S)})}function u(p,g){var y=[],_=[];return l(p,g,function(x){r(x,p,g),P2(x)>0?y.push([x]):_.push(x)}),_.forEach(function(x){for(var S=0,w=y.length,A;S<w;++S)if(E2((A=y[S])[0],x)!==-1){A.push(x);return}}),{type:"MultiPolygon",value:g,coordinates:y}}function l(p,g,y){var _=new Array,x=new Array,S,w,A,C,k,M;for(S=w=-1,C=p[0]>=g,cn[C<<1].forEach($);++S<t-1;)A=C,C=p[S+1]>=g,cn[A|C<<1].forEach($);for(cn[C<<0].forEach($);++w<e-1;){for(S=-1,C=p[w*t+t]>=g,k=p[w*t]>=g,cn[C<<1|k<<2].forEach($);++S<t-1;)A=C,C=p[w*t+t+S+1]>=g,M=k,k=p[w*t+S+1]>=g,cn[A|C<<1|k<<2|M<<3].forEach($);cn[C|k<<3].forEach($)}for(S=-1,k=p[w*t]>=g,cn[k<<2].forEach($);++S<t-1;)M=k,k=p[w*t+S+1]>=g,cn[k<<2|M<<3].forEach($);cn[k<<3].forEach($);function $(I){var B=[I[0][0]+S,I[0][1]+w],z=[I[1][0]+S,I[1][1]+w],Q=f(B),Y=f(z),T,W;(T=x[Q])?(W=_[Y])?(delete x[T.end],delete _[W.start],T===W?(T.ring.push(z),y(T.ring)):_[T.start]=x[W.end]={start:T.start,end:W.end,ring:T.ring.concat(W.ring)}):(delete x[T.end],T.ring.push(z),x[T.end=Y]=T):(T=_[Y])?(W=x[Q])?(delete _[T.start],delete x[W.end],T===W?(T.ring.push(z),y(T.ring)):_[W.start]=x[T.end]={start:W.start,end:T.end,ring:W.ring.concat(T.ring)}):(delete _[T.start],T.ring.unshift(B),_[T.start=Q]=T):_[Q]=x[Y]={start:Q,end:Y,ring:[B,z]}}}function f(p){return p[0]*2+p[1]*(t+1)*4}function h(p,g,y){p.forEach(function(_){var x=_[0],S=_[1],w=x|0,A=S|0,C,k=g[A*t+w];x>0&&x<t&&w===x&&(C=g[A*t+w-1],_[0]=x+(y-C)/(k-C)-.5),S>0&&S<e&&A===S&&(C=g[(A-1)*t+w],_[1]=S+(y-C)/(k-C)-.5)})}return o.contour=u,o.size=function(p){if(!arguments.length)return[t,e];var g=Math.ceil(p[0]),y=Math.ceil(p[1]);if(!(g>0)||!(y>0))throw new Error("invalid size");return t=g,e=y,o},o.thresholds=function(p){return arguments.length?(n=typeof p=="function"?p:Array.isArray(p)?xn(Yg.call(p)):xn(p),o):n},o.smooth=function(p){return arguments.length?(r=p?h:O2,o):r===h},o}function cu(t,e,n){for(var r=t.width,o=t.height,u=(n<<1)+1,l=0;l<o;++l)for(var f=0,h=0;f<r+n;++f)f<r&&(h+=t.data[f+l*r]),f>=n&&(f>=u&&(h-=t.data[f-u+l*r]),e.data[f-n+l*r]=h/Math.min(f+1,r-1+u-f,u))}function lu(t,e,n){for(var r=t.width,o=t.height,u=(n<<1)+1,l=0;l<r;++l)for(var f=0,h=0;f<o+n;++f)f<o&&(h+=t.data[l+f*r]),f>=n&&(f>=u&&(h-=t.data[l+(f-u)*r]),e.data[l+(f-n)*r]=h/Math.min(f+1,o-1+u-f,u))}function R2(t){return t[0]}function N2(t){return t[1]}function V2(){return 1}function D2(){var t=R2,e=N2,n=V2,r=960,o=500,u=20,l=2,f=u*3,h=r+f*2>>l,p=o+f*2>>l,g=xn(20);function y(C){var k=new Float32Array(h*p),M=new Float32Array(h*p);C.forEach(function(B,z,Q){var Y=+t(B,z,Q)+f>>l,T=+e(B,z,Q)+f>>l,W=+n(B,z,Q);Y>=0&&Y<h&&T>=0&&T<p&&(k[Y+T*h]+=W)}),cu({width:h,height:p,data:k},{width:h,height:p,data:M},u>>l),lu({width:h,height:p,data:M},{width:h,height:p,data:k},u>>l),cu({width:h,height:p,data:k},{width:h,height:p,data:M},u>>l),lu({width:h,height:p,data:M},{width:h,height:p,data:k},u>>l),cu({width:h,height:p,data:k},{width:h,height:p,data:M},u>>l),lu({width:h,height:p,data:M},{width:h,height:p,data:k},u>>l);var $=g(k);if(!Array.isArray($)){var I=Xp(k);$=ti(0,I,$),$=Ae(0,Math.floor(I/$)*$,$),$.shift()}return Hg().thresholds($).size([h,p])(k).map(_)}function _(C){return C.value*=Math.pow(2,-2*l),C.coordinates.forEach(x),C}function x(C){C.forEach(S)}function S(C){C.forEach(w)}function w(C){C[0]=C[0]*Math.pow(2,l)-f,C[1]=C[1]*Math.pow(2,l)-f}function A(){return f=u*3,h=r+f*2>>l,p=o+f*2>>l,y}return y.x=function(C){return arguments.length?(t=typeof C=="function"?C:xn(+C),y):t},y.y=function(C){return arguments.length?(e=typeof C=="function"?C:xn(+C),y):e},y.weight=function(C){return arguments.length?(n=typeof C=="function"?C:xn(+C),y):n},y.size=function(C){if(!arguments.length)return[r,o];var k=Math.ceil(C[0]),M=Math.ceil(C[1]);if(!(k>=0)&&!(k>=0))throw new Error("invalid size");return r=k,o=M,A()},y.cellSize=function(C){if(!arguments.length)return 1<<l;if(!((C=+C)>=1))throw new Error("invalid cell size");return l=Math.floor(Math.log(C)/Math.LN2),A()},y.thresholds=function(C){return arguments.length?(g=typeof C=="function"?C:Array.isArray(C)?xn(Yg.call(C)):xn(C),y):g},y.bandwidth=function(C){if(!arguments.length)return Math.sqrt(u*(u+1));if(!((C=+C)>=0))throw new Error("invalid bandwidth");return u=Math.round((Math.sqrt(4*C*C+1)-1)/2),A()},y}var Mh={},fu={},hu=34,fr=10,du=13;function Ug(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function I2(t,e){var n=Ug(t);return function(r,o){return e(n(r),o,t)}}function $h(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var o in r)o in e||n.push(e[o]=o)}),n}function _e(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function G2(t){return t<0?"-"+_e(-t,6):t>9999?"+"+_e(t,6):_e(t,4)}function F2(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":G2(t.getUTCFullYear())+"-"+_e(t.getUTCMonth()+1,2)+"-"+_e(t.getUTCDate(),2)+(o?"T"+_e(e,2)+":"+_e(n,2)+":"+_e(r,2)+"."+_e(o,3)+"Z":r?"T"+_e(e,2)+":"+_e(n,2)+":"+_e(r,2)+"Z":n||e?"T"+_e(e,2)+":"+_e(n,2)+"Z":"")}function bs(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(y,_){var x,S,w=o(y,function(A,C){if(x)return x(A,C-1);S=A,x=_?I2(A,_):Ug(A)});return w.columns=S||[],w}function o(y,_){var x=[],S=y.length,w=0,A=0,C,k=S<=0,M=!1;y.charCodeAt(S-1)===fr&&--S,y.charCodeAt(S-1)===du&&--S;function $(){if(k)return fu;if(M)return M=!1,Mh;var B,z=w,Q;if(y.charCodeAt(z)===hu){for(;w++<S&&y.charCodeAt(w)!==hu||y.charCodeAt(++w)===hu;);return(B=w)>=S?k=!0:(Q=y.charCodeAt(w++))===fr?M=!0:Q===du&&(M=!0,y.charCodeAt(w)===fr&&++w),y.slice(z+1,B-1).replace(/""/g,'"')}for(;w<S;){if((Q=y.charCodeAt(B=w++))===fr)M=!0;else if(Q===du)M=!0,y.charCodeAt(w)===fr&&++w;else if(Q!==n)continue;return y.slice(z,B)}return k=!0,y.slice(z,S)}for(;(C=$())!==fu;){for(var I=[];C!==Mh&&C!==fu;)I.push(C),C=$();_&&(I=_(I,A++))==null||x.push(I)}return x}function u(y,_){return y.map(function(x){return _.map(function(S){return g(x[S])}).join(t)})}function l(y,_){return _==null&&(_=$h(y)),[_.map(g).join(t)].concat(u(y,_)).join(`
`)}function f(y,_){return _==null&&(_=$h(y)),u(y,_).join(`
`)}function h(y){return y.map(p).join(`
`)}function p(y){return y.map(g).join(t)}function g(y){return y==null?"":y instanceof Date?F2(y):e.test(y+="")?'"'+y.replace(/"/g,'""')+'"':y}return{parse:r,parseRows:o,format:l,formatBody:f,formatRows:h,formatRow:p,formatValue:g}}var pi=bs(","),Wg=pi.parse,z2=pi.parseRows,B2=pi.format,X2=pi.formatBody,Y2=pi.formatRows,H2=pi.formatRow,U2=pi.formatValue,gi=bs("	"),qg=gi.parse,W2=gi.parseRows,q2=gi.format,j2=gi.formatBody,Q2=gi.formatRows,Z2=gi.formatRow,K2=gi.formatValue;function J2(t){for(var e in t){var n=t[e].trim(),r,o;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(o=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))tS&&o[4]&&!o[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}var tS=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function eS(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function nS(t,e){return fetch(t,e).then(eS)}function iS(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function rS(t,e){return fetch(t,e).then(iS)}function aS(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ws(t,e){return fetch(t,e).then(aS)}function jg(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),ws(e,n).then(function(o){return t(o,r)})}}function oS(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var o=bs(t);return ws(e,n).then(function(u){return o.parse(u,r)})}var sS=jg(Wg),uS=jg(qg);function cS(t,e){return new Promise(function(n,r){var o=new Image;for(var u in e)o[u]=e[u];o.onerror=r,o.onload=function(){n(o)},o.src=t})}function lS(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function fS(t,e){return fetch(t,e).then(lS)}function _l(t){return function(e,n){return ws(e,n).then(function(r){return new DOMParser().parseFromString(r,t)})}}const hS=_l("application/xml");var dS=_l("text/html"),pS=_l("image/svg+xml");function gS(t,e){var n;t==null&&(t=0),e==null&&(e=0);function r(){var o,u=n.length,l,f=0,h=0;for(o=0;o<u;++o)l=n[o],f+=l.x,h+=l.y;for(f=f/u-t,h=h/u-e,o=0;o<u;++o)l=n[o],l.x-=f,l.y-=h}return r.initialize=function(o){n=o},r.x=function(o){return arguments.length?(t=+o,r):t},r.y=function(o){return arguments.length?(e=+o,r):e},r}function Yt(t){return function(){return t}}function Sn(){return(Math.random()-.5)*1e-6}function _S(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Qg(this.cover(e,n),e,n,t)}function Qg(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,u=t._root,l={data:r},f=t._x0,h=t._y0,p=t._x1,g=t._y1,y,_,x,S,w,A,C,k;if(!u)return t._root=l,t;for(;u.length;)if((w=e>=(y=(f+p)/2))?f=y:p=y,(A=n>=(_=(h+g)/2))?h=_:g=_,o=u,!(u=u[C=A<<1|w]))return o[C]=l,t;if(x=+t._x.call(null,u.data),S=+t._y.call(null,u.data),e===x&&n===S)return l.next=u,o?o[C]=l:t._root=l,t;do o=o?o[C]=new Array(4):t._root=new Array(4),(w=e>=(y=(f+p)/2))?f=y:p=y,(A=n>=(_=(h+g)/2))?h=_:g=_;while((C=A<<1|w)===(k=(S>=_)<<1|x>=y));return o[k]=u,o[C]=l,t}function mS(t){var e,n,r=t.length,o,u,l=new Array(r),f=new Array(r),h=1/0,p=1/0,g=-1/0,y=-1/0;for(n=0;n<r;++n)isNaN(o=+this._x.call(null,e=t[n]))||isNaN(u=+this._y.call(null,e))||(l[n]=o,f[n]=u,o<h&&(h=o),o>g&&(g=o),u<p&&(p=u),u>y&&(y=u));if(h>g||p>y)return this;for(this.cover(h,p).cover(g,y),n=0;n<r;++n)Qg(this,l[n],f[n],t[n]);return this}function yS(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,u=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,u=(r=Math.floor(e))+1;else{for(var l=o-n,f=this._root,h,p;n>t||t>=o||r>e||e>=u;)switch(p=(e<r)<<1|t<n,h=new Array(4),h[p]=f,f=h,l*=2,p){case 0:o=n+l,u=r+l;break;case 1:n=o-l,u=r+l;break;case 2:o=n+l,r=u-l;break;case 3:n=o-l,r=u-l;break}this._root&&this._root.length&&(this._root=f)}return this._x0=n,this._y0=r,this._x1=o,this._y1=u,this}function vS(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function xS(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function se(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o}function bS(t,e,n){var r,o=this._x0,u=this._y0,l,f,h,p,g=this._x1,y=this._y1,_=[],x=this._root,S,w;for(x&&_.push(new se(x,o,u,g,y)),n==null?n=1/0:(o=t-n,u=e-n,g=t+n,y=e+n,n*=n);S=_.pop();)if(!(!(x=S.node)||(l=S.x0)>g||(f=S.y0)>y||(h=S.x1)<o||(p=S.y1)<u))if(x.length){var A=(l+h)/2,C=(f+p)/2;_.push(new se(x[3],A,C,h,p),new se(x[2],l,C,A,p),new se(x[1],A,f,h,C),new se(x[0],l,f,A,C)),(w=(e>=C)<<1|t>=A)&&(S=_[_.length-1],_[_.length-1]=_[_.length-1-w],_[_.length-1-w]=S)}else{var k=t-+this._x.call(null,x.data),M=e-+this._y.call(null,x.data),$=k*k+M*M;if($<n){var I=Math.sqrt(n=$);o=t-I,u=e-I,g=t+I,y=e+I,r=x.data}}return r}function wS(t){if(isNaN(g=+this._x.call(null,t))||isNaN(y=+this._y.call(null,t)))return this;var e,n=this._root,r,o,u,l=this._x0,f=this._y0,h=this._x1,p=this._y1,g,y,_,x,S,w,A,C;if(!n)return this;if(n.length)for(;;){if((S=g>=(_=(l+h)/2))?l=_:h=_,(w=y>=(x=(f+p)/2))?f=x:p=x,e=n,!(n=n[A=w<<1|S]))return this;if(!n.length)break;(e[A+1&3]||e[A+2&3]||e[A+3&3])&&(r=e,C=A)}for(;n.data!==t;)if(o=n,!(n=n.next))return this;return(u=n.next)&&delete n.next,o?(u?o.next=u:delete o.next,this):e?(u?e[A]=u:delete e[A],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[C]=n:this._root=n),this):(this._root=u,this)}function SS(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function AS(){return this._root}function TS(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function CS(t){var e=[],n,r=this._root,o,u,l,f,h;for(r&&e.push(new se(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,u=n.x0,l=n.y0,f=n.x1,h=n.y1)&&r.length){var p=(u+f)/2,g=(l+h)/2;(o=r[3])&&e.push(new se(o,p,g,f,h)),(o=r[2])&&e.push(new se(o,u,g,p,h)),(o=r[1])&&e.push(new se(o,p,l,f,g)),(o=r[0])&&e.push(new se(o,u,l,p,g))}return this}function PS(t){var e=[],n=[],r;for(this._root&&e.push(new se(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var o=r.node;if(o.length){var u,l=r.x0,f=r.y0,h=r.x1,p=r.y1,g=(l+h)/2,y=(f+p)/2;(u=o[0])&&e.push(new se(u,l,f,g,y)),(u=o[1])&&e.push(new se(u,g,f,h,y)),(u=o[2])&&e.push(new se(u,l,y,g,p)),(u=o[3])&&e.push(new se(u,g,y,h,p))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function ES(t){return t[0]}function LS(t){return arguments.length?(this._x=t,this):this._x}function MS(t){return t[1]}function $S(t){return arguments.length?(this._y=t,this):this._y}function Ss(t,e,n){var r=new ml(e??ES,n??MS,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function ml(t,e,n,r,o,u){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=u,this._root=void 0}function kh(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var pe=Ss.prototype=ml.prototype;pe.copy=function(){var t=new ml(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=kh(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var o=0;o<4;++o)(r=e.source[o])&&(r.length?n.push({source:r,target:e.target[o]=new Array(4)}):e.target[o]=kh(r));return t};pe.add=_S;pe.addAll=mS;pe.cover=yS;pe.data=vS;pe.extent=xS;pe.find=bS;pe.remove=wS;pe.removeAll=SS;pe.root=AS;pe.size=TS;pe.visit=CS;pe.visitAfter=PS;pe.x=LS;pe.y=$S;function kS(t){return t.x+t.vx}function OS(t){return t.y+t.vy}function RS(t){var e,n,r=1,o=1;typeof t!="function"&&(t=Yt(t==null?1:+t));function u(){for(var h,p=e.length,g,y,_,x,S,w,A=0;A<o;++A)for(g=Ss(e,kS,OS).visitAfter(l),h=0;h<p;++h)y=e[h],S=n[y.index],w=S*S,_=y.x+y.vx,x=y.y+y.vy,g.visit(C);function C(k,M,$,I,B){var z=k.data,Q=k.r,Y=S+Q;if(z){if(z.index>y.index){var T=_-z.x-z.vx,W=x-z.y-z.vy,O=T*T+W*W;O<Y*Y&&(T===0&&(T=Sn(),O+=T*T),W===0&&(W=Sn(),O+=W*W),O=(Y-(O=Math.sqrt(O)))/O*r,y.vx+=(T*=O)*(Y=(Q*=Q)/(w+Q)),y.vy+=(W*=O)*Y,z.vx-=T*(Y=1-Y),z.vy-=W*Y)}return}return M>_+Y||I<_-Y||$>x+Y||B<x-Y}}function l(h){if(h.data)return h.r=n[h.data.index];for(var p=h.r=0;p<4;++p)h[p]&&h[p].r>h.r&&(h.r=h[p].r)}function f(){if(e){var h,p=e.length,g;for(n=new Array(p),h=0;h<p;++h)g=e[h],n[g.index]=+t(g,h,e)}}return u.initialize=function(h){e=h,f()},u.iterations=function(h){return arguments.length?(o=+h,u):o},u.strength=function(h){return arguments.length?(r=+h,u):r},u.radius=function(h){return arguments.length?(t=typeof h=="function"?h:Yt(+h),f(),u):t},u}function NS(t){return t.index}function Oh(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function VS(t){var e=NS,n=g,r,o=Yt(30),u,l,f,h,p=1;t==null&&(t=[]);function g(w){return 1/Math.min(f[w.source.index],f[w.target.index])}function y(w){for(var A=0,C=t.length;A<p;++A)for(var k=0,M,$,I,B,z,Q,Y;k<C;++k)M=t[k],$=M.source,I=M.target,B=I.x+I.vx-$.x-$.vx||Sn(),z=I.y+I.vy-$.y-$.vy||Sn(),Q=Math.sqrt(B*B+z*z),Q=(Q-u[k])/Q*w*r[k],B*=Q,z*=Q,I.vx-=B*(Y=h[k]),I.vy-=z*Y,$.vx+=B*(Y=1-Y),$.vy+=z*Y}function _(){if(l){var w,A=l.length,C=t.length,k=dn(l,e),M;for(w=0,f=new Array(A);w<C;++w)M=t[w],M.index=w,typeof M.source!="object"&&(M.source=Oh(k,M.source)),typeof M.target!="object"&&(M.target=Oh(k,M.target)),f[M.source.index]=(f[M.source.index]||0)+1,f[M.target.index]=(f[M.target.index]||0)+1;for(w=0,h=new Array(C);w<C;++w)M=t[w],h[w]=f[M.source.index]/(f[M.source.index]+f[M.target.index]);r=new Array(C),x(),u=new Array(C),S()}}function x(){if(l)for(var w=0,A=t.length;w<A;++w)r[w]=+n(t[w],w,t)}function S(){if(l)for(var w=0,A=t.length;w<A;++w)u[w]=+o(t[w],w,t)}return y.initialize=function(w){l=w,_()},y.links=function(w){return arguments.length?(t=w,_(),y):t},y.id=function(w){return arguments.length?(e=w,y):e},y.iterations=function(w){return arguments.length?(p=+w,y):p},y.strength=function(w){return arguments.length?(n=typeof w=="function"?w:Yt(+w),x(),y):n},y.distance=function(w){return arguments.length?(o=typeof w=="function"?w:Yt(+w),S(),y):o},y}function DS(t){return t.x}function IS(t){return t.y}var GS=10,FS=Math.PI*(3-Math.sqrt(5));function zS(t){var e,n=1,r=.001,o=1-Math.pow(r,1/300),u=0,l=.6,f=dn(),h=vs(g),p=hi("tick","end");t==null&&(t=[]);function g(){y(),p.call("tick",e),n<r&&(h.stop(),p.call("end",e))}function y(S){var w,A=t.length,C;S===void 0&&(S=1);for(var k=0;k<S;++k)for(n+=(u-n)*o,f.each(function(M){M(n)}),w=0;w<A;++w)C=t[w],C.fx==null?C.x+=C.vx*=l:(C.x=C.fx,C.vx=0),C.fy==null?C.y+=C.vy*=l:(C.y=C.fy,C.vy=0);return e}function _(){for(var S=0,w=t.length,A;S<w;++S){if(A=t[S],A.index=S,A.fx!=null&&(A.x=A.fx),A.fy!=null&&(A.y=A.fy),isNaN(A.x)||isNaN(A.y)){var C=GS*Math.sqrt(S),k=S*FS;A.x=C*Math.cos(k),A.y=C*Math.sin(k)}(isNaN(A.vx)||isNaN(A.vy))&&(A.vx=A.vy=0)}}function x(S){return S.initialize&&S.initialize(t),S}return _(),e={tick:y,restart:function(){return h.restart(g),e},stop:function(){return h.stop(),e},nodes:function(S){return arguments.length?(t=S,_(),f.each(x),e):t},alpha:function(S){return arguments.length?(n=+S,e):n},alphaMin:function(S){return arguments.length?(r=+S,e):r},alphaDecay:function(S){return arguments.length?(o=+S,e):+o},alphaTarget:function(S){return arguments.length?(u=+S,e):u},velocityDecay:function(S){return arguments.length?(l=1-S,e):1-l},force:function(S,w){return arguments.length>1?(w==null?f.remove(S):f.set(S,x(w)),e):f.get(S)},find:function(S,w,A){var C=0,k=t.length,M,$,I,B,z;for(A==null?A=1/0:A*=A,C=0;C<k;++C)B=t[C],M=S-B.x,$=w-B.y,I=M*M+$*$,I<A&&(z=B,A=I);return z},on:function(S,w){return arguments.length>1?(p.on(S,w),e):p.on(S)}}}function BS(){var t,e,n,r=Yt(-30),o,u=1,l=1/0,f=.81;function h(_){var x,S=t.length,w=Ss(t,DS,IS).visitAfter(g);for(n=_,x=0;x<S;++x)e=t[x],w.visit(y)}function p(){if(t){var _,x=t.length,S;for(o=new Array(x),_=0;_<x;++_)S=t[_],o[S.index]=+r(S,_,t)}}function g(_){var x=0,S,w,A=0,C,k,M;if(_.length){for(C=k=M=0;M<4;++M)(S=_[M])&&(w=Math.abs(S.value))&&(x+=S.value,A+=w,C+=w*S.x,k+=w*S.y);_.x=C/A,_.y=k/A}else{S=_,S.x=S.data.x,S.y=S.data.y;do x+=o[S.data.index];while(S=S.next)}_.value=x}function y(_,x,S,w){if(!_.value)return!0;var A=_.x-e.x,C=_.y-e.y,k=w-x,M=A*A+C*C;if(k*k/f<M)return M<l&&(A===0&&(A=Sn(),M+=A*A),C===0&&(C=Sn(),M+=C*C),M<u&&(M=Math.sqrt(u*M)),e.vx+=A*_.value*n/M,e.vy+=C*_.value*n/M),!0;if(_.length||M>=l)return;(_.data!==e||_.next)&&(A===0&&(A=Sn(),M+=A*A),C===0&&(C=Sn(),M+=C*C),M<u&&(M=Math.sqrt(u*M)));do _.data!==e&&(k=o[_.data.index]*n/M,e.vx+=A*k,e.vy+=C*k);while(_=_.next)}return h.initialize=function(_){t=_,p()},h.strength=function(_){return arguments.length?(r=typeof _=="function"?_:Yt(+_),p(),h):r},h.distanceMin=function(_){return arguments.length?(u=_*_,h):Math.sqrt(u)},h.distanceMax=function(_){return arguments.length?(l=_*_,h):Math.sqrt(l)},h.theta=function(_){return arguments.length?(f=_*_,h):Math.sqrt(f)},h}function XS(t,e,n){var r,o=Yt(.1),u,l;typeof t!="function"&&(t=Yt(+t)),e==null&&(e=0),n==null&&(n=0);function f(p){for(var g=0,y=r.length;g<y;++g){var _=r[g],x=_.x-e||1e-6,S=_.y-n||1e-6,w=Math.sqrt(x*x+S*S),A=(l[g]-w)*u[g]*p/w;_.vx+=x*A,_.vy+=S*A}}function h(){if(r){var p,g=r.length;for(u=new Array(g),l=new Array(g),p=0;p<g;++p)l[p]=+t(r[p],p,r),u[p]=isNaN(l[p])?0:+o(r[p],p,r)}}return f.initialize=function(p){r=p,h()},f.strength=function(p){return arguments.length?(o=typeof p=="function"?p:Yt(+p),h(),f):o},f.radius=function(p){return arguments.length?(t=typeof p=="function"?p:Yt(+p),h(),f):t},f.x=function(p){return arguments.length?(e=+p,f):e},f.y=function(p){return arguments.length?(n=+p,f):n},f}function YS(t){var e=Yt(.1),n,r,o;typeof t!="function"&&(t=Yt(t==null?0:+t));function u(f){for(var h=0,p=n.length,g;h<p;++h)g=n[h],g.vx+=(o[h]-g.x)*r[h]*f}function l(){if(n){var f,h=n.length;for(r=new Array(h),o=new Array(h),f=0;f<h;++f)r[f]=isNaN(o[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return u.initialize=function(f){n=f,l()},u.strength=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),l(),u):e},u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),l(),u):t},u}function HS(t){var e=Yt(.1),n,r,o;typeof t!="function"&&(t=Yt(t==null?0:+t));function u(f){for(var h=0,p=n.length,g;h<p;++h)g=n[h],g.vy+=(o[h]-g.y)*r[h]*f}function l(){if(n){var f,h=n.length;for(r=new Array(h),o=new Array(h),f=0;f<h;++f)r[f]=isNaN(o[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return u.initialize=function(f){n=f,l()},u.strength=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),l(),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),l(),u):t},u}function US(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Yi(t){return t=mo(Math.abs(t)),t?t[1]:NaN}function WS(t,e){return function(n,r){for(var o=n.length,u=[],l=0,f=t[0],h=0;o>0&&f>0&&(h+f+1>r&&(f=Math.max(1,r-h)),u.push(n.substring(o-=f,o+f)),!((h+=f+1)>r));)f=t[l=(l+1)%t.length];return u.reverse().join(e)}}function qS(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var jS=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jr(t){if(!(e=jS.exec(t)))throw new Error("invalid format: "+t);var e;return new As({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Jr.prototype=As.prototype;function As(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}As.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QS(t){t:for(var e=t.length,n=1,r=-1,o;n<e;++n)switch(t[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(o+1):t}var Zg;function ZS(t,e){var n=mo(t,e);if(!n)return t+"";var r=n[0],o=n[1],u=o-(Zg=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=r.length;return u===l?r:u>l?r+new Array(u-l+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+mo(t,Math.max(0,e+u-1))[0]}function Rh(t,e){var n=mo(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const Nh={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:US,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Rh(t*100,e)},r:Rh,s:ZS,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Vh(t){return t}var Dh=Array.prototype.map,Ih=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Kg(t){var e=t.grouping===void 0||t.thousands===void 0?Vh:WS(Dh.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?Vh:qS(Dh.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"-":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function p(y){y=Jr(y);var _=y.fill,x=y.align,S=y.sign,w=y.symbol,A=y.zero,C=y.width,k=y.comma,M=y.precision,$=y.trim,I=y.type;I==="n"?(k=!0,I="g"):Nh[I]||(M===void 0&&(M=12),$=!0,I="g"),(A||_==="0"&&x==="=")&&(A=!0,_="0",x="=");var B=w==="$"?n:w==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",z=w==="$"?r:/[%p]/.test(I)?l:"",Q=Nh[I],Y=/[defgprs%]/.test(I);M=M===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function T(W){var O=B,H=z,J,U,Z;if(I==="c")H=Q(W)+H,W="";else{W=+W;var it=W<0||1/W<0;if(W=isNaN(W)?h:Q(Math.abs(W),M),$&&(W=QS(W)),it&&+W==0&&S!=="+"&&(it=!1),O=(it?S==="("?S:f:S==="-"||S==="("?"":S)+O,H=(I==="s"?Ih[8+Zg/3]:"")+H+(it&&S==="("?")":""),Y){for(J=-1,U=W.length;++J<U;)if(Z=W.charCodeAt(J),48>Z||Z>57){H=(Z===46?o+W.slice(J+1):W.slice(J))+H,W=W.slice(0,J);break}}}k&&!A&&(W=e(W,1/0));var at=O.length+W.length+H.length,i=at<C?new Array(C-at+1).join(_):"";switch(k&&A&&(W=e(i+W,i.length?C-H.length:1/0),i=""),x){case"<":W=O+W+H+i;break;case"=":W=O+i+W+H;break;case"^":W=i.slice(0,at=i.length>>1)+O+W+H+i.slice(at);break;default:W=i+O+W+H;break}return u(W)}return T.toString=function(){return y+""},T}function g(y,_){var x=p((y=Jr(y),y.type="f",y)),S=Math.max(-8,Math.min(8,Math.floor(Yi(_)/3)))*3,w=Math.pow(10,-S),A=Ih[8+S/3];return function(C){return x(w*C)+A}}return{format:p,formatPrefix:g}}var Ra,Ts,yl;Jg({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Jg(t){return Ra=Kg(t),Ts=Ra.format,yl=Ra.formatPrefix,Ra}function t0(t){return Math.max(0,-Yi(Math.abs(t)))}function e0(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yi(e)/3)))*3-Yi(Math.abs(t)))}function n0(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Yi(e)-Yi(t))+1}function Nn(){return new yo}function yo(){this.reset()}yo.prototype={constructor:yo,reset:function(){this.s=this.t=0},add:function(t){Gh(Na,t,this.t),Gh(this,Na.s,this.s),this.s?this.t+=Na.t:this.s=Na.t},valueOf:function(){return this.s}};var Na=new yo;function Gh(t,e,n){var r=t.s=e+n,o=r-e,u=r-o;t.t=e-u+(n-o)}var gt=1e-6,vo=1e-12,Tt=Math.PI,Ft=Tt/2,xo=Tt/4,fe=Tt*2,kt=180/Tt,_t=Tt/180,Et=Math.abs,tr=Math.atan,he=Math.atan2,ht=Math.cos,Va=Math.ceil,i0=Math.exp,bo=Math.log,pu=Math.pow,ut=Math.sin,Oe=Math.sign||function(t){return t>0?1:t<0?-1:0},Bt=Math.sqrt,vl=Math.tan;function r0(t){return t>1?0:t<-1?Tt:Math.acos(t)}function de(t){return t>1?Ft:t<-1?-Ft:Math.asin(t)}function Fh(t){return(t=ut(t/2))*t}function Dt(){}function wo(t,e){t&&Bh.hasOwnProperty(t.type)&&Bh[t.type](t,e)}var zh={Feature:function(t,e){wo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)wo(n[r].geometry,e)}},Bh={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){oc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)oc(n[r],e,0)},Polygon:function(t,e){Xh(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Xh(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)wo(n[r],e)}};function oc(t,e,n){var r=-1,o=t.length-n,u;for(e.lineStart();++r<o;)u=t[r],e.point(u[0],u[1],u[2]);e.lineEnd()}function Xh(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)oc(t[n],e,1);e.polygonEnd()}function Ge(t,e){t&&zh.hasOwnProperty(t.type)?zh[t.type](t,e):wo(t,e)}var So=Nn(),Ao=Nn(),a0,o0,sc,uc,cc,an={point:Dt,lineStart:Dt,lineEnd:Dt,polygonStart:function(){So.reset(),an.lineStart=KS,an.lineEnd=JS},polygonEnd:function(){var t=+So;Ao.add(t<0?fe+t:t),this.lineStart=this.lineEnd=this.point=Dt},sphere:function(){Ao.add(fe)}};function KS(){an.point=tA}function JS(){s0(a0,o0)}function tA(t,e){an.point=s0,a0=t,o0=e,t*=_t,e*=_t,sc=t,uc=ht(e=e/2+xo),cc=ut(e)}function s0(t,e){t*=_t,e*=_t,e=e/2+xo;var n=t-sc,r=n>=0?1:-1,o=r*n,u=ht(e),l=ut(e),f=cc*l,h=uc*u+f*ht(o),p=f*r*ut(o);So.add(he(p,h)),sc=t,uc=u,cc=l}function eA(t){return Ao.reset(),Ge(t,an),Ao*2}function To(t){return[he(t[1],t[0]),de(t[2])]}function ri(t){var e=t[0],n=t[1],r=ht(n);return[r*ht(e),r*ut(e),ut(n)]}function Da(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Hi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function gu(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ia(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Co(t){var e=Bt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Vt,me,Gt,we,Un,u0,c0,ki,Ir=Nn(),bn,pn,ln={point:lc,lineStart:Yh,lineEnd:Hh,polygonStart:function(){ln.point=f0,ln.lineStart=nA,ln.lineEnd=iA,Ir.reset(),an.polygonStart()},polygonEnd:function(){an.polygonEnd(),ln.point=lc,ln.lineStart=Yh,ln.lineEnd=Hh,So<0?(Vt=-(Gt=180),me=-(we=90)):Ir>gt?we=90:Ir<-gt&&(me=-90),pn[0]=Vt,pn[1]=Gt},sphere:function(){Vt=-(Gt=180),me=-(we=90)}};function lc(t,e){bn.push(pn=[Vt=t,Gt=t]),e<me&&(me=e),e>we&&(we=e)}function l0(t,e){var n=ri([t*_t,e*_t]);if(ki){var r=Hi(ki,n),o=[r[1],-r[0],0],u=Hi(o,r);Co(u),u=To(u);var l=t-Un,f=l>0?1:-1,h=u[0]*kt*f,p,g=Et(l)>180;g^(f*Un<h&&h<f*t)?(p=u[1]*kt,p>we&&(we=p)):(h=(h+360)%360-180,g^(f*Un<h&&h<f*t)?(p=-u[1]*kt,p<me&&(me=p)):(e<me&&(me=e),e>we&&(we=e))),g?t<Un?be(Vt,t)>be(Vt,Gt)&&(Gt=t):be(t,Gt)>be(Vt,Gt)&&(Vt=t):Gt>=Vt?(t<Vt&&(Vt=t),t>Gt&&(Gt=t)):t>Un?be(Vt,t)>be(Vt,Gt)&&(Gt=t):be(t,Gt)>be(Vt,Gt)&&(Vt=t)}else bn.push(pn=[Vt=t,Gt=t]);e<me&&(me=e),e>we&&(we=e),ki=n,Un=t}function Yh(){ln.point=l0}function Hh(){pn[0]=Vt,pn[1]=Gt,ln.point=lc,ki=null}function f0(t,e){if(ki){var n=t-Un;Ir.add(Et(n)>180?n+(n>0?360:-360):n)}else u0=t,c0=e;an.point(t,e),l0(t,e)}function nA(){an.lineStart()}function iA(){f0(u0,c0),an.lineEnd(),Et(Ir)>gt&&(Vt=-(Gt=180)),pn[0]=Vt,pn[1]=Gt,ki=null}function be(t,e){return(e-=t)<0?e+360:e}function rA(t,e){return t[0]-e[0]}function Uh(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function aA(t){var e,n,r,o,u,l,f;if(we=Gt=-(Vt=me=1/0),bn=[],Ge(t,ln),n=bn.length){for(bn.sort(rA),e=1,r=bn[0],u=[r];e<n;++e)o=bn[e],Uh(r,o[0])||Uh(r,o[1])?(be(r[0],o[1])>be(r[0],r[1])&&(r[1]=o[1]),be(o[0],r[1])>be(r[0],r[1])&&(r[0]=o[0])):u.push(r=o);for(l=-1/0,n=u.length-1,e=0,r=u[n];e<=n;r=o,++e)o=u[e],(f=be(r[1],o[0]))>l&&(l=f,Vt=o[0],Gt=r[1])}return bn=pn=null,Vt===1/0||me===1/0?[[NaN,NaN],[NaN,NaN]]:[[Vt,me],[Gt,we]]}var wr,Po,Eo,Lo,Mo,$o,ko,Oo,fc,hc,dc,h0,d0,re,ae,oe,ze={sphere:Dt,point:xl,lineStart:Wh,lineEnd:qh,polygonStart:function(){ze.lineStart=uA,ze.lineEnd=cA},polygonEnd:function(){ze.lineStart=Wh,ze.lineEnd=qh}};function xl(t,e){t*=_t,e*=_t;var n=ht(e);da(n*ht(t),n*ut(t),ut(e))}function da(t,e,n){++wr,Eo+=(t-Eo)/wr,Lo+=(e-Lo)/wr,Mo+=(n-Mo)/wr}function Wh(){ze.point=oA}function oA(t,e){t*=_t,e*=_t;var n=ht(e);re=n*ht(t),ae=n*ut(t),oe=ut(e),ze.point=sA,da(re,ae,oe)}function sA(t,e){t*=_t,e*=_t;var n=ht(e),r=n*ht(t),o=n*ut(t),u=ut(e),l=he(Bt((l=ae*u-oe*o)*l+(l=oe*r-re*u)*l+(l=re*o-ae*r)*l),re*r+ae*o+oe*u);Po+=l,$o+=l*(re+(re=r)),ko+=l*(ae+(ae=o)),Oo+=l*(oe+(oe=u)),da(re,ae,oe)}function qh(){ze.point=xl}function uA(){ze.point=lA}function cA(){p0(h0,d0),ze.point=xl}function lA(t,e){h0=t,d0=e,t*=_t,e*=_t,ze.point=p0;var n=ht(e);re=n*ht(t),ae=n*ut(t),oe=ut(e),da(re,ae,oe)}function p0(t,e){t*=_t,e*=_t;var n=ht(e),r=n*ht(t),o=n*ut(t),u=ut(e),l=ae*u-oe*o,f=oe*r-re*u,h=re*o-ae*r,p=Bt(l*l+f*f+h*h),g=de(p),y=p&&-g/p;fc+=y*l,hc+=y*f,dc+=y*h,Po+=g,$o+=g*(re+(re=r)),ko+=g*(ae+(ae=o)),Oo+=g*(oe+(oe=u)),da(re,ae,oe)}function fA(t){wr=Po=Eo=Lo=Mo=$o=ko=Oo=fc=hc=dc=0,Ge(t,ze);var e=fc,n=hc,r=dc,o=e*e+n*n+r*r;return o<vo&&(e=$o,n=ko,r=Oo,Po<gt&&(e=Eo,n=Lo,r=Mo),o=e*e+n*n+r*r,o<vo)?[NaN,NaN]:[he(n,e)*kt,de(r/Bt(o))*kt]}function wi(t){return function(){return t}}function pc(t,e){function n(r,o){return r=t(r,o),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,o){return r=e.invert(r,o),r&&t.invert(r[0],r[1])}),n}function gc(t,e){return[Et(t)>Tt?t+Math.round(-t/fe)*fe:t,e]}gc.invert=gc;function bl(t,e,n){return(t%=fe)?e||n?pc(Qh(t),Zh(e,n)):Qh(t):e||n?Zh(e,n):gc}function jh(t){return function(e,n){return e+=t,[e>Tt?e-fe:e<-Tt?e+fe:e,n]}}function Qh(t){var e=jh(t);return e.invert=jh(-t),e}function Zh(t,e){var n=ht(t),r=ut(t),o=ht(e),u=ut(e);function l(f,h){var p=ht(h),g=ht(f)*p,y=ut(f)*p,_=ut(h),x=_*n+g*r;return[he(y*o-x*u,g*n-_*r),de(x*o+y*u)]}return l.invert=function(f,h){var p=ht(h),g=ht(f)*p,y=ut(f)*p,_=ut(h),x=_*o-y*u;return[he(y*o+_*u,g*n+x*r),de(x*n-g*r)]},l}function g0(t){t=bl(t[0]*_t,t[1]*_t,t.length>2?t[2]*_t:0);function e(n){return n=t(n[0]*_t,n[1]*_t),n[0]*=kt,n[1]*=kt,n}return e.invert=function(n){return n=t.invert(n[0]*_t,n[1]*_t),n[0]*=kt,n[1]*=kt,n},e}function _0(t,e,n,r,o,u){if(n){var l=ht(e),f=ut(e),h=r*n;o==null?(o=e+r*fe,u=e-h/2):(o=Kh(l,o),u=Kh(l,u),(r>0?o<u:o>u)&&(o+=r*fe));for(var p,g=o;r>0?g>u:g<u;g-=h)p=To([l,-f*ht(g),-f*ut(g)]),t.point(p[0],p[1])}}function Kh(t,e){e=ri(e),e[0]-=t,Co(e);var n=r0(-e[1]);return((-e[2]<0?-n:n)+fe-gt)%fe}function hA(){var t=wi([0,0]),e=wi(90),n=wi(6),r,o,u={point:l};function l(h,p){r.push(h=o(h,p)),h[0]*=kt,h[1]*=kt}function f(){var h=t.apply(this,arguments),p=e.apply(this,arguments)*_t,g=n.apply(this,arguments)*_t;return r=[],o=bl(-h[0]*_t,-h[1]*_t,0).invert,_0(u,p,g,1),h={type:"Polygon",coordinates:[r]},r=o=null,h}return f.center=function(h){return arguments.length?(t=typeof h=="function"?h:wi([+h[0],+h[1]]),f):t},f.radius=function(h){return arguments.length?(e=typeof h=="function"?h:wi(+h),f):e},f.precision=function(h){return arguments.length?(n=typeof h=="function"?h:wi(+h),f):n},f}function m0(){var t=[],e;return{point:function(n,r,o){e.push([n,r,o])},lineStart:function(){t.push(e=[])},lineEnd:Dt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function no(t,e){return Et(t[0]-e[0])<gt&&Et(t[1]-e[1])<gt}function Ga(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function y0(t,e,n,r,o){var u=[],l=[],f,h;if(t.forEach(function(S){if(!((w=S.length-1)<=0)){var w,A=S[0],C=S[w],k;if(no(A,C)){if(!A[2]&&!C[2]){for(o.lineStart(),f=0;f<w;++f)o.point((A=S[f])[0],A[1]);o.lineEnd();return}C[0]+=2*gt}u.push(k=new Ga(A,S,null,!0)),l.push(k.o=new Ga(A,null,k,!1)),u.push(k=new Ga(C,S,null,!1)),l.push(k.o=new Ga(C,null,k,!0))}}),!!u.length){for(l.sort(e),Jh(u),Jh(l),f=0,h=l.length;f<h;++f)l[f].e=n=!n;for(var p=u[0],g,y;;){for(var _=p,x=!0;_.v;)if((_=_.n)===p)return;g=_.z,o.lineStart();do{if(_.v=_.o.v=!0,_.e){if(x)for(f=0,h=g.length;f<h;++f)o.point((y=g[f])[0],y[1]);else r(_.x,_.n.x,1,o);_=_.n}else{if(x)for(g=_.p.z,f=g.length-1;f>=0;--f)o.point((y=g[f])[0],y[1]);else r(_.x,_.p.x,-1,o);_=_.p}_=_.o,g=_.z,x=!x}while(!_.v);o.lineEnd()}}}function Jh(t){if(e=t.length){for(var e,n=0,r=t[0],o;++n<e;)r.n=o=t[n],o.p=r,r=o;r.n=o=t[0],o.p=r}}var _u=Nn();function mu(t){return Et(t[0])<=Tt?t[0]:Oe(t[0])*((Et(t[0])+Tt)%fe-Tt)}function v0(t,e){var n=mu(e),r=e[1],o=ut(r),u=[ut(n),-ht(n),0],l=0,f=0;_u.reset(),o===1?r=Ft+gt:o===-1&&(r=-Ft-gt);for(var h=0,p=t.length;h<p;++h)if(y=(g=t[h]).length)for(var g,y,_=g[y-1],x=mu(_),S=_[1]/2+xo,w=ut(S),A=ht(S),C=0;C<y;++C,x=M,w=I,A=B,_=k){var k=g[C],M=mu(k),$=k[1]/2+xo,I=ut($),B=ht($),z=M-x,Q=z>=0?1:-1,Y=Q*z,T=Y>Tt,W=w*I;if(_u.add(he(W*Q*ut(Y),A*B+W*ht(Y))),l+=T?z+Q*fe:z,T^x>=n^M>=n){var O=Hi(ri(_),ri(k));Co(O);var H=Hi(u,O);Co(H);var J=(T^z>=0?-1:1)*de(H[2]);(r>J||r===J&&(O[0]||O[1]))&&(f+=T^z>=0?1:-1)}}return(l<-gt||l<gt&&_u<-gt)^f&1}function x0(t,e,n,r){return function(o){var u=e(o),l=m0(),f=e(l),h=!1,p,g,y,_={point:x,lineStart:w,lineEnd:A,polygonStart:function(){_.point=C,_.lineStart=k,_.lineEnd=M,g=[],p=[]},polygonEnd:function(){_.point=x,_.lineStart=w,_.lineEnd=A,g=Zc(g);var $=v0(p,r);g.length?(h||(o.polygonStart(),h=!0),y0(g,pA,$,n,o)):$&&(h||(o.polygonStart(),h=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),h&&(o.polygonEnd(),h=!1),g=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function x($,I){t($,I)&&o.point($,I)}function S($,I){u.point($,I)}function w(){_.point=S,u.lineStart()}function A(){_.point=x,u.lineEnd()}function C($,I){y.push([$,I]),f.point($,I)}function k(){f.lineStart(),y=[]}function M(){C(y[0][0],y[0][1]),f.lineEnd();var $=f.clean(),I=l.result(),B,z=I.length,Q,Y,T;if(y.pop(),p.push(y),y=null,!!z){if($&1){if(Y=I[0],(Q=Y.length-1)>0){for(h||(o.polygonStart(),h=!0),o.lineStart(),B=0;B<Q;++B)o.point((T=Y[B])[0],T[1]);o.lineEnd()}return}z>1&&$&2&&I.push(I.pop().concat(I.shift())),g.push(I.filter(dA))}}return _}}function dA(t){return t.length>1}function pA(t,e){return((t=t.x)[0]<0?t[1]-Ft-gt:Ft-t[1])-((e=e.x)[0]<0?e[1]-Ft-gt:Ft-e[1])}const _c=x0(function(){return!0},gA,mA,[-Tt,-Ft]);function gA(t){var e=NaN,n=NaN,r=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(u,l){var f=u>0?Tt:-Tt,h=Et(u-e);Et(h-Tt)<gt?(t.point(e,n=(n+l)/2>0?Ft:-Ft),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(u,n),o=0):r!==f&&h>=Tt&&(Et(e-r)<gt&&(e-=r*gt),Et(u-f)<gt&&(u-=f*gt),n=_A(e,n,u,l),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),o=0),t.point(e=u,n=l),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function _A(t,e,n,r){var o,u,l=ut(t-n);return Et(l)>gt?tr((ut(e)*(u=ht(r))*ut(n)-ut(r)*(o=ht(e))*ut(t))/(o*u*l)):(e+r)/2}function mA(t,e,n,r){var o;if(t==null)o=n*Ft,r.point(-Tt,o),r.point(0,o),r.point(Tt,o),r.point(Tt,0),r.point(Tt,-o),r.point(0,-o),r.point(-Tt,-o),r.point(-Tt,0),r.point(-Tt,o);else if(Et(t[0]-e[0])>gt){var u=t[0]<e[0]?Tt:-Tt;o=n*u/2,r.point(-u,o),r.point(0,o),r.point(u,o)}else r.point(e[0],e[1])}function b0(t){var e=ht(t),n=6*_t,r=e>0,o=Et(e)>gt;function u(g,y,_,x){_0(x,t,n,_,g,y)}function l(g,y){return ht(g)*ht(y)>e}function f(g){var y,_,x,S,w;return{lineStart:function(){S=x=!1,w=1},point:function(A,C){var k=[A,C],M,$=l(A,C),I=r?$?0:p(A,C):$?p(A+(A<0?Tt:-Tt),C):0;if(!y&&(S=x=$)&&g.lineStart(),$!==x&&(M=h(y,k),(!M||no(y,M)||no(k,M))&&(k[2]=1)),$!==x)w=0,$?(g.lineStart(),M=h(k,y),g.point(M[0],M[1])):(M=h(y,k),g.point(M[0],M[1],2),g.lineEnd()),y=M;else if(o&&y&&r^$){var B;!(I&_)&&(B=h(k,y,!0))&&(w=0,r?(g.lineStart(),g.point(B[0][0],B[0][1]),g.point(B[1][0],B[1][1]),g.lineEnd()):(g.point(B[1][0],B[1][1]),g.lineEnd(),g.lineStart(),g.point(B[0][0],B[0][1],3)))}$&&(!y||!no(y,k))&&g.point(k[0],k[1]),y=k,x=$,_=I},lineEnd:function(){x&&g.lineEnd(),y=null},clean:function(){return w|(S&&x)<<1}}}function h(g,y,_){var x=ri(g),S=ri(y),w=[1,0,0],A=Hi(x,S),C=Da(A,A),k=A[0],M=C-k*k;if(!M)return!_&&g;var $=e*C/M,I=-e*k/M,B=Hi(w,A),z=Ia(w,$),Q=Ia(A,I);gu(z,Q);var Y=B,T=Da(z,Y),W=Da(Y,Y),O=T*T-W*(Da(z,z)-1);if(!(O<0)){var H=Bt(O),J=Ia(Y,(-T-H)/W);if(gu(J,z),J=To(J),!_)return J;var U=g[0],Z=y[0],it=g[1],at=y[1],i;Z<U&&(i=U,U=Z,Z=i);var a=Z-U,s=Et(a-Tt)<gt,c=s||a<gt;if(!s&&at<it&&(i=it,it=at,at=i),c?s?it+at>0^J[1]<(Et(J[0]-U)<gt?it:at):it<=J[1]&&J[1]<=at:a>Tt^(U<=J[0]&&J[0]<=Z)){var d=Ia(Y,(-T+H)/W);return gu(d,z),[J,To(d)]}}}function p(g,y){var _=r?t:Tt-t,x=0;return g<-_?x|=1:g>_&&(x|=2),y<-_?x|=4:y>_&&(x|=8),x}return x0(l,f,u,r?[0,-t]:[-Tt,t-Tt])}function yA(t,e,n,r,o,u){var l=t[0],f=t[1],h=e[0],p=e[1],g=0,y=1,_=h-l,x=p-f,S;if(S=n-l,!(!_&&S>0)){if(S/=_,_<0){if(S<g)return;S<y&&(y=S)}else if(_>0){if(S>y)return;S>g&&(g=S)}if(S=o-l,!(!_&&S<0)){if(S/=_,_<0){if(S>y)return;S>g&&(g=S)}else if(_>0){if(S<g)return;S<y&&(y=S)}if(S=r-f,!(!x&&S>0)){if(S/=x,x<0){if(S<g)return;S<y&&(y=S)}else if(x>0){if(S>y)return;S>g&&(g=S)}if(S=u-f,!(!x&&S<0)){if(S/=x,x<0){if(S>y)return;S>g&&(g=S)}else if(x>0){if(S<g)return;S<y&&(y=S)}return g>0&&(t[0]=l+g*_,t[1]=f+g*x),y<1&&(e[0]=l+y*_,e[1]=f+y*x),!0}}}}}var Sr=1e9,Fa=-Sr;function Cs(t,e,n,r){function o(p,g){return t<=p&&p<=n&&e<=g&&g<=r}function u(p,g,y,_){var x=0,S=0;if(p==null||(x=l(p,y))!==(S=l(g,y))||h(p,g)<0^y>0)do _.point(x===0||x===3?t:n,x>1?r:e);while((x=(x+y+4)%4)!==S);else _.point(g[0],g[1])}function l(p,g){return Et(p[0]-t)<gt?g>0?0:3:Et(p[0]-n)<gt?g>0?2:1:Et(p[1]-e)<gt?g>0?1:0:g>0?3:2}function f(p,g){return h(p.x,g.x)}function h(p,g){var y=l(p,1),_=l(g,1);return y!==_?y-_:y===0?g[1]-p[1]:y===1?p[0]-g[0]:y===2?p[1]-g[1]:g[0]-p[0]}return function(p){var g=p,y=m0(),_,x,S,w,A,C,k,M,$,I,B,z={point:Q,lineStart:O,lineEnd:H,polygonStart:T,polygonEnd:W};function Q(U,Z){o(U,Z)&&g.point(U,Z)}function Y(){for(var U=0,Z=0,it=x.length;Z<it;++Z)for(var at=x[Z],i=1,a=at.length,s=at[0],c,d,v=s[0],b=s[1];i<a;++i)c=v,d=b,s=at[i],v=s[0],b=s[1],d<=r?b>r&&(v-c)*(r-d)>(b-d)*(t-c)&&++U:b<=r&&(v-c)*(r-d)<(b-d)*(t-c)&&--U;return U}function T(){g=y,_=[],x=[],B=!0}function W(){var U=Y(),Z=B&&U,it=(_=Zc(_)).length;(Z||it)&&(p.polygonStart(),Z&&(p.lineStart(),u(null,null,1,p),p.lineEnd()),it&&y0(_,f,U,u,p),p.polygonEnd()),g=p,_=x=S=null}function O(){z.point=J,x&&x.push(S=[]),I=!0,$=!1,k=M=NaN}function H(){_&&(J(w,A),C&&$&&y.rejoin(),_.push(y.result())),z.point=Q,$&&g.lineEnd()}function J(U,Z){var it=o(U,Z);if(x&&S.push([U,Z]),I)w=U,A=Z,C=it,I=!1,it&&(g.lineStart(),g.point(U,Z));else if(it&&$)g.point(U,Z);else{var at=[k=Math.max(Fa,Math.min(Sr,k)),M=Math.max(Fa,Math.min(Sr,M))],i=[U=Math.max(Fa,Math.min(Sr,U)),Z=Math.max(Fa,Math.min(Sr,Z))];yA(at,i,t,e,n,r)?($||(g.lineStart(),g.point(at[0],at[1])),g.point(i[0],i[1]),it||g.lineEnd(),B=!1):it&&(g.lineStart(),g.point(U,Z),B=!1)}k=U,M=Z,$=it}return z}}function vA(){var t=0,e=0,n=960,r=500,o,u,l;return l={stream:function(f){return o&&u===f?o:o=Cs(t,e,n,r)(u=f)},extent:function(f){return arguments.length?(t=+f[0][0],e=+f[0][1],n=+f[1][0],r=+f[1][1],o=u=null,l):[[t,e],[n,r]]}}}var mc=Nn(),yc,io,ro,Ui={sphere:Dt,point:Dt,lineStart:xA,lineEnd:Dt,polygonStart:Dt,polygonEnd:Dt};function xA(){Ui.point=wA,Ui.lineEnd=bA}function bA(){Ui.point=Ui.lineEnd=Dt}function wA(t,e){t*=_t,e*=_t,yc=t,io=ut(e),ro=ht(e),Ui.point=SA}function SA(t,e){t*=_t,e*=_t;var n=ut(e),r=ht(e),o=Et(t-yc),u=ht(o),l=ut(o),f=r*l,h=ro*n-io*r*u,p=io*n+ro*r*u;mc.add(he(Bt(f*f+h*h),p)),yc=t,io=n,ro=r}function w0(t){return mc.reset(),Ge(t,Ui),+mc}var vc=[null,null],AA={type:"LineString",coordinates:vc};function Ro(t,e){return vc[0]=t,vc[1]=e,w0(AA)}var td={Feature:function(t,e){return No(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)if(No(n[r].geometry,e))return!0;return!1}},ed={Sphere:function(){return!0},Point:function(t,e){return nd(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(nd(n[r],e))return!0;return!1},LineString:function(t,e){return id(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(id(n[r],e))return!0;return!1},Polygon:function(t,e){return rd(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(rd(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)if(No(n[r],e))return!0;return!1}};function No(t,e){return t&&ed.hasOwnProperty(t.type)?ed[t.type](t,e):!1}function nd(t,e){return Ro(t,e)===0}function id(t,e){for(var n,r,o,u=0,l=t.length;u<l;u++){if(r=Ro(t[u],e),r===0||u>0&&(o=Ro(t[u],t[u-1]),o>0&&n<=o&&r<=o&&(n+r-o)*(1-Math.pow((n-r)/o,2))<vo*o))return!0;n=r}return!1}function rd(t,e){return!!v0(t.map(TA),S0(e))}function TA(t){return t=t.map(S0),t.pop(),t}function S0(t){return[t[0]*_t,t[1]*_t]}function CA(t,e){return(t&&td.hasOwnProperty(t.type)?td[t.type]:No)(t,e)}function ad(t,e,n){var r=Ae(t,e-gt,n).concat(e);return function(o){return r.map(function(u){return[o,u]})}}function od(t,e,n){var r=Ae(t,e-gt,n).concat(e);return function(o){return r.map(function(u){return[u,o]})}}function A0(){var t,e,n,r,o,u,l,f,h=10,p=h,g=90,y=360,_,x,S,w,A=2.5;function C(){return{type:"MultiLineString",coordinates:k()}}function k(){return Ae(Va(r/g)*g,n,g).map(S).concat(Ae(Va(f/y)*y,l,y).map(w)).concat(Ae(Va(e/h)*h,t,h).filter(function(M){return Et(M%g)>gt}).map(_)).concat(Ae(Va(u/p)*p,o,p).filter(function(M){return Et(M%y)>gt}).map(x))}return C.lines=function(){return k().map(function(M){return{type:"LineString",coordinates:M}})},C.outline=function(){return{type:"Polygon",coordinates:[S(r).concat(w(l).slice(1),S(n).reverse().slice(1),w(f).reverse().slice(1))]}},C.extent=function(M){return arguments.length?C.extentMajor(M).extentMinor(M):C.extentMinor()},C.extentMajor=function(M){return arguments.length?(r=+M[0][0],n=+M[1][0],f=+M[0][1],l=+M[1][1],r>n&&(M=r,r=n,n=M),f>l&&(M=f,f=l,l=M),C.precision(A)):[[r,f],[n,l]]},C.extentMinor=function(M){return arguments.length?(e=+M[0][0],t=+M[1][0],u=+M[0][1],o=+M[1][1],e>t&&(M=e,e=t,t=M),u>o&&(M=u,u=o,o=M),C.precision(A)):[[e,u],[t,o]]},C.step=function(M){return arguments.length?C.stepMajor(M).stepMinor(M):C.stepMinor()},C.stepMajor=function(M){return arguments.length?(g=+M[0],y=+M[1],C):[g,y]},C.stepMinor=function(M){return arguments.length?(h=+M[0],p=+M[1],C):[h,p]},C.precision=function(M){return arguments.length?(A=+M,_=ad(u,o,90),x=od(e,t,A),S=ad(f,l,90),w=od(r,n,A),C):A},C.extentMajor([[-180,-90+gt],[180,90-gt]]).extentMinor([[-180,-80-gt],[180,80+gt]])}function PA(){return A0()()}function EA(t,e){var n=t[0]*_t,r=t[1]*_t,o=e[0]*_t,u=e[1]*_t,l=ht(r),f=ut(r),h=ht(u),p=ut(u),g=l*ht(n),y=l*ut(n),_=h*ht(o),x=h*ut(o),S=2*de(Bt(Fh(u-r)+l*h*Fh(o-n))),w=ut(S),A=S?function(C){var k=ut(C*=S)/w,M=ut(S-C)/w,$=M*g+k*_,I=M*y+k*x,B=M*f+k*p;return[he(I,$)*kt,he(B,Bt($*$+I*I))*kt]}:function(){return[n*kt,r*kt]};return A.distance=S,A}function ta(t){return t}var yu=Nn(),xc=Nn(),T0,C0,bc,wc,wn={point:Dt,lineStart:Dt,lineEnd:Dt,polygonStart:function(){wn.lineStart=LA,wn.lineEnd=$A},polygonEnd:function(){wn.lineStart=wn.lineEnd=wn.point=Dt,yu.add(Et(xc)),xc.reset()},result:function(){var t=yu/2;return yu.reset(),t}};function LA(){wn.point=MA}function MA(t,e){wn.point=P0,T0=bc=t,C0=wc=e}function P0(t,e){xc.add(wc*t-bc*e),bc=t,wc=e}function $A(){P0(T0,C0)}const sd=wn;var Wi=1/0,Vo=Wi,ea=-Wi,Do=ea,kA={point:OA,lineStart:Dt,lineEnd:Dt,polygonStart:Dt,polygonEnd:Dt,result:function(){var t=[[Wi,Vo],[ea,Do]];return ea=Do=-(Vo=Wi=1/0),t}};function OA(t,e){t<Wi&&(Wi=t),t>ea&&(ea=t),e<Vo&&(Vo=e),e>Do&&(Do=e)}const Io=kA;var Sc=0,Ac=0,Ar=0,Go=0,Fo=0,Ci=0,Tc=0,Cc=0,Tr=0,E0,L0,Ze,Ke,Fe={point:ai,lineStart:ud,lineEnd:cd,polygonStart:function(){Fe.lineStart=VA,Fe.lineEnd=DA},polygonEnd:function(){Fe.point=ai,Fe.lineStart=ud,Fe.lineEnd=cd},result:function(){var t=Tr?[Tc/Tr,Cc/Tr]:Ci?[Go/Ci,Fo/Ci]:Ar?[Sc/Ar,Ac/Ar]:[NaN,NaN];return Sc=Ac=Ar=Go=Fo=Ci=Tc=Cc=Tr=0,t}};function ai(t,e){Sc+=t,Ac+=e,++Ar}function ud(){Fe.point=RA}function RA(t,e){Fe.point=NA,ai(Ze=t,Ke=e)}function NA(t,e){var n=t-Ze,r=e-Ke,o=Bt(n*n+r*r);Go+=o*(Ze+t)/2,Fo+=o*(Ke+e)/2,Ci+=o,ai(Ze=t,Ke=e)}function cd(){Fe.point=ai}function VA(){Fe.point=IA}function DA(){M0(E0,L0)}function IA(t,e){Fe.point=M0,ai(E0=Ze=t,L0=Ke=e)}function M0(t,e){var n=t-Ze,r=e-Ke,o=Bt(n*n+r*r);Go+=o*(Ze+t)/2,Fo+=o*(Ke+e)/2,Ci+=o,o=Ke*t-Ze*e,Tc+=o*(Ze+t),Cc+=o*(Ke+e),Tr+=o*3,ai(Ze=t,Ke=e)}const ld=Fe;function $0(t){this._context=t}$0.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,fe);break}}},result:Dt};var Pc=Nn(),vu,k0,O0,Cr,Pr,zo={point:Dt,lineStart:function(){zo.point=GA},lineEnd:function(){vu&&R0(k0,O0),zo.point=Dt},polygonStart:function(){vu=!0},polygonEnd:function(){vu=null},result:function(){var t=+Pc;return Pc.reset(),t}};function GA(t,e){zo.point=R0,k0=Cr=t,O0=Pr=e}function R0(t,e){Cr-=t,Pr-=e,Pc.add(Bt(Cr*Cr+Pr*Pr)),Cr=t,Pr=e}const fd=zo;function N0(){this._string=[]}N0.prototype={_radius:4.5,_circle:hd(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=hd(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function hd(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function FA(t,e){var n=4.5,r,o;function u(l){return l&&(typeof n=="function"&&o.pointRadius(+n.apply(this,arguments)),Ge(l,r(o))),o.result()}return u.area=function(l){return Ge(l,r(sd)),sd.result()},u.measure=function(l){return Ge(l,r(fd)),fd.result()},u.bounds=function(l){return Ge(l,r(Io)),Io.result()},u.centroid=function(l){return Ge(l,r(ld)),ld.result()},u.projection=function(l){return arguments.length?(r=l==null?(t=null,ta):(t=l).stream,u):t},u.context=function(l){return arguments.length?(o=l==null?(e=null,new N0):new $0(e=l),typeof n!="function"&&o.pointRadius(n),u):e},u.pointRadius=function(l){return arguments.length?(n=typeof l=="function"?l:(o.pointRadius(+l),+l),u):n},u.projection(t).context(e)}function zA(t){return{stream:pa(t)}}function pa(t){return function(e){var n=new Ec;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Ec(){}Ec.prototype={constructor:Ec,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function wl(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Ge(n,t.stream(Io)),e(Io.result()),r!=null&&t.clipExtent(r),t}function Ps(t,e,n){return wl(t,function(r){var o=e[1][0]-e[0][0],u=e[1][1]-e[0][1],l=Math.min(o/(r[1][0]-r[0][0]),u/(r[1][1]-r[0][1])),f=+e[0][0]+(o-l*(r[1][0]+r[0][0]))/2,h=+e[0][1]+(u-l*(r[1][1]+r[0][1]))/2;t.scale(150*l).translate([f,h])},n)}function Sl(t,e,n){return Ps(t,[[0,0],e],n)}function Al(t,e,n){return wl(t,function(r){var o=+e,u=o/(r[1][0]-r[0][0]),l=(o-u*(r[1][0]+r[0][0]))/2,f=-u*r[0][1];t.scale(150*u).translate([l,f])},n)}function Tl(t,e,n){return wl(t,function(r){var o=+e,u=o/(r[1][1]-r[0][1]),l=-u*r[0][0],f=(o-u*(r[1][1]+r[0][1]))/2;t.scale(150*u).translate([l,f])},n)}var dd=16,BA=ht(30*_t);function pd(t,e){return+e?YA(t,e):XA(t)}function XA(t){return pa({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function YA(t,e){function n(r,o,u,l,f,h,p,g,y,_,x,S,w,A){var C=p-r,k=g-o,M=C*C+k*k;if(M>4*e&&w--){var $=l+_,I=f+x,B=h+S,z=Bt($*$+I*I+B*B),Q=de(B/=z),Y=Et(Et(B)-1)<gt||Et(u-y)<gt?(u+y)/2:he(I,$),T=t(Y,Q),W=T[0],O=T[1],H=W-r,J=O-o,U=k*H-C*J;(U*U/M>e||Et((C*H+k*J)/M-.5)>.3||l*_+f*x+h*S<BA)&&(n(r,o,u,l,f,h,W,O,Y,$/=z,I/=z,B,w,A),A.point(W,O),n(W,O,Y,$,I,B,p,g,y,_,x,S,w,A))}}return function(r){var o,u,l,f,h,p,g,y,_,x,S,w,A={point:C,lineStart:k,lineEnd:$,polygonStart:function(){r.polygonStart(),A.lineStart=I},polygonEnd:function(){r.polygonEnd(),A.lineStart=k}};function C(Q,Y){Q=t(Q,Y),r.point(Q[0],Q[1])}function k(){y=NaN,A.point=M,r.lineStart()}function M(Q,Y){var T=ri([Q,Y]),W=t(Q,Y);n(y,_,g,x,S,w,y=W[0],_=W[1],g=Q,x=T[0],S=T[1],w=T[2],dd,r),r.point(y,_)}function $(){A.point=C,r.lineEnd()}function I(){k(),A.point=B,A.lineEnd=z}function B(Q,Y){M(o=Q,Y),u=y,l=_,f=x,h=S,p=w,A.point=M}function z(){n(y,_,g,x,S,w,u,l,o,f,h,p,dd,r),A.lineEnd=$,$()}return A}}var HA=pa({point:function(t,e){this.stream.point(t*_t,e*_t)}});function UA(t){return pa({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function WA(t,e,n,r,o){function u(l,f){return l*=r,f*=o,[e+t*l,n-t*f]}return u.invert=function(l,f){return[(l-e)/t*r,(n-f)/t*o]},u}function gd(t,e,n,r,o,u){var l=ht(u),f=ut(u),h=l*t,p=f*t,g=l/t,y=f/t,_=(f*n-l*e)/t,x=(f*e+l*n)/t;function S(w,A){return w*=r,A*=o,[h*w-p*A+e,n-p*w-h*A]}return S.invert=function(w,A){return[r*(g*w-y*A+_),o*(x-y*w-g*A)]},S}function on(t){return Cl(function(){return t})()}function Cl(t){var e,n=150,r=480,o=250,u=0,l=0,f=0,h=0,p=0,g,y=0,_=1,x=1,S=null,w=_c,A=null,C,k,M,$=ta,I=.5,B,z,Q,Y,T;function W(U){return Q(U[0]*_t,U[1]*_t)}function O(U){return U=Q.invert(U[0],U[1]),U&&[U[0]*kt,U[1]*kt]}W.stream=function(U){return Y&&T===U?Y:Y=HA(UA(g)(w(B($(T=U)))))},W.preclip=function(U){return arguments.length?(w=U,S=void 0,J()):w},W.postclip=function(U){return arguments.length?($=U,A=C=k=M=null,J()):$},W.clipAngle=function(U){return arguments.length?(w=+U?b0(S=U*_t):(S=null,_c),J()):S*kt},W.clipExtent=function(U){return arguments.length?($=U==null?(A=C=k=M=null,ta):Cs(A=+U[0][0],C=+U[0][1],k=+U[1][0],M=+U[1][1]),J()):A==null?null:[[A,C],[k,M]]},W.scale=function(U){return arguments.length?(n=+U,H()):n},W.translate=function(U){return arguments.length?(r=+U[0],o=+U[1],H()):[r,o]},W.center=function(U){return arguments.length?(u=U[0]%360*_t,l=U[1]%360*_t,H()):[u*kt,l*kt]},W.rotate=function(U){return arguments.length?(f=U[0]%360*_t,h=U[1]%360*_t,p=U.length>2?U[2]%360*_t:0,H()):[f*kt,h*kt,p*kt]},W.angle=function(U){return arguments.length?(y=U%360*_t,H()):y*kt},W.reflectX=function(U){return arguments.length?(_=U?-1:1,H()):_<0},W.reflectY=function(U){return arguments.length?(x=U?-1:1,H()):x<0},W.precision=function(U){return arguments.length?(B=pd(z,I=U*U),J()):Bt(I)},W.fitExtent=function(U,Z){return Ps(W,U,Z)},W.fitSize=function(U,Z){return Sl(W,U,Z)},W.fitWidth=function(U,Z){return Al(W,U,Z)},W.fitHeight=function(U,Z){return Tl(W,U,Z)};function H(){var U=gd(n,0,0,_,x,y).apply(null,e(u,l)),Z=(y?gd:WA)(n,r-U[0],o-U[1],_,x,y);return g=bl(f,h,p),z=pc(e,Z),Q=pc(g,z),B=pd(z,I),J()}function J(){return Y=T=null,W}return function(){return e=t.apply(this,arguments),W.invert=e.invert&&O,H()}}function Pl(t){var e=0,n=Tt/3,r=Cl(t),o=r(e,n);return o.parallels=function(u){return arguments.length?r(e=u[0]*_t,n=u[1]*_t):[e*kt,n*kt]},o}function qA(t){var e=ht(t);function n(r,o){return[r*e,ut(o)/e]}return n.invert=function(r,o){return[r/e,de(o*e)]},n}function V0(t,e){var n=ut(t),r=(n+ut(e))/2;if(Et(r)<gt)return qA(t);var o=1+n*(2*r-n),u=Bt(o)/r;function l(f,h){var p=Bt(o-2*r*ut(h))/r;return[p*ut(f*=r),u-p*ht(f)]}return l.invert=function(f,h){var p=u-h,g=he(f,Et(p))*Oe(p);return p*r<0&&(g-=Tt*Oe(f)*Oe(p)),[g/r,de((o-(f*f+p*p)*r*r)/(2*r))]},l}function Bo(){return Pl(V0).scale(155.424).center([0,33.6442])}function D0(){return Bo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function jA(t){var e=t.length;return{point:function(n,r){for(var o=-1;++o<e;)t[o].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function QA(){var t,e,n=D0(),r,o=Bo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u,l=Bo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,h,p={point:function(_,x){h=[_,x]}};function g(_){var x=_[0],S=_[1];return h=null,r.point(x,S),h||(u.point(x,S),h)||(f.point(x,S),h)}g.invert=function(_){var x=n.scale(),S=n.translate(),w=(_[0]-S[0])/x,A=(_[1]-S[1])/x;return(A>=.12&&A<.234&&w>=-.425&&w<-.214?o:A>=.166&&A<.234&&w>=-.214&&w<-.115?l:n).invert(_)},g.stream=function(_){return t&&e===_?t:t=jA([n.stream(e=_),o.stream(_),l.stream(_)])},g.precision=function(_){return arguments.length?(n.precision(_),o.precision(_),l.precision(_),y()):n.precision()},g.scale=function(_){return arguments.length?(n.scale(_),o.scale(_*.35),l.scale(_),g.translate(n.translate())):n.scale()},g.translate=function(_){if(!arguments.length)return n.translate();var x=n.scale(),S=+_[0],w=+_[1];return r=n.translate(_).clipExtent([[S-.455*x,w-.238*x],[S+.455*x,w+.238*x]]).stream(p),u=o.translate([S-.307*x,w+.201*x]).clipExtent([[S-.425*x+gt,w+.12*x+gt],[S-.214*x-gt,w+.234*x-gt]]).stream(p),f=l.translate([S-.205*x,w+.212*x]).clipExtent([[S-.214*x+gt,w+.166*x+gt],[S-.115*x-gt,w+.234*x-gt]]).stream(p),y()},g.fitExtent=function(_,x){return Ps(g,_,x)},g.fitSize=function(_,x){return Sl(g,_,x)},g.fitWidth=function(_,x){return Al(g,_,x)},g.fitHeight=function(_,x){return Tl(g,_,x)};function y(){return t=e=null,g}return g.scale(1070)}function I0(t){return function(e,n){var r=ht(e),o=ht(n),u=t(r*o);return[u*o*ut(e),u*ut(n)]}}function ga(t){return function(e,n){var r=Bt(e*e+n*n),o=t(r),u=ut(o),l=ht(o);return[he(e*u,r*l),de(r&&n*u/r)]}}var El=I0(function(t){return Bt(2/(1+t))});El.invert=ga(function(t){return 2*de(t/2)});function ZA(){return on(El).scale(124.75).clipAngle(180-.001)}var Ll=I0(function(t){return(t=r0(t))&&t/ut(t)});Ll.invert=ga(function(t){return t});function KA(){return on(Ll).scale(79.4188).clipAngle(180-.001)}function _a(t,e){return[t,bo(vl((Ft+e)/2))]}_a.invert=function(t,e){return[t,2*tr(i0(e))-Ft]};function JA(){return G0(_a).scale(961/fe)}function G0(t){var e=on(t),n=e.center,r=e.scale,o=e.translate,u=e.clipExtent,l=null,f,h,p;e.scale=function(y){return arguments.length?(r(y),g()):r()},e.translate=function(y){return arguments.length?(o(y),g()):o()},e.center=function(y){return arguments.length?(n(y),g()):n()},e.clipExtent=function(y){return arguments.length?(y==null?l=f=h=p=null:(l=+y[0][0],f=+y[0][1],h=+y[1][0],p=+y[1][1]),g()):l==null?null:[[l,f],[h,p]]};function g(){var y=Tt*r(),_=e(g0(e.rotate()).invert([0,0]));return u(l==null?[[_[0]-y,_[1]-y],[_[0]+y,_[1]+y]]:t===_a?[[Math.max(_[0]-y,l),f],[Math.min(_[0]+y,h),p]]:[[l,Math.max(_[1]-y,f)],[h,Math.min(_[1]+y,p)]])}return g()}function za(t){return vl((Ft+t)/2)}function F0(t,e){var n=ht(t),r=t===e?ut(t):bo(n/ht(e))/bo(za(e)/za(t)),o=n*pu(za(t),r)/r;if(!r)return _a;function u(l,f){o>0?f<-Ft+gt&&(f=-Ft+gt):f>Ft-gt&&(f=Ft-gt);var h=o/pu(za(f),r);return[h*ut(r*l),o-h*ht(r*l)]}return u.invert=function(l,f){var h=o-f,p=Oe(r)*Bt(l*l+h*h),g=he(l,Et(h))*Oe(h);return h*r<0&&(g-=Tt*Oe(l)*Oe(h)),[g/r,2*tr(pu(o/p,1/r))-Ft]},u}function tT(){return Pl(F0).scale(109.5).parallels([30,30])}function na(t,e){return[t,e]}na.invert=na;function eT(){return on(na).scale(152.63)}function z0(t,e){var n=ht(t),r=t===e?ut(t):(n-ht(e))/(e-t),o=n/r+t;if(Et(r)<gt)return na;function u(l,f){var h=o-f,p=r*l;return[h*ut(p),o-h*ht(p)]}return u.invert=function(l,f){var h=o-f,p=he(l,Et(h))*Oe(h);return h*r<0&&(p-=Tt*Oe(l)*Oe(h)),[p/r,o-Oe(r)*Bt(l*l+h*h)]},u}function nT(){return Pl(z0).scale(131.154).center([0,13.9389])}var Gr=1.340264,Fr=-.081106,zr=893e-6,Br=.003796,Xo=Bt(3)/2,iT=12;function Ml(t,e){var n=de(Xo*ut(e)),r=n*n,o=r*r*r;return[t*ht(n)/(Xo*(Gr+3*Fr*r+o*(7*zr+9*Br*r))),n*(Gr+Fr*r+o*(zr+Br*r))]}Ml.invert=function(t,e){for(var n=e,r=n*n,o=r*r*r,u=0,l,f,h;u<iT&&(f=n*(Gr+Fr*r+o*(zr+Br*r))-e,h=Gr+3*Fr*r+o*(7*zr+9*Br*r),n-=l=f/h,r=n*n,o=r*r*r,!(Et(l)<vo));++u);return[Xo*t*(Gr+3*Fr*r+o*(7*zr+9*Br*r))/ht(n),de(ut(n)/Xo)]};function rT(){return on(Ml).scale(177.158)}function $l(t,e){var n=ht(e),r=ht(t)*n;return[n*ut(t)/r,ut(e)/r]}$l.invert=ga(tr);function aT(){return on($l).scale(144.049).clipAngle(60)}function oT(){var t=1,e=0,n=0,r=1,o=1,u=0,l,f,h=null,p,g,y,_=1,x=1,S=pa({point:function($,I){var B=M([$,I]);this.stream.point(B[0],B[1])}}),w=ta,A,C;function k(){return _=t*r,x=t*o,A=C=null,M}function M($){var I=$[0]*_,B=$[1]*x;if(u){var z=B*l-I*f;I=I*l+B*f,B=z}return[I+e,B+n]}return M.invert=function($){var I=$[0]-e,B=$[1]-n;if(u){var z=B*l+I*f;I=I*l-B*f,B=z}return[I/_,B/x]},M.stream=function($){return A&&C===$?A:A=S(w(C=$))},M.postclip=function($){return arguments.length?(w=$,h=p=g=y=null,k()):w},M.clipExtent=function($){return arguments.length?(w=$==null?(h=p=g=y=null,ta):Cs(h=+$[0][0],p=+$[0][1],g=+$[1][0],y=+$[1][1]),k()):h==null?null:[[h,p],[g,y]]},M.scale=function($){return arguments.length?(t=+$,k()):t},M.translate=function($){return arguments.length?(e=+$[0],n=+$[1],k()):[e,n]},M.angle=function($){return arguments.length?(u=$%360*_t,f=ut(u),l=ht(u),k()):u*kt},M.reflectX=function($){return arguments.length?(r=$?-1:1,k()):r<0},M.reflectY=function($){return arguments.length?(o=$?-1:1,k()):o<0},M.fitExtent=function($,I){return Ps(M,$,I)},M.fitSize=function($,I){return Sl(M,$,I)},M.fitWidth=function($,I){return Al(M,$,I)},M.fitHeight=function($,I){return Tl(M,$,I)},M}function kl(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}kl.invert=function(t,e){var n=e,r=25,o;do{var u=n*n,l=u*u;n-=o=(n*(1.007226+u*(.015085+l*(-.044475+.028874*u-.005916*l)))-e)/(1.007226+u*(.015085*3+l*(-.044475*7+.028874*9*u-.005916*11*l)))}while(Et(o)>gt&&--r>0);return[t/(.8707+(u=n*n)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),n]};function sT(){return on(kl).scale(175.295)}function Ol(t,e){return[ht(e)*ut(t),ut(e)]}Ol.invert=ga(de);function uT(){return on(Ol).scale(249.5).clipAngle(90+gt)}function Rl(t,e){var n=ht(e),r=1+ht(t)*n;return[n*ut(t)/r,ut(e)/r]}Rl.invert=ga(function(t){return 2*tr(t)});function cT(){return on(Rl).scale(250).clipAngle(142)}function Nl(t,e){return[bo(vl((Ft+e)/2)),-t]}Nl.invert=function(t,e){return[-e,2*tr(i0(t))-Ft]};function lT(){var t=G0(Nl),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function fT(t,e){return t.parent===e.parent?1:2}function hT(t){return t.reduce(dT,0)/t.length}function dT(t,e){return t+e.x}function pT(t){return 1+t.reduce(gT,0)}function gT(t,e){return Math.max(t,e.y)}function _T(t){for(var e;e=t.children;)t=e[0];return t}function mT(t){for(var e;e=t.children;)t=e[e.length-1];return t}function yT(){var t=fT,e=1,n=1,r=!1;function o(u){var l,f=0;u.eachAfter(function(_){var x=_.children;x?(_.x=hT(x),_.y=pT(x)):(_.x=l?f+=t(_,l):0,_.y=0,l=_)});var h=_T(u),p=mT(u),g=h.x-t(h,p)/2,y=p.x+t(p,h)/2;return u.eachAfter(r?function(_){_.x=(_.x-u.x)*e,_.y=(u.y-_.y)*n}:function(_){_.x=(_.x-g)/(y-g)*e,_.y=(1-(u.y?_.y/u.y:1))*n})}return o.separation=function(u){return arguments.length?(t=u,o):t},o.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],o):r?null:[e,n]},o.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],o):r?[e,n]:null},o}function vT(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function xT(){return this.eachAfter(vT)}function bT(t){var e=this,n,r=[e],o,u,l;do for(n=r.reverse(),r=[];e=n.pop();)if(t(e),o=e.children,o)for(u=0,l=o.length;u<l;++u)r.push(o[u]);while(r.length);return this}function wT(t){for(var e=this,n=[e],r,o;e=n.pop();)if(t(e),r=e.children,r)for(o=r.length-1;o>=0;--o)n.push(r[o]);return this}function ST(t){for(var e=this,n=[e],r=[],o,u,l;e=n.pop();)if(r.push(e),o=e.children,o)for(u=0,l=o.length;u<l;++u)n.push(o[u]);for(;e=r.pop();)t(e);return this}function AT(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,o=r&&r.length;--o>=0;)n+=r[o].value;e.value=n})}function TT(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function CT(t){for(var e=this,n=PT(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var o=r.length;t!==n;)r.splice(o,0,t),t=t.parent;return r}function PT(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),o=null;for(t=n.pop(),e=r.pop();t===e;)o=t,t=n.pop(),e=r.pop();return o}function ET(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function LT(){var t=[];return this.each(function(e){t.push(e)}),t}function MT(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function $T(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function Vl(t,e){var n=new qi(t),r=+t.value&&(n.value=t.value),o,u=[n],l,f,h,p;for(e==null&&(e=OT);o=u.pop();)if(r&&(o.value=+o.data.value),(f=e(o.data))&&(p=f.length))for(o.children=new Array(p),h=p-1;h>=0;--h)u.push(l=o.children[h]=new qi(f[h])),l.parent=o,l.depth=o.depth+1;return n.eachBefore(B0)}function kT(){return Vl(this).eachBefore(RT)}function OT(t){return t.children}function RT(t){t.data=t.data.data}function B0(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function qi(t){this.data=t,this.depth=this.height=0,this.parent=null}qi.prototype=Vl.prototype={constructor:qi,count:xT,each:bT,eachAfter:ST,eachBefore:wT,sum:AT,sort:TT,path:CT,ancestors:ET,descendants:LT,leaves:MT,links:$T,copy:kT};var NT=Array.prototype.slice;function VT(t){for(var e=t.length,n,r;e;)r=Math.random()*e--|0,n=t[e],t[e]=t[r],t[r]=n;return t}function X0(t){for(var e=0,n=(t=VT(NT.call(t))).length,r=[],o,u;e<n;)o=t[e],u&&Y0(u,o)?++e:(u=IT(r=DT(r,o)),e=0);return u}function DT(t,e){var n,r;if(xu(e,t))return[e];for(n=0;n<t.length;++n)if(Ba(e,t[n])&&xu(Er(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Ba(Er(t[n],t[r]),e)&&Ba(Er(t[n],e),t[r])&&Ba(Er(t[r],e),t[n])&&xu(H0(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Ba(t,e){var n=t.r-e.r,r=e.x-t.x,o=e.y-t.y;return n<0||n*n<r*r+o*o}function Y0(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,o=e.y-t.y;return n>0&&n*n>r*r+o*o}function xu(t,e){for(var n=0;n<e.length;++n)if(!Y0(t,e[n]))return!1;return!0}function IT(t){switch(t.length){case 1:return GT(t[0]);case 2:return Er(t[0],t[1]);case 3:return H0(t[0],t[1],t[2])}}function GT(t){return{x:t.x,y:t.y,r:t.r}}function Er(t,e){var n=t.x,r=t.y,o=t.r,u=e.x,l=e.y,f=e.r,h=u-n,p=l-r,g=f-o,y=Math.sqrt(h*h+p*p);return{x:(n+u+h/y*g)/2,y:(r+l+p/y*g)/2,r:(y+o+f)/2}}function H0(t,e,n){var r=t.x,o=t.y,u=t.r,l=e.x,f=e.y,h=e.r,p=n.x,g=n.y,y=n.r,_=r-l,x=r-p,S=o-f,w=o-g,A=h-u,C=y-u,k=r*r+o*o-u*u,M=k-l*l-f*f+h*h,$=k-p*p-g*g+y*y,I=x*S-_*w,B=(S*$-w*M)/(I*2)-r,z=(w*A-S*C)/I,Q=(x*M-_*$)/(I*2)-o,Y=(_*C-x*A)/I,T=z*z+Y*Y-1,W=2*(u+B*z+Q*Y),O=B*B+Q*Q-u*u,H=-(T?(W+Math.sqrt(W*W-4*T*O))/(2*T):O/W);return{x:r+B+z*H,y:o+Q+Y*H,r:H}}function _d(t,e,n){var r=t.x-e.x,o,u,l=t.y-e.y,f,h,p=r*r+l*l;p?(u=e.r+n.r,u*=u,h=t.r+n.r,h*=h,u>h?(o=(p+h-u)/(2*p),f=Math.sqrt(Math.max(0,h/p-o*o)),n.x=t.x-o*r-f*l,n.y=t.y-o*l+f*r):(o=(p+u-h)/(2*p),f=Math.sqrt(Math.max(0,u/p-o*o)),n.x=e.x+o*r-f*l,n.y=e.y+o*l+f*r)):(n.x=e.x+n.r,n.y=e.y)}function md(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,o=e.y-t.y;return n>0&&n*n>r*r+o*o}function yd(t){var e=t._,n=t.next._,r=e.r+n.r,o=(e.x*n.r+n.x*e.r)/r,u=(e.y*n.r+n.y*e.r)/r;return o*o+u*u}function Xa(t){this._=t,this.next=null,this.previous=null}function U0(t){if(!(o=t.length))return 0;var e,n,r,o,u,l,f,h,p,g,y;if(e=t[0],e.x=0,e.y=0,!(o>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(o>2))return e.r+n.r;_d(n,e,r=t[2]),e=new Xa(e),n=new Xa(n),r=new Xa(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(f=3;f<o;++f){_d(e._,n._,r=t[f]),r=new Xa(r),h=n.next,p=e.previous,g=n._.r,y=e._.r;do if(g<=y){if(md(h._,r._)){n=h,e.next=n,n.previous=e,--f;continue t}g+=h._.r,h=h.next}else{if(md(p._,r._)){e=p,e.next=n,n.previous=e,--f;continue t}y+=p._.r,p=p.previous}while(h!==p.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,u=yd(e);(r=r.next)!==n;)(l=yd(r))<u&&(e=r,u=l);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=X0(e),f=0;f<o;++f)e=t[f],e.x-=r.x,e.y-=r.y;return r.r}function FT(t){return U0(t),t}function zT(t){return t==null?null:Yo(t)}function Yo(t){if(typeof t!="function")throw new Error;return t}function Wn(){return 0}function Ti(t){return function(){return t}}function BT(t){return Math.sqrt(t.value)}function XT(){var t=null,e=1,n=1,r=Wn;function o(u){return u.x=e/2,u.y=n/2,t?u.eachBefore(vd(t)).eachAfter(bu(r,.5)).eachBefore(xd(1)):u.eachBefore(vd(BT)).eachAfter(bu(Wn,1)).eachAfter(bu(r,u.r/Math.min(e,n))).eachBefore(xd(Math.min(e,n)/(2*u.r))),u}return o.radius=function(u){return arguments.length?(t=zT(u),o):t},o.size=function(u){return arguments.length?(e=+u[0],n=+u[1],o):[e,n]},o.padding=function(u){return arguments.length?(r=typeof u=="function"?u:Ti(+u),o):r},o}function vd(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function bu(t,e){return function(n){if(r=n.children){var r,o,u=r.length,l=t(n)*e||0,f;if(l)for(o=0;o<u;++o)r[o].r+=l;if(f=U0(r),l)for(o=0;o<u;++o)r[o].r-=l;n.r=f+l}}}function xd(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function W0(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ma(t,e,n,r,o){for(var u=t.children,l,f=-1,h=u.length,p=t.value&&(r-e)/t.value;++f<h;)l=u[f],l.y0=n,l.y1=o,l.x0=e,l.x1=e+=l.value*p}function YT(){var t=1,e=1,n=0,r=!1;function o(l){var f=l.height+1;return l.x0=l.y0=n,l.x1=t,l.y1=e/f,l.eachBefore(u(e,f)),r&&l.eachBefore(W0),l}function u(l,f){return function(h){h.children&&ma(h,h.x0,l*(h.depth+1)/f,h.x1,l*(h.depth+2)/f);var p=h.x0,g=h.y0,y=h.x1-n,_=h.y1-n;y<p&&(p=y=(p+y)/2),_<g&&(g=_=(g+_)/2),h.x0=p,h.y0=g,h.x1=y,h.y1=_}}return o.round=function(l){return arguments.length?(r=!!l,o):r},o.size=function(l){return arguments.length?(t=+l[0],e=+l[1],o):[t,e]},o.padding=function(l){return arguments.length?(n=+l,o):n},o}var bd="$",HT={depth:-1},wd={};function UT(t){return t.id}function WT(t){return t.parentId}function qT(){var t=UT,e=WT;function n(r){var o,u,l=r.length,f,h,p,g=new Array(l),y,_,x={};for(u=0;u<l;++u)o=r[u],p=g[u]=new qi(o),(y=t(o,u,r))!=null&&(y+="")&&(_=bd+(p.id=y),x[_]=_ in x?wd:p);for(u=0;u<l;++u)if(p=g[u],y=e(r[u],u,r),y==null||!(y+="")){if(f)throw new Error("multiple roots");f=p}else{if(h=x[bd+y],!h)throw new Error("missing: "+y);if(h===wd)throw new Error("ambiguous: "+y);h.children?h.children.push(p):h.children=[p],p.parent=h}if(!f)throw new Error("no root");if(f.parent=HT,f.eachBefore(function(S){S.depth=S.parent.depth+1,--l}).eachBefore(B0),f.parent=null,l>0)throw new Error("cycle");return f}return n.id=function(r){return arguments.length?(t=Yo(r),n):t},n.parentId=function(r){return arguments.length?(e=Yo(r),n):e},n}function jT(t,e){return t.parent===e.parent?1:2}function wu(t){var e=t.children;return e?e[0]:t.t}function Su(t){var e=t.children;return e?e[e.length-1]:t.t}function QT(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function ZT(t){for(var e=0,n=0,r=t.children,o=r.length,u;--o>=0;)u=r[o],u.z+=e,u.m+=e,e+=u.s+(n+=u.c)}function KT(t,e,n){return t.a.parent===e.parent?t.a:n}function ao(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}ao.prototype=Object.create(qi.prototype);function JT(t){for(var e=new ao(t,0),n,r=[e],o,u,l,f;n=r.pop();)if(u=n._.children)for(n.children=new Array(f=u.length),l=f-1;l>=0;--l)r.push(o=n.children[l]=new ao(u[l],l)),o.parent=n;return(e.parent=new ao(null,0)).children=[e],e}function t3(){var t=jT,e=1,n=1,r=null;function o(p){var g=JT(p);if(g.eachAfter(u),g.parent.m=-g.z,g.eachBefore(l),r)p.eachBefore(h);else{var y=p,_=p,x=p;p.eachBefore(function(k){k.x<y.x&&(y=k),k.x>_.x&&(_=k),k.depth>x.depth&&(x=k)});var S=y===_?1:t(y,_)/2,w=S-y.x,A=e/(_.x+S+w),C=n/(x.depth||1);p.eachBefore(function(k){k.x=(k.x+w)*A,k.y=k.depth*C})}return p}function u(p){var g=p.children,y=p.parent.children,_=p.i?y[p.i-1]:null;if(g){ZT(p);var x=(g[0].z+g[g.length-1].z)/2;_?(p.z=_.z+t(p._,_._),p.m=p.z-x):p.z=x}else _&&(p.z=_.z+t(p._,_._));p.parent.A=f(p,_,p.parent.A||y[0])}function l(p){p._.x=p.z+p.parent.m,p.m+=p.parent.m}function f(p,g,y){if(g){for(var _=p,x=p,S=g,w=_.parent.children[0],A=_.m,C=x.m,k=S.m,M=w.m,$;S=Su(S),_=wu(_),S&&_;)w=wu(w),x=Su(x),x.a=p,$=S.z+k-_.z-A+t(S._,_._),$>0&&(QT(KT(S,p,y),p,$),A+=$,C+=$),k+=S.m,A+=_.m,M+=w.m,C+=x.m;S&&!Su(x)&&(x.t=S,x.m+=k-C),_&&!wu(w)&&(w.t=_,w.m+=A-M,y=p)}return y}function h(p){p.x*=e,p.y=p.depth*n}return o.separation=function(p){return arguments.length?(t=p,o):t},o.size=function(p){return arguments.length?(r=!1,e=+p[0],n=+p[1],o):r?null:[e,n]},o.nodeSize=function(p){return arguments.length?(r=!0,e=+p[0],n=+p[1],o):r?[e,n]:null},o}function Es(t,e,n,r,o){for(var u=t.children,l,f=-1,h=u.length,p=t.value&&(o-n)/t.value;++f<h;)l=u[f],l.x0=e,l.x1=r,l.y0=n,l.y1=n+=l.value*p}var q0=(1+Math.sqrt(5))/2;function j0(t,e,n,r,o,u){for(var l=[],f=e.children,h,p,g=0,y=0,_=f.length,x,S,w=e.value,A,C,k,M,$,I,B;g<_;){x=o-n,S=u-r;do A=f[y++].value;while(!A&&y<_);for(C=k=A,I=Math.max(S/x,x/S)/(w*t),B=A*A*I,$=Math.max(k/B,B/C);y<_;++y){if(A+=p=f[y].value,p<C&&(C=p),p>k&&(k=p),B=A*A*I,M=Math.max(k/B,B/C),M>$){A-=p;break}$=M}l.push(h={value:A,dice:x<S,children:f.slice(g,y)}),h.dice?ma(h,n,r,o,w?r+=S*A/w:u):Es(h,n,r,w?n+=x*A/w:o,u),w-=A,g=y}return l}const Q0=function t(e){function n(r,o,u,l,f){j0(e,r,o,u,l,f)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(q0);function e3(){var t=Q0,e=!1,n=1,r=1,o=[0],u=Wn,l=Wn,f=Wn,h=Wn,p=Wn;function g(_){return _.x0=_.y0=0,_.x1=n,_.y1=r,_.eachBefore(y),o=[0],e&&_.eachBefore(W0),_}function y(_){var x=o[_.depth],S=_.x0+x,w=_.y0+x,A=_.x1-x,C=_.y1-x;A<S&&(S=A=(S+A)/2),C<w&&(w=C=(w+C)/2),_.x0=S,_.y0=w,_.x1=A,_.y1=C,_.children&&(x=o[_.depth+1]=u(_)/2,S+=p(_)-x,w+=l(_)-x,A-=f(_)-x,C-=h(_)-x,A<S&&(S=A=(S+A)/2),C<w&&(w=C=(w+C)/2),t(_,S,w,A,C))}return g.round=function(_){return arguments.length?(e=!!_,g):e},g.size=function(_){return arguments.length?(n=+_[0],r=+_[1],g):[n,r]},g.tile=function(_){return arguments.length?(t=Yo(_),g):t},g.padding=function(_){return arguments.length?g.paddingInner(_).paddingOuter(_):g.paddingInner()},g.paddingInner=function(_){return arguments.length?(u=typeof _=="function"?_:Ti(+_),g):u},g.paddingOuter=function(_){return arguments.length?g.paddingTop(_).paddingRight(_).paddingBottom(_).paddingLeft(_):g.paddingTop()},g.paddingTop=function(_){return arguments.length?(l=typeof _=="function"?_:Ti(+_),g):l},g.paddingRight=function(_){return arguments.length?(f=typeof _=="function"?_:Ti(+_),g):f},g.paddingBottom=function(_){return arguments.length?(h=typeof _=="function"?_:Ti(+_),g):h},g.paddingLeft=function(_){return arguments.length?(p=typeof _=="function"?_:Ti(+_),g):p},g}function n3(t,e,n,r,o){var u=t.children,l,f=u.length,h,p=new Array(f+1);for(p[0]=h=l=0;l<f;++l)p[l+1]=h+=u[l].value;g(0,f,t.value,e,n,r,o);function g(y,_,x,S,w,A,C){if(y>=_-1){var k=u[y];k.x0=S,k.y0=w,k.x1=A,k.y1=C;return}for(var M=p[y],$=x/2+M,I=y+1,B=_-1;I<B;){var z=I+B>>>1;p[z]<$?I=z+1:B=z}$-p[I-1]<p[I]-$&&y+1<I&&--I;var Q=p[I]-M,Y=x-Q;if(A-S>C-w){var T=(S*Y+A*Q)/x;g(y,I,Q,S,w,T,C),g(I,_,Y,T,w,A,C)}else{var W=(w*Y+C*Q)/x;g(y,I,Q,S,w,A,W),g(I,_,Y,S,W,A,C)}}}function i3(t,e,n,r,o){(t.depth&1?Es:ma)(t,e,n,r,o)}const r3=function t(e){function n(r,o,u,l,f){if((h=r._squarify)&&h.ratio===e)for(var h,p,g,y,_=-1,x,S=h.length,w=r.value;++_<S;){for(p=h[_],g=p.children,y=p.value=0,x=g.length;y<x;++y)p.value+=g[y].value;p.dice?ma(p,o,u,l,u+=(f-u)*p.value/w):Es(p,o,u,o+=(l-o)*p.value/w,f),w-=p.value}else r._squarify=h=j0(e,r,o,u,l,f),h.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(q0);function a3(t){for(var e=-1,n=t.length,r,o=t[n-1],u=0;++e<n;)r=o,o=t[e],u+=r[1]*o[0]-r[0]*o[1];return u/2}function o3(t){for(var e=-1,n=t.length,r=0,o=0,u,l=t[n-1],f,h=0;++e<n;)u=l,l=t[e],h+=f=u[0]*l[1]-l[0]*u[1],r+=(u[0]+l[0])*f,o+=(u[1]+l[1])*f;return h*=3,[r/h,o/h]}function s3(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function u3(t,e){return t[0]-e[0]||t[1]-e[1]}function Sd(t){for(var e=t.length,n=[0,1],r=2,o=2;o<e;++o){for(;r>1&&s3(t[n[r-2]],t[n[r-1]],t[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function c3(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),o=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(u3),e=0;e<n;++e)o[e]=[r[e][0],-r[e][1]];var u=Sd(r),l=Sd(o),f=l[0]===u[0],h=l[l.length-1]===u[u.length-1],p=[];for(e=u.length-1;e>=0;--e)p.push(t[r[u[e]][2]]);for(e=+f;e<l.length-h;++e)p.push(t[r[l[e]][2]]);return p}function l3(t,e){for(var n=t.length,r=t[n-1],o=e[0],u=e[1],l=r[0],f=r[1],h,p,g=!1,y=0;y<n;++y)r=t[y],h=r[0],p=r[1],p>u!=f>u&&o<(l-h)*(u-p)/(f-p)+h&&(g=!g),l=h,f=p;return g}function f3(t){for(var e=-1,n=t.length,r=t[n-1],o,u,l=r[0],f=r[1],h=0;++e<n;)o=l,u=f,r=t[e],l=r[0],f=r[1],o-=l,u-=f,h+=Math.sqrt(o*o+u*u);return h}function er(){return Math.random()}const h3=function t(e){function n(r,o){return r=r==null?0:+r,o=o==null?1:+o,arguments.length===1?(o=r,r=0):o-=r,function(){return e()*o+r}}return n.source=t,n}(er),Z0=function t(e){function n(r,o){var u,l;return r=r==null?0:+r,o=o==null?1:+o,function(){var f;if(u!=null)f=u,u=null;else do u=e()*2-1,f=e()*2-1,l=u*u+f*f;while(!l||l>1);return r+o*f*Math.sqrt(-2*Math.log(l)/l)}}return n.source=t,n}(er),d3=function t(e){function n(){var r=Z0.source(e).apply(this,arguments);return function(){return Math.exp(r())}}return n.source=t,n}(er),K0=function t(e){function n(r){return function(){for(var o=0,u=0;u<r;++u)o+=e();return o}}return n.source=t,n}(er),p3=function t(e){function n(r){var o=K0.source(e)(r);return function(){return o()/r}}return n.source=t,n}(er),g3=function t(e){function n(r){return function(){return-Math.log(1-e())/r}}return n.source=t,n}(er);function Ue(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _n(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}var J0=Array.prototype,Ho=J0.map,oi=J0.slice,Lc={name:"implicit"};function Dl(){var t=dn(),e=[],n=[],r=Lc;function o(u){var l=u+"",f=t.get(l);if(!f){if(r!==Lc)return r;t.set(l,f=e.push(u))}return n[(f-1)%n.length]}return o.domain=function(u){if(!arguments.length)return e.slice();e=[],t=dn();for(var l=-1,f=u.length,h,p;++l<f;)t.has(p=(h=u[l])+"")||t.set(p,e.push(h));return o},o.range=function(u){return arguments.length?(n=oi.call(u),o):n.slice()},o.unknown=function(u){return arguments.length?(r=u,o):r},o.copy=function(){return Dl(e,n).unknown(r)},Ue.apply(o,arguments),o}function Il(){var t=Dl().unknown(void 0),e=t.domain,n=t.range,r=[0,1],o,u,l=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var y=e().length,_=r[1]<r[0],x=r[_-0],S=r[1-_];o=(S-x)/Math.max(1,y-f+h*2),l&&(o=Math.floor(o)),x+=(S-x-o*(y-f))*p,u=o*(1-f),l&&(x=Math.round(x),u=Math.round(u));var w=Ae(y).map(function(A){return x+o*A});return n(_?w.reverse():w)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?(r=[+y[0],+y[1]],g()):r.slice()},t.rangeRound=function(y){return r=[+y[0],+y[1]],l=!0,g()},t.bandwidth=function(){return u},t.step=function(){return o},t.round=function(y){return arguments.length?(l=!!y,g()):l},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},t.copy=function(){return Il(e(),r).round(l).paddingInner(f).paddingOuter(h).align(p)},Ue.apply(g(),arguments)}function t_(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return t_(e())},t}function _3(){return t_(Il.apply(null,arguments).paddingInner(1))}function m3(t){return function(){return t}}function Mc(t){return+t}var Ad=[0,1];function Qt(t){return t}function $c(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:m3(isNaN(e)?NaN:.5)}function Td(t){var e=t[0],n=t[t.length-1],r;return e>n&&(r=e,e=n,n=r),function(o){return Math.max(e,Math.min(n,o))}}function y3(t,e,n){var r=t[0],o=t[1],u=e[0],l=e[1];return o<r?(r=$c(o,r),u=n(l,u)):(r=$c(r,o),u=n(u,l)),function(f){return u(r(f))}}function v3(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),u=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)o[l]=$c(t[l],t[l+1]),u[l]=n(e[l],e[l+1]);return function(f){var h=Tn(t,f,1,r)-1;return u[h](o[h](f))}}function ya(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ls(){var t=Ad,e=Ad,n=ha,r,o,u,l=Qt,f,h,p;function g(){return f=Math.min(t.length,e.length)>2?v3:y3,h=p=null,y}function y(_){return isNaN(_=+_)?u:(h||(h=f(t.map(r),e,n)))(r(l(_)))}return y.invert=function(_){return l(o((p||(p=f(e,t.map(r),ke)))(_)))},y.domain=function(_){return arguments.length?(t=Ho.call(_,Mc),l===Qt||(l=Td(t)),g()):t.slice()},y.range=function(_){return arguments.length?(e=oi.call(_),g()):e.slice()},y.rangeRound=function(_){return e=oi.call(_),n=Sg,g()},y.clamp=function(_){return arguments.length?(l=_?Td(t):Qt,y):l!==Qt},y.interpolate=function(_){return arguments.length?(n=_,g()):n},y.unknown=function(_){return arguments.length?(u=_,y):u},function(_,x){return r=_,o=x,g()}}function e_(t,e){return Ls()(t,e)}function n_(t,e,n,r){var o=ti(t,e,n),u;switch(r=Jr(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(u=e0(o,l))&&(r.precision=u),yl(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(u=n0(o,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=u-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(u=t0(o))&&(r.precision=u-(r.type==="%")*2);break}}return Ts(r)}function _i(t){var e=t.domain;return t.ticks=function(n){var r=e();return jc(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var o=e();return n_(o[0],o[o.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),o=0,u=r.length-1,l=r[o],f=r[u],h;return f<l&&(h=l,l=f,f=h,h=o,o=u,u=h),h=Dr(l,f,n),h>0?(l=Math.floor(l/h)*h,f=Math.ceil(f/h)*h,h=Dr(l,f,n)):h<0&&(l=Math.ceil(l*h)/h,f=Math.floor(f*h)/h,h=Dr(l,f,n)),h>0?(r[o]=Math.floor(l/h)*h,r[u]=Math.ceil(f/h)*h,e(r)):h<0&&(r[o]=Math.ceil(l*h)/h,r[u]=Math.floor(f*h)/h,e(r)),t},t}function i_(){var t=e_(Qt,Qt);return t.copy=function(){return ya(t,i_())},Ue.apply(t,arguments),_i(t)}function r_(t){var e;function n(r){return isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Ho.call(r,Mc),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return r_(t).unknown(e)},t=arguments.length?Ho.call(t,Mc):[0,1],_i(n)}function a_(t,e){t=t.slice();var n=0,r=t.length-1,o=t[n],u=t[r],l;return u<o&&(l=n,n=r,r=l,l=o,o=u,u=l),t[n]=e.floor(o),t[r]=e.ceil(u),t}function Cd(t){return Math.log(t)}function Pd(t){return Math.exp(t)}function x3(t){return-Math.log(-t)}function b3(t){return-Math.exp(-t)}function w3(t){return isFinite(t)?+("1e"+t):t<0?0:t}function S3(t){return t===10?w3:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function A3(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Ed(t){return function(e){return-t(-e)}}function Gl(t){var e=t(Cd,Pd),n=e.domain,r=10,o,u;function l(){return o=A3(r),u=S3(r),n()[0]<0?(o=Ed(o),u=Ed(u),t(x3,b3)):t(Cd,Pd),e}return e.base=function(f){return arguments.length?(r=+f,l()):r},e.domain=function(f){return arguments.length?(n(f),l()):n()},e.ticks=function(f){var h=n(),p=h[0],g=h[h.length-1],y;(y=g<p)&&(_=p,p=g,g=_);var _=o(p),x=o(g),S,w,A,C=f==null?10:+f,k=[];if(!(r%1)&&x-_<C){if(_=Math.round(_)-1,x=Math.round(x)+1,p>0){for(;_<x;++_)for(w=1,S=u(_);w<r;++w)if(A=S*w,!(A<p)){if(A>g)break;k.push(A)}}else for(;_<x;++_)for(w=r-1,S=u(_);w>=1;--w)if(A=S*w,!(A<p)){if(A>g)break;k.push(A)}}else k=jc(_,x,Math.min(x-_,C)).map(u);return y?k.reverse():k},e.tickFormat=function(f,h){if(h==null&&(h=r===10?".0e":","),typeof h!="function"&&(h=Ts(h)),f===1/0)return h;f==null&&(f=10);var p=Math.max(1,r*f/e.ticks().length);return function(g){var y=g/u(Math.round(o(g)));return y*r<r-.5&&(y*=r),y<=p?h(g):""}},e.nice=function(){return n(a_(n(),{floor:function(f){return u(Math.floor(o(f)))},ceil:function(f){return u(Math.ceil(o(f)))}}))},e}function o_(){var t=Gl(Ls()).domain([1,10]);return t.copy=function(){return ya(t,o_()).base(t.base())},Ue.apply(t,arguments),t}function Ld(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Md(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Fl(t){var e=1,n=t(Ld(e),Md(e));return n.constant=function(r){return arguments.length?t(Ld(e=+r),Md(e)):e},_i(n)}function s_(){var t=Fl(Ls());return t.copy=function(){return ya(t,s_()).constant(t.constant())},Ue.apply(t,arguments)}function $d(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function T3(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function C3(t){return t<0?-t*t:t*t}function zl(t){var e=t(Qt,Qt),n=1;function r(){return n===1?t(Qt,Qt):n===.5?t(T3,C3):t($d(n),$d(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,r()):n},_i(e)}function Bl(){var t=zl(Ls());return t.copy=function(){return ya(t,Bl()).exponent(t.exponent())},Ue.apply(t,arguments),t}function P3(){return Bl.apply(null,arguments).exponent(.5)}function u_(){var t=[],e=[],n=[],r;function o(){var l=0,f=Math.max(1,e.length);for(n=new Array(f-1);++l<f;)n[l-1]=Xr(t,l/f);return u}function u(l){return isNaN(l=+l)?r:e[Tn(n,l)]}return u.invertExtent=function(l){var f=e.indexOf(l);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},u.domain=function(l){if(!arguments.length)return t.slice();t=[];for(var f=0,h=l.length,p;f<h;++f)p=l[f],p!=null&&!isNaN(p=+p)&&t.push(p);return t.sort(kn),o()},u.range=function(l){return arguments.length?(e=oi.call(l),o()):e.slice()},u.unknown=function(l){return arguments.length?(r=l,u):r},u.quantiles=function(){return n.slice()},u.copy=function(){return u_().domain(t).range(e).unknown(r)},Ue.apply(u,arguments)}function c_(){var t=0,e=1,n=1,r=[.5],o=[0,1],u;function l(h){return h<=h?o[Tn(r,h,0,n)]:u}function f(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return l}return l.domain=function(h){return arguments.length?(t=+h[0],e=+h[1],f()):[t,e]},l.range=function(h){return arguments.length?(n=(o=oi.call(h)).length-1,f()):o.slice()},l.invertExtent=function(h){var p=o.indexOf(h);return p<0?[NaN,NaN]:p<1?[t,r[0]]:p>=n?[r[n-1],e]:[r[p-1],r[p]]},l.unknown=function(h){return arguments.length&&(u=h),l},l.thresholds=function(){return r.slice()},l.copy=function(){return c_().domain([t,e]).range(o).unknown(u)},Ue.apply(_i(l),arguments)}function l_(){var t=[.5],e=[0,1],n,r=1;function o(u){return u<=u?e[Tn(t,u,0,r)]:n}return o.domain=function(u){return arguments.length?(t=oi.call(u),r=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(u){return arguments.length?(e=oi.call(u),r=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(u){var l=e.indexOf(u);return[t[l-1],t[l]]},o.unknown=function(u){return arguments.length?(n=u,o):n},o.copy=function(){return l_().domain(t).range(e).unknown(n)},Ue.apply(o,arguments)}var Au=new Date,Tu=new Date;function Ht(t,e,n,r){function o(u){return t(u=arguments.length===0?new Date:new Date(+u)),u}return o.floor=function(u){return t(u=new Date(+u)),u},o.ceil=function(u){return t(u=new Date(u-1)),e(u,1),t(u),u},o.round=function(u){var l=o(u),f=o.ceil(u);return u-l<f-u?l:f},o.offset=function(u,l){return e(u=new Date(+u),l==null?1:Math.floor(l)),u},o.range=function(u,l,f){var h=[],p;if(u=o.ceil(u),f=f==null?1:Math.floor(f),!(u<l)||!(f>0))return h;do h.push(p=new Date(+u)),e(u,f),t(u);while(p<u&&u<l);return h},o.filter=function(u){return Ht(function(l){if(l>=l)for(;t(l),!u(l);)l.setTime(l-1)},function(l,f){if(l>=l)if(f<0)for(;++f<=0;)for(;e(l,-1),!u(l););else for(;--f>=0;)for(;e(l,1),!u(l););})},n&&(o.count=function(u,l){return Au.setTime(+u),Tu.setTime(+l),t(Au),t(Tu),Math.floor(n(Au,Tu))},o.every=function(u){return u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?o.filter(r?function(l){return r(l)%u===0}:function(l){return o.count(0,l)%u===0}):o}),o}var Uo=Ht(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Uo.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ht(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Uo};const Wo=Uo;var kd=Uo.range,qo=1e3,si=6e4,jo=36e5,f_=864e5,h_=6048e5,d_=Ht(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*qo)},function(t,e){return(e-t)/qo},function(t){return t.getUTCSeconds()});const Qo=d_;var Od=d_.range,p_=Ht(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*qo)},function(t,e){t.setTime(+t+e*si)},function(t,e){return(e-t)/si},function(t){return t.getMinutes()});const g_=p_;var E3=p_.range,__=Ht(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*qo-t.getMinutes()*si)},function(t,e){t.setTime(+t+e*jo)},function(t,e){return(e-t)/jo},function(t){return t.getHours()});const m_=__;var L3=__.range,y_=Ht(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*si)/f_},function(t){return t.getDate()-1});const Ms=y_;var M3=y_.range;function mi(t){return Ht(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*si)/h_})}var ia=mi(0),ra=mi(1),v_=mi(2),x_=mi(3),ui=mi(4),b_=mi(5),w_=mi(6),Rd=ia.range,$3=ra.range,k3=v_.range,O3=x_.range,R3=ui.range,N3=b_.range,V3=w_.range,S_=Ht(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const A_=S_;var D3=S_.range,Xl=Ht(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Xl.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Ht(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};const ci=Xl;var I3=Xl.range,T_=Ht(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*si)},function(t,e){return(e-t)/si},function(t){return t.getUTCMinutes()});const C_=T_;var G3=T_.range,P_=Ht(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*jo)},function(t,e){return(e-t)/jo},function(t){return t.getUTCHours()});const E_=P_;var F3=P_.range,L_=Ht(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/f_},function(t){return t.getUTCDate()-1});const $s=L_;var z3=L_.range;function yi(t){return Ht(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/h_})}var aa=yi(0),oa=yi(1),M_=yi(2),$_=yi(3),li=yi(4),k_=yi(5),O_=yi(6),Nd=aa.range,B3=oa.range,X3=M_.range,Y3=$_.range,H3=li.range,U3=k_.range,W3=O_.range,R_=Ht(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});const N_=R_;var q3=R_.range,Yl=Ht(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Yl.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Ht(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};const fi=Yl;var j3=Yl.range;function Cu(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Pu(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function V_(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,u=t.days,l=t.shortDays,f=t.months,h=t.shortMonths,p=dr(o),g=pr(o),y=dr(u),_=pr(u),x=dr(l),S=pr(l),w=dr(f),A=pr(f),C=dr(h),k=pr(h),M={a:it,A:at,b:i,B:a,c:null,d:zd,e:zd,f:yC,g:EC,G:MC,H:gC,I:_C,j:mC,L:D_,m:vC,M:xC,p:s,q:c,Q:Yd,s:Hd,S:bC,u:wC,U:SC,V:AC,w:TC,W:CC,x:null,X:null,y:PC,Y:LC,Z:$C,"%":Xd},$={a:d,A:v,b,B:P,c:null,d:Bd,e:Bd,f:NC,g:HC,G:WC,H:kC,I:OC,j:RC,L:G_,m:VC,M:DC,p:R,q:L,Q:Yd,s:Hd,S:IC,u:GC,U:FC,V:zC,w:BC,W:XC,x:null,X:null,y:YC,Y:UC,Z:qC,"%":Xd},I={a:T,A:W,b:O,B:H,c:J,d:Gd,e:Gd,f:fC,g:Id,G:Dd,H:Fd,I:Fd,j:sC,L:lC,m:oC,M:uC,p:Y,q:aC,Q:dC,s:pC,S:cC,u:tC,U:eC,V:nC,w:J3,W:iC,x:U,X:Z,y:Id,Y:Dd,Z:rC,"%":hC};M.x=B(n,M),M.X=B(r,M),M.c=B(e,M),$.x=B(n,$),$.X=B(r,$),$.c=B(e,$);function B(N,V){return function(X){var D=[],q=-1,j=0,tt=N.length,K,dt,pt;for(X instanceof Date||(X=new Date(+X));++q<tt;)N.charCodeAt(q)===37&&(D.push(N.slice(j,q)),(dt=Vd[K=N.charAt(++q)])!=null?K=N.charAt(++q):dt=K==="e"?" ":"0",(pt=V[K])&&(K=pt(X,dt)),D.push(K),j=q+1);return D.push(N.slice(j,q)),D.join("")}}function z(N,V){return function(X){var D=hr(1900,void 0,1),q=Q(D,N,X+="",0),j,tt;if(q!=X.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(V&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(j=Pu(hr(D.y,0,1)),tt=j.getUTCDay(),j=tt>4||tt===0?oa.ceil(j):oa(j),j=$s.offset(j,(D.V-1)*7),D.y=j.getUTCFullYear(),D.m=j.getUTCMonth(),D.d=j.getUTCDate()+(D.w+6)%7):(j=Cu(hr(D.y,0,1)),tt=j.getDay(),j=tt>4||tt===0?ra.ceil(j):ra(j),j=Ms.offset(j,(D.V-1)*7),D.y=j.getFullYear(),D.m=j.getMonth(),D.d=j.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),tt="Z"in D?Pu(hr(D.y,0,1)).getUTCDay():Cu(hr(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(tt+5)%7:D.w+D.U*7-(tt+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Pu(D)):Cu(D)}}function Q(N,V,X,D){for(var q=0,j=V.length,tt=X.length,K,dt;q<j;){if(D>=tt)return-1;if(K=V.charCodeAt(q++),K===37){if(K=V.charAt(q++),dt=I[K in Vd?V.charAt(q++):K],!dt||(D=dt(N,X,D))<0)return-1}else if(K!=X.charCodeAt(D++))return-1}return D}function Y(N,V,X){var D=p.exec(V.slice(X));return D?(N.p=g[D[0].toLowerCase()],X+D[0].length):-1}function T(N,V,X){var D=x.exec(V.slice(X));return D?(N.w=S[D[0].toLowerCase()],X+D[0].length):-1}function W(N,V,X){var D=y.exec(V.slice(X));return D?(N.w=_[D[0].toLowerCase()],X+D[0].length):-1}function O(N,V,X){var D=C.exec(V.slice(X));return D?(N.m=k[D[0].toLowerCase()],X+D[0].length):-1}function H(N,V,X){var D=w.exec(V.slice(X));return D?(N.m=A[D[0].toLowerCase()],X+D[0].length):-1}function J(N,V,X){return Q(N,e,V,X)}function U(N,V,X){return Q(N,n,V,X)}function Z(N,V,X){return Q(N,r,V,X)}function it(N){return l[N.getDay()]}function at(N){return u[N.getDay()]}function i(N){return h[N.getMonth()]}function a(N){return f[N.getMonth()]}function s(N){return o[+(N.getHours()>=12)]}function c(N){return 1+~~(N.getMonth()/3)}function d(N){return l[N.getUTCDay()]}function v(N){return u[N.getUTCDay()]}function b(N){return h[N.getUTCMonth()]}function P(N){return f[N.getUTCMonth()]}function R(N){return o[+(N.getUTCHours()>=12)]}function L(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var V=B(N+="",M);return V.toString=function(){return N},V},parse:function(N){var V=z(N+="",!1);return V.toString=function(){return N},V},utcFormat:function(N){var V=B(N+="",$);return V.toString=function(){return N},V},utcParse:function(N){var V=z(N+="",!0);return V.toString=function(){return N},V}}}var Vd={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,Q3=/^%/,Z3=/[\\^$*+?|[\]().{}]/g;function Lt(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",u=o.length;return r+(u<n?new Array(n-u+1).join(e)+o:o)}function K3(t){return t.replace(Z3,"\\$&")}function dr(t){return new RegExp("^(?:"+t.map(K3).join("|")+")","i")}function pr(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function J3(t,e,n){var r=Wt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function tC(t,e,n){var r=Wt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function eC(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function nC(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function iC(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Dd(t,e,n){var r=Wt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Id(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rC(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function aC(t,e,n){var r=Wt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function oC(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Gd(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function sC(t,e,n){var r=Wt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Fd(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function uC(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function cC(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function lC(t,e,n){var r=Wt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function fC(t,e,n){var r=Wt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hC(t,e,n){var r=Q3.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function dC(t,e,n){var r=Wt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function pC(t,e,n){var r=Wt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function zd(t,e){return Lt(t.getDate(),e,2)}function gC(t,e){return Lt(t.getHours(),e,2)}function _C(t,e){return Lt(t.getHours()%12||12,e,2)}function mC(t,e){return Lt(1+Ms.count(ci(t),t),e,3)}function D_(t,e){return Lt(t.getMilliseconds(),e,3)}function yC(t,e){return D_(t,e)+"000"}function vC(t,e){return Lt(t.getMonth()+1,e,2)}function xC(t,e){return Lt(t.getMinutes(),e,2)}function bC(t,e){return Lt(t.getSeconds(),e,2)}function wC(t){var e=t.getDay();return e===0?7:e}function SC(t,e){return Lt(ia.count(ci(t)-1,t),e,2)}function I_(t){var e=t.getDay();return e>=4||e===0?ui(t):ui.ceil(t)}function AC(t,e){return t=I_(t),Lt(ui.count(ci(t),t)+(ci(t).getDay()===4),e,2)}function TC(t){return t.getDay()}function CC(t,e){return Lt(ra.count(ci(t)-1,t),e,2)}function PC(t,e){return Lt(t.getFullYear()%100,e,2)}function EC(t,e){return t=I_(t),Lt(t.getFullYear()%100,e,2)}function LC(t,e){return Lt(t.getFullYear()%1e4,e,4)}function MC(t,e){var n=t.getDay();return t=n>=4||n===0?ui(t):ui.ceil(t),Lt(t.getFullYear()%1e4,e,4)}function $C(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Lt(e/60|0,"0",2)+Lt(e%60,"0",2)}function Bd(t,e){return Lt(t.getUTCDate(),e,2)}function kC(t,e){return Lt(t.getUTCHours(),e,2)}function OC(t,e){return Lt(t.getUTCHours()%12||12,e,2)}function RC(t,e){return Lt(1+$s.count(fi(t),t),e,3)}function G_(t,e){return Lt(t.getUTCMilliseconds(),e,3)}function NC(t,e){return G_(t,e)+"000"}function VC(t,e){return Lt(t.getUTCMonth()+1,e,2)}function DC(t,e){return Lt(t.getUTCMinutes(),e,2)}function IC(t,e){return Lt(t.getUTCSeconds(),e,2)}function GC(t){var e=t.getUTCDay();return e===0?7:e}function FC(t,e){return Lt(aa.count(fi(t)-1,t),e,2)}function F_(t){var e=t.getUTCDay();return e>=4||e===0?li(t):li.ceil(t)}function zC(t,e){return t=F_(t),Lt(li.count(fi(t),t)+(fi(t).getUTCDay()===4),e,2)}function BC(t){return t.getUTCDay()}function XC(t,e){return Lt(oa.count(fi(t)-1,t),e,2)}function YC(t,e){return Lt(t.getUTCFullYear()%100,e,2)}function HC(t,e){return t=F_(t),Lt(t.getUTCFullYear()%100,e,2)}function UC(t,e){return Lt(t.getUTCFullYear()%1e4,e,4)}function WC(t,e){var n=t.getUTCDay();return t=n>=4||n===0?li(t):li.ceil(t),Lt(t.getUTCFullYear()%1e4,e,4)}function qC(){return"+0000"}function Xd(){return"%"}function Yd(t){return+t}function Hd(t){return Math.floor(+t/1e3)}var Si,Hl,z_,ks,Ul;B_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function B_(t){return Si=V_(t),Hl=Si.format,z_=Si.parse,ks=Si.utcFormat,Ul=Si.utcParse,Si}var X_="%Y-%m-%dT%H:%M:%S.%LZ";function jC(t){return t.toISOString()}var QC=Date.prototype.toISOString?jC:ks(X_);const ZC=QC;function KC(t){var e=new Date(t);return isNaN(e)?null:e}var JC=+new Date("2000-01-01T00:00:00.000Z")?KC:Ul(X_);const tP=JC;var Lr=1e3,Mr=Lr*60,$r=Mr*60,sa=$r*24,eP=sa*7,Ud=sa*30,Eu=sa*365;function nP(t){return new Date(t)}function iP(t){return t instanceof Date?+t:+new Date(+t)}function Wl(t,e,n,r,o,u,l,f,h){var p=e_(Qt,Qt),g=p.invert,y=p.domain,_=h(".%L"),x=h(":%S"),S=h("%I:%M"),w=h("%I %p"),A=h("%a %d"),C=h("%b %d"),k=h("%B"),M=h("%Y"),$=[[l,1,Lr],[l,5,5*Lr],[l,15,15*Lr],[l,30,30*Lr],[u,1,Mr],[u,5,5*Mr],[u,15,15*Mr],[u,30,30*Mr],[o,1,$r],[o,3,3*$r],[o,6,6*$r],[o,12,12*$r],[r,1,sa],[r,2,2*sa],[n,1,eP],[e,1,Ud],[e,3,3*Ud],[t,1,Eu]];function I(z){return(l(z)<z?_:u(z)<z?x:o(z)<z?S:r(z)<z?w:e(z)<z?n(z)<z?A:C:t(z)<z?k:M)(z)}function B(z,Q,Y,T){if(z==null&&(z=10),typeof z=="number"){var W=Math.abs(Y-Q)/z,O=Wc(function(H){return H[2]}).right($,W);O===$.length?(T=ti(Q/Eu,Y/Eu,z),z=t):O?(O=$[W/$[O-1][2]<$[O][2]/W?O-1:O],T=O[1],z=O[0]):(T=Math.max(ti(Q,Y,z),1),z=f)}return T==null?z:z.every(T)}return p.invert=function(z){return new Date(g(z))},p.domain=function(z){return arguments.length?y(Ho.call(z,iP)):y().map(nP)},p.ticks=function(z,Q){var Y=y(),T=Y[0],W=Y[Y.length-1],O=W<T,H;return O&&(H=T,T=W,W=H),H=B(z,T,W,Q),H=H?H.range(T,W+1):[],O?H.reverse():H},p.tickFormat=function(z,Q){return Q==null?I:h(Q)},p.nice=function(z,Q){var Y=y();return(z=B(z,Y[0],Y[Y.length-1],Q))?y(a_(Y,z)):p},p.copy=function(){return ya(p,Wl(t,e,n,r,o,u,l,f,h))},p}function rP(){return Ue.apply(Wl(ci,A_,ia,Ms,m_,g_,Qo,Wo,Hl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aP(){return Ue.apply(Wl(fi,N_,aa,$s,E_,C_,Qo,Wo,ks).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Os(){var t=0,e=1,n,r,o,u,l=Qt,f=!1,h;function p(g){return isNaN(g=+g)?h:l(o===0?.5:(g=(u(g)-n)*o,f?Math.max(0,Math.min(1,g)):g))}return p.domain=function(g){return arguments.length?(n=u(t=+g[0]),r=u(e=+g[1]),o=n===r?0:1/(r-n),p):[t,e]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(l=g,p):l},p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,n=g(t),r=g(e),o=n===r?0:1/(r-n),p}}function Vn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Y_(){var t=_i(Os()(Qt));return t.copy=function(){return Vn(t,Y_())},_n.apply(t,arguments)}function H_(){var t=Gl(Os()).domain([1,10]);return t.copy=function(){return Vn(t,H_()).base(t.base())},_n.apply(t,arguments)}function U_(){var t=Fl(Os());return t.copy=function(){return Vn(t,U_()).constant(t.constant())},_n.apply(t,arguments)}function ql(){var t=zl(Os());return t.copy=function(){return Vn(t,ql()).exponent(t.exponent())},_n.apply(t,arguments)}function oP(){return ql.apply(null,arguments).exponent(.5)}function W_(){var t=[],e=Qt;function n(r){if(!isNaN(r=+r))return e((Tn(t,r)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(var o=0,u=r.length,l;o<u;++o)l=r[o],l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(kn),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return W_(e).domain(t)},_n.apply(n,arguments)}function Rs(){var t=0,e=.5,n=1,r,o,u,l,f,h=Qt,p,g=!1,y;function _(x){return isNaN(x=+x)?y:(x=.5+((x=+p(x))-o)*(x<o?l:f),h(g?Math.max(0,Math.min(1,x)):x))}return _.domain=function(x){return arguments.length?(r=p(t=+x[0]),o=p(e=+x[1]),u=p(n=+x[2]),l=r===o?0:.5/(o-r),f=o===u?0:.5/(u-o),_):[t,e,n]},_.clamp=function(x){return arguments.length?(g=!!x,_):g},_.interpolator=function(x){return arguments.length?(h=x,_):h},_.unknown=function(x){return arguments.length?(y=x,_):y},function(x){return p=x,r=x(t),o=x(e),u=x(n),l=r===o?0:.5/(o-r),f=o===u?0:.5/(u-o),_}}function q_(){var t=_i(Rs()(Qt));return t.copy=function(){return Vn(t,q_())},_n.apply(t,arguments)}function j_(){var t=Gl(Rs()).domain([.1,1,10]);return t.copy=function(){return Vn(t,j_()).base(t.base())},_n.apply(t,arguments)}function Q_(){var t=Fl(Rs());return t.copy=function(){return Vn(t,Q_()).constant(t.constant())},_n.apply(t,arguments)}function jl(){var t=zl(Rs());return t.copy=function(){return Vn(t,jl()).exponent(t.exponent())},_n.apply(t,arguments)}function sP(){return jl.apply(null,arguments).exponent(.5)}function At(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const uP=At("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),cP=At("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),lP=At("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),fP=At("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),hP=At("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),dP=At("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),pP=At("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),gP=At("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),_P=At("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),mP=At("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Ot(t){return yg(t[t.length-1])}var Z_=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(At);const yP=Ot(Z_);var K_=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(At);const vP=Ot(K_);var J_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(At);const xP=Ot(J_);var tm=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(At);const bP=Ot(tm);var em=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(At);const wP=Ot(em);var nm=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(At);const SP=Ot(nm);var im=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(At);const AP=Ot(im);var rm=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(At);const TP=Ot(rm);var am=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(At);const CP=Ot(am);var om=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(At);const PP=Ot(om);var sm=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(At);const EP=Ot(sm);var um=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(At);const LP=Ot(um);var cm=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(At);const MP=Ot(cm);var lm=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(At);const $P=Ot(lm);var fm=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(At);const kP=Ot(fm);var hm=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(At);const OP=Ot(hm);var dm=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(At);const RP=Ot(dm);var pm=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(At);const NP=Ot(pm);var gm=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(At);const VP=Ot(gm);var _m=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(At);const DP=Ot(_m);var mm=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(At);const IP=Ot(mm);var ym=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(At);const GP=Ot(ym);var vm=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(At);const FP=Ot(vm);var xm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(At);const zP=Ot(xm);var bm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(At);const BP=Ot(bm);var wm=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(At);const XP=Ot(wm);var Sm=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(At);const YP=Ot(Sm);function HP(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const UP=ms(Ye(300,.5,0),Ye(-240,.5,1));var WP=ms(Ye(-100,.75,.35),Ye(80,1.5,.8)),qP=ms(Ye(260,.75,.35),Ye(80,1.5,.8)),Ya=Ye();function jP(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ya.h=360*t-100,Ya.s=1.5-1.5*e,Ya.l=.8-.9*e,Ya+""}var Ha=zi(),QP=Math.PI/3,ZP=Math.PI*2/3;function KP(t){var e;return t=(.5-t)*Math.PI,Ha.r=255*(e=Math.sin(t))*e,Ha.g=255*(e=Math.sin(t+QP))*e,Ha.b=255*(e=Math.sin(t+ZP))*e,Ha+""}function JP(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Ns(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const t5=Ns(At("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var e5=Ns(At("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),n5=Ns(At("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),i5=Ns(At("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ct(t){return function(){return t}}var Wd=Math.abs,Kt=Math.atan2,Yn=Math.cos,r5=Math.max,Lu=Math.min,je=Math.sin,Pi=Math.sqrt,Jt=1e-12,Ln=Math.PI,Zo=Ln/2,An=2*Ln;function a5(t){return t>1?0:t<-1?Ln:Math.acos(t)}function qd(t){return t>=1?Zo:t<=-1?-Zo:Math.asin(t)}function o5(t){return t.innerRadius}function s5(t){return t.outerRadius}function u5(t){return t.startAngle}function c5(t){return t.endAngle}function l5(t){return t&&t.padAngle}function f5(t,e,n,r,o,u,l,f){var h=n-t,p=r-e,g=l-o,y=f-u,_=y*h-g*p;if(!(_*_<Jt))return _=(g*(e-u)-y*(t-o))/_,[t+_*h,e+_*p]}function Ua(t,e,n,r,o,u,l){var f=t-n,h=e-r,p=(l?u:-u)/Pi(f*f+h*h),g=p*h,y=-p*f,_=t+g,x=e+y,S=n+g,w=r+y,A=(_+S)/2,C=(x+w)/2,k=S-_,M=w-x,$=k*k+M*M,I=o-u,B=_*w-S*x,z=(M<0?-1:1)*Pi(r5(0,I*I*$-B*B)),Q=(B*M-k*z)/$,Y=(-B*k-M*z)/$,T=(B*M+k*z)/$,W=(-B*k+M*z)/$,O=Q-A,H=Y-C,J=T-A,U=W-C;return O*O+H*H>J*J+U*U&&(Q=T,Y=W),{cx:Q,cy:Y,x01:-g,y01:-y,x11:Q*(o/I-1),y11:Y*(o/I-1)}}function h5(){var t=o5,e=s5,n=Ct(0),r=null,o=u5,u=c5,l=l5,f=null;function h(){var p,g,y=+t.apply(this,arguments),_=+e.apply(this,arguments),x=o.apply(this,arguments)-Zo,S=u.apply(this,arguments)-Zo,w=Wd(S-x),A=S>x;if(f||(f=p=Rn()),_<y&&(g=_,_=y,y=g),!(_>Jt))f.moveTo(0,0);else if(w>An-Jt)f.moveTo(_*Yn(x),_*je(x)),f.arc(0,0,_,x,S,!A),y>Jt&&(f.moveTo(y*Yn(S),y*je(S)),f.arc(0,0,y,S,x,A));else{var C=x,k=S,M=x,$=S,I=w,B=w,z=l.apply(this,arguments)/2,Q=z>Jt&&(r?+r.apply(this,arguments):Pi(y*y+_*_)),Y=Lu(Wd(_-y)/2,+n.apply(this,arguments)),T=Y,W=Y,O,H;if(Q>Jt){var J=qd(Q/y*je(z)),U=qd(Q/_*je(z));(I-=J*2)>Jt?(J*=A?1:-1,M+=J,$-=J):(I=0,M=$=(x+S)/2),(B-=U*2)>Jt?(U*=A?1:-1,C+=U,k-=U):(B=0,C=k=(x+S)/2)}var Z=_*Yn(C),it=_*je(C),at=y*Yn($),i=y*je($);if(Y>Jt){var a=_*Yn(k),s=_*je(k),c=y*Yn(M),d=y*je(M),v;if(w<Ln&&(v=f5(Z,it,c,d,a,s,at,i))){var b=Z-v[0],P=it-v[1],R=a-v[0],L=s-v[1],N=1/je(a5((b*R+P*L)/(Pi(b*b+P*P)*Pi(R*R+L*L)))/2),V=Pi(v[0]*v[0]+v[1]*v[1]);T=Lu(Y,(y-V)/(N-1)),W=Lu(Y,(_-V)/(N+1))}}B>Jt?W>Jt?(O=Ua(c,d,Z,it,_,W,A),H=Ua(a,s,at,i,_,W,A),f.moveTo(O.cx+O.x01,O.cy+O.y01),W<Y?f.arc(O.cx,O.cy,W,Kt(O.y01,O.x01),Kt(H.y01,H.x01),!A):(f.arc(O.cx,O.cy,W,Kt(O.y01,O.x01),Kt(O.y11,O.x11),!A),f.arc(0,0,_,Kt(O.cy+O.y11,O.cx+O.x11),Kt(H.cy+H.y11,H.cx+H.x11),!A),f.arc(H.cx,H.cy,W,Kt(H.y11,H.x11),Kt(H.y01,H.x01),!A))):(f.moveTo(Z,it),f.arc(0,0,_,C,k,!A)):f.moveTo(Z,it),!(y>Jt)||!(I>Jt)?f.lineTo(at,i):T>Jt?(O=Ua(at,i,a,s,y,-T,A),H=Ua(Z,it,c,d,y,-T,A),f.lineTo(O.cx+O.x01,O.cy+O.y01),T<Y?f.arc(O.cx,O.cy,T,Kt(O.y01,O.x01),Kt(H.y01,H.x01),!A):(f.arc(O.cx,O.cy,T,Kt(O.y01,O.x01),Kt(O.y11,O.x11),!A),f.arc(0,0,y,Kt(O.cy+O.y11,O.cx+O.x11),Kt(H.cy+H.y11,H.cx+H.x11),A),f.arc(H.cx,H.cy,T,Kt(H.y11,H.x11),Kt(H.y01,H.x01),!A))):f.arc(0,0,y,$,M,A)}if(f.closePath(),p)return f=null,p+""||null}return h.centroid=function(){var p=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,g=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-Ln/2;return[Yn(g)*p,je(g)*p]},h.innerRadius=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),h):t},h.outerRadius=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),h):e},h.cornerRadius=function(p){return arguments.length?(n=typeof p=="function"?p:Ct(+p),h):n},h.padRadius=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ct(+p),h):r},h.startAngle=function(p){return arguments.length?(o=typeof p=="function"?p:Ct(+p),h):o},h.endAngle=function(p){return arguments.length?(u=typeof p=="function"?p:Ct(+p),h):u},h.padAngle=function(p){return arguments.length?(l=typeof p=="function"?p:Ct(+p),h):l},h.context=function(p){return arguments.length?(f=p??null,h):f},h}function Am(t){this._context=t}Am.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vs(t){return new Am(t)}function Ql(t){return t[0]}function Zl(t){return t[1]}function Kl(){var t=Ql,e=Zl,n=Ct(!0),r=null,o=Vs,u=null;function l(f){var h,p=f.length,g,y=!1,_;for(r==null&&(u=o(_=Rn())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===y&&((y=!y)?u.lineStart():u.lineEnd()),y&&u.point(+t(g,h,f),+e(g,h,f));if(_)return u=null,_+""||null}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),l):t},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),l):e},l.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ct(!!f),l):n},l.curve=function(f){return arguments.length?(o=f,r!=null&&(u=o(r)),l):o},l.context=function(f){return arguments.length?(f==null?r=u=null:u=o(r=f),l):r},l}function Tm(){var t=Ql,e=null,n=Ct(0),r=Zl,o=Ct(!0),u=null,l=Vs,f=null;function h(g){var y,_,x,S=g.length,w,A=!1,C,k=new Array(S),M=new Array(S);for(u==null&&(f=l(C=Rn())),y=0;y<=S;++y){if(!(y<S&&o(w=g[y],y,g))===A)if(A=!A)_=y,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),x=y-1;x>=_;--x)f.point(k[x],M[x]);f.lineEnd(),f.areaEnd()}A&&(k[y]=+t(w,y,g),M[y]=+n(w,y,g),f.point(e?+e(w,y,g):k[y],r?+r(w,y,g):M[y]))}if(C)return f=null,C+""||null}function p(){return Kl().defined(o).curve(l).context(u)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Ct(+g),e=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Ct(+g),h):t},h.x1=function(g){return arguments.length?(e=g==null?null:typeof g=="function"?g:Ct(+g),h):e},h.y=function(g){return arguments.length?(n=typeof g=="function"?g:Ct(+g),r=null,h):n},h.y0=function(g){return arguments.length?(n=typeof g=="function"?g:Ct(+g),h):n},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Ct(+g),h):r},h.lineX0=h.lineY0=function(){return p().x(t).y(n)},h.lineY1=function(){return p().x(t).y(r)},h.lineX1=function(){return p().x(e).y(n)},h.defined=function(g){return arguments.length?(o=typeof g=="function"?g:Ct(!!g),h):o},h.curve=function(g){return arguments.length?(l=g,u!=null&&(f=l(u)),h):l},h.context=function(g){return arguments.length?(g==null?u=f=null:f=l(u=g),h):u},h}function d5(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function p5(t){return t}function g5(){var t=p5,e=d5,n=null,r=Ct(0),o=Ct(An),u=Ct(0);function l(f){var h,p=f.length,g,y,_=0,x=new Array(p),S=new Array(p),w=+r.apply(this,arguments),A=Math.min(An,Math.max(-An,o.apply(this,arguments)-w)),C,k=Math.min(Math.abs(A)/p,u.apply(this,arguments)),M=k*(A<0?-1:1),$;for(h=0;h<p;++h)($=S[x[h]=h]=+t(f[h],h,f))>0&&(_+=$);for(e!=null?x.sort(function(I,B){return e(S[I],S[B])}):n!=null&&x.sort(function(I,B){return n(f[I],f[B])}),h=0,y=_?(A-p*M)/_:0;h<p;++h,w=C)g=x[h],$=S[g],C=w+($>0?$*y:0)+M,S[g]={data:f[g],index:h,value:$,startAngle:w,endAngle:C,padAngle:k};return S}return l.value=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),l):t},l.sortValues=function(f){return arguments.length?(e=f,n=null,l):e},l.sort=function(f){return arguments.length?(n=f,e=null,l):n},l.startAngle=function(f){return arguments.length?(r=typeof f=="function"?f:Ct(+f),l):r},l.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:Ct(+f),l):o},l.padAngle=function(f){return arguments.length?(u=typeof f=="function"?f:Ct(+f),l):u},l}var Cm=Jl(Vs);function Pm(t){this._curve=t}Pm.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Jl(t){function e(n){return new Pm(t(n))}return e._curve=t,e}function kr(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(Jl(n)):e()._curve},t}function jd(){return kr(Kl().curve(Cm))}function Qd(){var t=Tm().curve(Cm),e=t.curve,n=t.lineX0,r=t.lineX1,o=t.lineY0,u=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return kr(n())},delete t.lineX0,t.lineEndAngle=function(){return kr(r())},delete t.lineX1,t.lineInnerRadius=function(){return kr(o())},delete t.lineY0,t.lineOuterRadius=function(){return kr(u())},delete t.lineY1,t.curve=function(l){return arguments.length?e(Jl(l)):e()._curve},t}function Or(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var kc=Array.prototype.slice;function _5(t){return t.source}function m5(t){return t.target}function tf(t){var e=_5,n=m5,r=Ql,o=Zl,u=null;function l(){var f,h=kc.call(arguments),p=e.apply(this,h),g=n.apply(this,h);if(u||(u=f=Rn()),t(u,+r.apply(this,(h[0]=p,h)),+o.apply(this,h),+r.apply(this,(h[0]=g,h)),+o.apply(this,h)),f)return u=null,f+""||null}return l.source=function(f){return arguments.length?(e=f,l):e},l.target=function(f){return arguments.length?(n=f,l):n},l.x=function(f){return arguments.length?(r=typeof f=="function"?f:Ct(+f),l):r},l.y=function(f){return arguments.length?(o=typeof f=="function"?f:Ct(+f),l):o},l.context=function(f){return arguments.length?(u=f??null,l):u},l}function y5(t,e,n,r,o){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,o,r,o)}function v5(t,e,n,r,o){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+o)/2,r,n,r,o)}function x5(t,e,n,r,o){var u=Or(e,n),l=Or(e,n=(n+o)/2),f=Or(r,n),h=Or(r,o);t.moveTo(u[0],u[1]),t.bezierCurveTo(l[0],l[1],f[0],f[1],h[0],h[1])}function b5(){return tf(y5)}function w5(){return tf(v5)}function S5(){var t=tf(x5);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const ef={draw:function(t,e){var n=Math.sqrt(e/Ln);t.moveTo(n,0),t.arc(0,0,n,0,An)}},Em={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var Lm=Math.sqrt(1/3),A5=Lm*2;const Mm={draw:function(t,e){var n=Math.sqrt(e/A5),r=n*Lm;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var T5=.8908130915292852,$m=Math.sin(Ln/10)/Math.sin(7*Ln/10),C5=Math.sin(An/10)*$m,P5=-Math.cos(An/10)*$m;const km={draw:function(t,e){var n=Math.sqrt(e*T5),r=C5*n,o=P5*n;t.moveTo(0,-n),t.lineTo(r,o);for(var u=1;u<5;++u){var l=An*u/5,f=Math.cos(l),h=Math.sin(l);t.lineTo(h*n,-f*n),t.lineTo(f*r-h*o,h*r+f*o)}t.closePath()}},Om={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var Mu=Math.sqrt(3);const Rm={draw:function(t,e){var n=-Math.sqrt(e/(Mu*3));t.moveTo(0,n*2),t.lineTo(-Mu*n,-n),t.lineTo(Mu*n,-n),t.closePath()}};var Le=-.5,Me=Math.sqrt(3)/2,Oc=1/Math.sqrt(12),E5=(Oc/2+1)*3;const Nm={draw:function(t,e){var n=Math.sqrt(e/E5),r=n/2,o=n*Oc,u=r,l=n*Oc+n,f=-u,h=l;t.moveTo(r,o),t.lineTo(u,l),t.lineTo(f,h),t.lineTo(Le*r-Me*o,Me*r+Le*o),t.lineTo(Le*u-Me*l,Me*u+Le*l),t.lineTo(Le*f-Me*h,Me*f+Le*h),t.lineTo(Le*r+Me*o,Le*o-Me*r),t.lineTo(Le*u+Me*l,Le*l-Me*u),t.lineTo(Le*f+Me*h,Le*h-Me*f),t.closePath()}};var L5=[ef,Em,Mm,Om,km,Rm,Nm];function M5(){var t=Ct(ef),e=Ct(64),n=null;function r(){var o;if(n||(n=o=Rn()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return r.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ct(o),r):t},r.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ct(+o),r):e},r.context=function(o){return arguments.length?(n=o??null,r):n},r}function Mn(){}function Ko(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ds(t){this._context=t}Ds.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ko(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ko(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $5(t){return new Ds(t)}function Vm(t){this._context=t}Vm.prototype={areaStart:Mn,areaEnd:Mn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ko(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function k5(t){return new Vm(t)}function Dm(t){this._context=t}Dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ko(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function O5(t){return new Dm(t)}function Im(t,e){this._basis=new Ds(t),this._beta=e}Im.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],o=e[0],u=t[n]-r,l=e[n]-o,f=-1,h;++f<=n;)h=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+h*u),this._beta*e[f]+(1-this._beta)*(o+h*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const R5=function t(e){function n(r){return e===1?new Ds(r):new Im(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Jo(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function nf(t,e){this._context=t,this._k=(1-e)/6}nf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Jo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Jo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const N5=function t(e){function n(r){return new nf(r,e)}return n.tension=function(r){return t(+r)},n}(0);function rf(t,e){this._context=t,this._k=(1-e)/6}rf.prototype={areaStart:Mn,areaEnd:Mn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Jo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const V5=function t(e){function n(r){return new rf(r,e)}return n.tension=function(r){return t(+r)},n}(0);function af(t,e){this._context=t,this._k=(1-e)/6}af.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Jo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const D5=function t(e){function n(r){return new af(r,e)}return n.tension=function(r){return t(+r)},n}(0);function of(t,e,n){var r=t._x1,o=t._y1,u=t._x2,l=t._y2;if(t._l01_a>Jt){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,o=(o*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>Jt){var p=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,g=3*t._l23_a*(t._l23_a+t._l12_a);u=(u*p+t._x1*t._l23_2a-e*t._l12_2a)/g,l=(l*p+t._y1*t._l23_2a-n*t._l12_2a)/g}t._context.bezierCurveTo(r,o,u,l,t._x2,t._y2)}function Gm(t,e){this._context=t,this._alpha=e}Gm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:of(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const I5=function t(e){function n(r){return e?new Gm(r,e):new nf(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function Fm(t,e){this._context=t,this._alpha=e}Fm.prototype={areaStart:Mn,areaEnd:Mn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:of(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const G5=function t(e){function n(r){return e?new Fm(r,e):new rf(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function zm(t,e){this._context=t,this._alpha=e}zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:of(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const F5=function t(e){function n(r){return e?new zm(r,e):new af(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function Bm(t){this._context=t}Bm.prototype={areaStart:Mn,areaEnd:Mn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function z5(t){return new Bm(t)}function Zd(t){return t<0?-1:1}function Kd(t,e,n){var r=t._x1-t._x0,o=e-t._x1,u=(t._y1-t._y0)/(r||o<0&&-0),l=(n-t._y1)/(o||r<0&&-0),f=(u*o+l*r)/(r+o);return(Zd(u)+Zd(l))*Math.min(Math.abs(u),Math.abs(l),.5*Math.abs(f))||0}function Jd(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function $u(t,e,n){var r=t._x0,o=t._y0,u=t._x1,l=t._y1,f=(u-r)/3;t._context.bezierCurveTo(r+f,o+f*e,u-f,l-f*n,u,l)}function ts(t){this._context=t}ts.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$u(this,this._t0,Jd(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$u(this,Jd(this,n=Kd(this,t,e)),n);break;default:$u(this,this._t0,n=Kd(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Xm(t){this._context=new Ym(t)}(Xm.prototype=Object.create(ts.prototype)).point=function(t,e){ts.prototype.point.call(this,e,t)};function Ym(t){this._context=t}Ym.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,o,u){this._context.bezierCurveTo(e,t,r,n,u,o)}};function B5(t){return new ts(t)}function X5(t){return new Xm(t)}function Hm(t){this._context=t}Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=tp(t),o=tp(e),u=0,l=1;l<n;++u,++l)this._context.bezierCurveTo(r[0][u],o[0][u],r[1][u],o[1][u],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tp(t){var e,n=t.length-1,r,o=new Array(n),u=new Array(n),l=new Array(n);for(o[0]=0,u[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,u[e]=4,l[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,u[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=o[e]/u[e-1],u[e]-=r,l[e]-=r*l[e-1];for(o[n-1]=l[n-1]/u[n-1],e=n-2;e>=0;--e)o[e]=(l[e]-o[e+1])/u[e];for(u[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)u[e]=2*t[e+1]-o[e+1];return[o,u]}function Y5(t){return new Hm(t)}function Is(t,e){this._context=t,this._t=e}Is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function H5(t){return new Is(t,.5)}function U5(t){return new Is(t,0)}function W5(t){return new Is(t,1)}function ji(t,e){if((l=t.length)>1)for(var n=1,r,o,u=t[e[0]],l,f=u.length;n<l;++n)for(o=u,u=t[e[n]],r=0;r<f;++r)u[r][1]+=u[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function Qi(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function q5(t,e){return t[e]}function j5(){var t=Ct([]),e=Qi,n=ji,r=q5;function o(u){var l=t.apply(this,arguments),f,h=u.length,p=l.length,g=new Array(p),y;for(f=0;f<p;++f){for(var _=l[f],x=g[f]=new Array(h),S=0,w;S<h;++S)x[S]=w=[0,+r(u[S],_,S,u)],w.data=u[S];x.key=_}for(f=0,y=e(g);f<p;++f)g[y[f]].index=f;return n(g,y),g}return o.keys=function(u){return arguments.length?(t=typeof u=="function"?u:Ct(kc.call(u)),o):t},o.value=function(u){return arguments.length?(r=typeof u=="function"?u:Ct(+u),o):r},o.order=function(u){return arguments.length?(e=u==null?Qi:typeof u=="function"?u:Ct(kc.call(u)),o):e},o.offset=function(u){return arguments.length?(n=u??ji,o):n},o}function Q5(t,e){if((r=t.length)>0){for(var n,r,o=0,u=t[0].length,l;o<u;++o){for(l=n=0;n<r;++n)l+=t[n][o][1]||0;if(l)for(n=0;n<r;++n)t[n][o][1]/=l}ji(t,e)}}function Z5(t,e){if((h=t.length)>0)for(var n,r=0,o,u,l,f,h,p=t[e[0]].length;r<p;++r)for(l=f=0,n=0;n<h;++n)(u=(o=t[e[n]][r])[1]-o[0])>0?(o[0]=l,o[1]=l+=u):u<0?(o[1]=f,o[0]=f+=u):(o[0]=0,o[1]=u)}function K5(t,e){if((o=t.length)>0){for(var n=0,r=t[e[0]],o,u=r.length;n<u;++n){for(var l=0,f=0;l<o;++l)f+=t[l][n][1]||0;r[n][1]+=r[n][0]=-f/2}ji(t,e)}}function J5(t,e){if(!(!((l=t.length)>0)||!((u=(o=t[e[0]]).length)>0))){for(var n=0,r=1,o,u,l;r<u;++r){for(var f=0,h=0,p=0;f<l;++f){for(var g=t[e[f]],y=g[r][1]||0,_=g[r-1][1]||0,x=(y-_)/2,S=0;S<f;++S){var w=t[e[S]],A=w[r][1]||0,C=w[r-1][1]||0;x+=A-C}h+=y,p+=x*y}o[r-1][1]+=o[r-1][0]=n,h&&(n-=p/h)}o[r-1][1]+=o[r-1][0]=n,ji(t,e)}}function Um(t){var e=t.map(tE);return Qi(t).sort(function(n,r){return e[n]-e[r]})}function tE(t){for(var e=-1,n=0,r=t.length,o,u=-1/0;++e<r;)(o=+t[e][1])>u&&(u=o,n=e);return n}function Wm(t){var e=t.map(qm);return Qi(t).sort(function(n,r){return e[n]-e[r]})}function qm(t){for(var e=0,n=-1,r=t.length,o;++n<r;)(o=+t[n][1])&&(e+=o);return e}function eE(t){return Wm(t).reverse()}function nE(t){var e=t.length,n,r,o=t.map(qm),u=Um(t),l=0,f=0,h=[],p=[];for(n=0;n<e;++n)r=u[n],l<f?(l+=o[r],h.push(r)):(f+=o[r],p.push(r));return p.reverse().concat(h)}function iE(t){return Qi(t).reverse()}function ep(t){return function(){return t}}function rE(t){return t[0]}function aE(t){return t[1]}function es(){this._=null}function Gs(t){t.U=t.C=t.L=t.R=t.P=t.N=null}es.prototype={constructor:es,insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=np(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(o=r.R,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(gr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,_r(this,r))):(o=r.L,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(_r(this,n),t=n,n=t.U),n.C=!1,r.C=!0,gr(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,n,r=t.L,o=t.R,u,l;if(r?o?u=np(o):u=r:u=o,e?e.L===t?e.L=u:e.R=u:this._=u,r&&o?(l=u.C,u.C=t.C,u.L=r,r.U=u,u!==o?(e=u.U,u.U=t.U,t=u.R,e.L=t,u.R=o,o.U=u):(u.U=e,e=u,t=u.R)):(l=t.C,t=u),t&&(t.U=e),!l){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===e.L){if(n=e.R,n.C&&(n.C=!1,e.C=!0,gr(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,_r(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,gr(this,e),t=this._;break}}else if(n=e.L,n.C&&(n.C=!1,e.C=!0,_r(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,gr(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,_r(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};function gr(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function _r(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function np(t){for(;t.L;)t=t.L;return t}function Rr(t,e,n,r){var o=[null,null],u=te.push(o)-1;return o.left=t,o.right=e,n&&ns(o,t,e,n),r&&ns(o,e,t,r),Se[t.index].halfedges.push(u),Se[e.index].halfedges.push(u),o}function mr(t,e,n){var r=[e,n];return r.left=t,r}function ns(t,e,n,r){!t[0]&&!t[1]?(t[0]=r,t.left=e,t.right=n):t.left===n?t[1]=r:t[0]=r}function oE(t,e,n,r,o){var u=t[0],l=t[1],f=u[0],h=u[1],p=l[0],g=l[1],y=0,_=1,x=p-f,S=g-h,w;if(w=e-f,!(!x&&w>0)){if(w/=x,x<0){if(w<y)return;w<_&&(_=w)}else if(x>0){if(w>_)return;w>y&&(y=w)}if(w=r-f,!(!x&&w<0)){if(w/=x,x<0){if(w>_)return;w>y&&(y=w)}else if(x>0){if(w<y)return;w<_&&(_=w)}if(w=n-h,!(!S&&w>0)){if(w/=S,S<0){if(w<y)return;w<_&&(_=w)}else if(S>0){if(w>_)return;w>y&&(y=w)}if(w=o-h,!(!S&&w<0)){if(w/=S,S<0){if(w>_)return;w>y&&(y=w)}else if(S>0){if(w<y)return;w<_&&(_=w)}return!(y>0)&&!(_<1)||(y>0&&(t[0]=[f+y*x,h+y*S]),_<1&&(t[1]=[f+_*x,h+_*S])),!0}}}}}function sE(t,e,n,r,o){var u=t[1];if(u)return!0;var l=t[0],f=t.left,h=t.right,p=f[0],g=f[1],y=h[0],_=h[1],x=(p+y)/2,S=(g+_)/2,w,A;if(_===g){if(x<e||x>=r)return;if(p>y){if(!l)l=[x,n];else if(l[1]>=o)return;u=[x,o]}else{if(!l)l=[x,o];else if(l[1]<n)return;u=[x,n]}}else if(w=(p-y)/(_-g),A=S-w*x,w<-1||w>1)if(p>y){if(!l)l=[(n-A)/w,n];else if(l[1]>=o)return;u=[(o-A)/w,o]}else{if(!l)l=[(o-A)/w,o];else if(l[1]<n)return;u=[(n-A)/w,n]}else if(g<_){if(!l)l=[e,w*e+A];else if(l[0]>=r)return;u=[r,w*r+A]}else{if(!l)l=[r,w*r+A];else if(l[0]<e)return;u=[e,w*e+A]}return t[0]=l,t[1]=u,!0}function uE(t,e,n,r){for(var o=te.length,u;o--;)(!sE(u=te[o],t,e,n,r)||!oE(u,t,e,n,r)||!(Math.abs(u[0][0]-u[1][0])>$t||Math.abs(u[0][1]-u[1][1])>$t))&&delete te[o]}function cE(t){return Se[t.index]={site:t,halfedges:[]}}function lE(t,e){var n=t.site,r=e.left,o=e.right;return n===o&&(o=r,r=n),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=e[1],o=e[0]):(r=e[0],o=e[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function jm(t,e){return e[+(e.left!==t.site)]}function fE(t,e){return e[+(e.left===t.site)]}function hE(){for(var t=0,e=Se.length,n,r,o,u;t<e;++t)if((n=Se[t])&&(u=(r=n.halfedges).length)){var l=new Array(u),f=new Array(u);for(o=0;o<u;++o)l[o]=o,f[o]=lE(n,te[r[o]]);for(l.sort(function(h,p){return f[p]-f[h]}),o=0;o<u;++o)f[o]=r[l[o]];for(o=0;o<u;++o)r[o]=f[o]}}function dE(t,e,n,r){var o=Se.length,u,l,f,h,p,g,y,_,x,S,w,A,C=!0;for(u=0;u<o;++u)if(l=Se[u]){for(f=l.site,p=l.halfedges,h=p.length;h--;)te[p[h]]||p.splice(h,1);for(h=0,g=p.length;h<g;)S=fE(l,te[p[h]]),w=S[0],A=S[1],y=jm(l,te[p[++h%g]]),_=y[0],x=y[1],(Math.abs(w-_)>$t||Math.abs(A-x)>$t)&&(p.splice(h,0,te.push(mr(f,S,Math.abs(w-t)<$t&&r-A>$t?[t,Math.abs(_-t)<$t?x:r]:Math.abs(A-r)<$t&&n-w>$t?[Math.abs(x-r)<$t?_:n,r]:Math.abs(w-n)<$t&&A-e>$t?[n,Math.abs(_-n)<$t?x:e]:Math.abs(A-e)<$t&&w-t>$t?[Math.abs(x-e)<$t?_:t,e]:null))-1),++g);g&&(C=!1)}if(C){var k,M,$,I=1/0;for(u=0,C=null;u<o;++u)(l=Se[u])&&(f=l.site,k=f[0]-t,M=f[1]-e,$=k*k+M*M,$<I&&(I=$,C=l));if(C){var B=[t,e],z=[t,r],Q=[n,r],Y=[n,e];C.halfedges.push(te.push(mr(f=C.site,B,z))-1,te.push(mr(f,z,Q))-1,te.push(mr(f,Q,Y))-1,te.push(mr(f,Y,B))-1)}}for(u=0;u<o;++u)(l=Se[u])&&(l.halfedges.length||delete Se[u])}var Qm=[],sf;function pE(){Gs(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ei(t){var e=t.P,n=t.N;if(!(!e||!n)){var r=e.site,o=t.site,u=n.site;if(r!==u){var l=o[0],f=o[1],h=r[0]-l,p=r[1]-f,g=u[0]-l,y=u[1]-f,_=2*(h*y-p*g);if(!(_>=-vE)){var x=h*h+p*p,S=g*g+y*y,w=(y*x-p*S)/_,A=(h*S-g*x)/_,C=Qm.pop()||new pE;C.arc=t,C.site=o,C.x=w+l,C.y=(C.cy=A+f)+Math.sqrt(w*w+A*A),t.circle=C;for(var k=null,M=ua._;M;)if(C.y<M.y||C.y===M.y&&C.x<=M.x)if(M.L)M=M.L;else{k=M.P;break}else if(M.R)M=M.R;else{k=M;break}ua.insert(k,C),k||(sf=C)}}}}function Oi(t){var e=t.circle;e&&(e.P||(sf=e.N),ua.remove(e),Qm.push(e),Gs(e),t.circle=null)}var Zm=[];function gE(){Gs(this),this.edge=this.site=this.circle=null}function ip(t){var e=Zm.pop()||new gE;return e.site=t,e}function ku(t){Oi(t),Ri.remove(t),Zm.push(t),Gs(t)}function _E(t){var e=t.circle,n=e.x,r=e.cy,o=[n,r],u=t.P,l=t.N,f=[t];ku(t);for(var h=u;h.circle&&Math.abs(n-h.circle.x)<$t&&Math.abs(r-h.circle.cy)<$t;)u=h.P,f.unshift(h),ku(h),h=u;f.unshift(h),Oi(h);for(var p=l;p.circle&&Math.abs(n-p.circle.x)<$t&&Math.abs(r-p.circle.cy)<$t;)l=p.N,f.push(p),ku(p),p=l;f.push(p),Oi(p);var g=f.length,y;for(y=1;y<g;++y)p=f[y],h=f[y-1],ns(p.edge,h.site,p.site,o);h=f[0],p=f[g-1],p.edge=Rr(h.site,p.site,null,o),Ei(h),Ei(p)}function mE(t){for(var e=t[0],n=t[1],r,o,u,l,f=Ri._;f;)if(u=Km(f,n)-e,u>$t)f=f.L;else if(l=e-yE(f,n),l>$t){if(!f.R){r=f;break}f=f.R}else{u>-$t?(r=f.P,o=f):l>-$t?(r=f,o=f.N):r=o=f;break}cE(t);var h=ip(t);if(Ri.insert(r,h),!(!r&&!o)){if(r===o){Oi(r),o=ip(r.site),Ri.insert(h,o),h.edge=o.edge=Rr(r.site,h.site),Ei(r),Ei(o);return}if(!o){h.edge=Rr(r.site,h.site);return}Oi(r),Oi(o);var p=r.site,g=p[0],y=p[1],_=t[0]-g,x=t[1]-y,S=o.site,w=S[0]-g,A=S[1]-y,C=2*(_*A-x*w),k=_*_+x*x,M=w*w+A*A,$=[(A*k-x*M)/C+g,(_*M-w*k)/C+y];ns(o.edge,p,S,$),h.edge=Rr(p,t,null,$),o.edge=Rr(t,S,null,$),Ei(r),Ei(o)}}function Km(t,e){var n=t.site,r=n[0],o=n[1],u=o-e;if(!u)return r;var l=t.P;if(!l)return-1/0;n=l.site;var f=n[0],h=n[1],p=h-e;if(!p)return f;var g=f-r,y=1/u-1/p,_=g/p;return y?(-_+Math.sqrt(_*_-2*y*(g*g/(-2*p)-h+p/2+o-u/2)))/y+r:(r+f)/2}function yE(t,e){var n=t.N;if(n)return Km(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var $t=1e-6,vE=1e-12,Ri,Se,ua,te;function xE(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function bE(t,e){return e[1]-t[1]||e[0]-t[0]}function Rc(t,e){var n=t.sort(bE).pop(),r,o,u;for(te=[],Se=new Array(t.length),Ri=new es,ua=new es;;)if(u=sf,n&&(!u||n[1]<u.y||n[1]===u.y&&n[0]<u.x))(n[0]!==r||n[1]!==o)&&(mE(n),r=n[0],o=n[1]),n=t.pop();else if(u)_E(u.arc);else break;if(hE(),e){var l=+e[0][0],f=+e[0][1],h=+e[1][0],p=+e[1][1];uE(l,f,h,p),dE(l,f,h,p)}this.edges=te,this.cells=Se,Ri=ua=te=Se=null}Rc.prototype={constructor:Rc,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(r){return jm(e,t[r])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(f=(u=n.halfedges).length)for(var o=n.site,u,l=-1,f,h,p=e[u[f-1]],g=p.left===o?p.right:p.left;++l<f;)h=g,p=e[u[l]],g=p.left===o?p.right:p.left,h&&g&&r<h.index&&r<g.index&&xE(o,h,g)<0&&t.push([o.data,h.data,g.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r=this,o,u=r._found||0,l=r.cells.length,f;!(f=r.cells[u]);)if(++u>=l)return null;var h=t-f.site[0],p=e-f.site[1],g=h*h+p*p;do f=r.cells[o=u],u=null,f.halfedges.forEach(function(y){var _=r.edges[y],x=_.left;if(!((x===f.site||!x)&&!(x=_.right))){var S=t-x[0],w=e-x[1],A=S*S+w*w;A<g&&(g=A,u=x.index)}});while(u!==null);return r._found=o,n==null||g<=n*n?f.site:null}};function wE(){var t=rE,e=aE,n=null;function r(o){return new Rc(o.map(function(u,l){var f=[Math.round(t(u,l,o)/$t)*$t,Math.round(e(u,l,o)/$t)*$t];return f.index=l,f.data=u,f}),n)}return r.polygons=function(o){return r(o).polygons()},r.links=function(o){return r(o).links()},r.triangles=function(o){return r(o).triangles()},r.x=function(o){return arguments.length?(t=typeof o=="function"?o:ep(+o),r):t},r.y=function(o){return arguments.length?(e=typeof o=="function"?o:ep(+o),r):e},r.extent=function(o){return arguments.length?(n=o==null?null:[[+o[0][0],+o[0][1]],[+o[1][0],+o[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(o){return arguments.length?(n=o==null?null:[[0,0],[+o[0],+o[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}function Wa(t){return function(){return t}}function SE(t,e,n){this.target=t,this.type=e,this.transform=n}function fn(t,e,n){this.k=t,this.x=e,this.y=n}fn.prototype={constructor:fn,scale:function(t){return t===1?this:new fn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new fn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fs=new fn(1,0,0);Jm.prototype=fn.prototype;function Jm(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Fs;return t.__zoom}function Ou(){st.stopImmediatePropagation()}function yr(){st.preventDefault(),st.stopImmediatePropagation()}function AE(){return!st.ctrlKey&&!st.button}function TE(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function rp(){return this.__zoom||Fs}function CE(){return-st.deltaY*(st.deltaMode===1?.05:st.deltaMode?1:.002)}function PE(){return navigator.maxTouchPoints||"ontouchstart"in this}function EE(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],u=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),l>u?(u+l)/2:Math.min(0,u)||Math.max(0,l))}function LE(){var t=AE,e=TE,n=EE,r=CE,o=PE,u=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],f=250,h=Eg,p=hi("start","zoom","end"),g,y,_=500,x=150,S=0;function w(O){O.property("__zoom",rp).on("wheel.zoom",B).on("mousedown.zoom",z).on("dblclick.zoom",Q).filter(o).on("touchstart.zoom",Y).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",W).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(O,H,J){var U=O.selection?O.selection():O;U.property("__zoom",rp),O!==U?M(O,H,J):U.interrupt().each(function(){$(this,arguments).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},w.scaleBy=function(O,H,J){w.scaleTo(O,function(){var U=this.__zoom.k,Z=typeof H=="function"?H.apply(this,arguments):H;return U*Z},J)},w.scaleTo=function(O,H,J){w.transform(O,function(){var U=e.apply(this,arguments),Z=this.__zoom,it=J==null?k(U):typeof J=="function"?J.apply(this,arguments):J,at=Z.invert(it),i=typeof H=="function"?H.apply(this,arguments):H;return n(C(A(Z,i),it,at),U,l)},J)},w.translateBy=function(O,H,J){w.transform(O,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof J=="function"?J.apply(this,arguments):J),e.apply(this,arguments),l)})},w.translateTo=function(O,H,J,U){w.transform(O,function(){var Z=e.apply(this,arguments),it=this.__zoom,at=U==null?k(Z):typeof U=="function"?U.apply(this,arguments):U;return n(Fs.translate(at[0],at[1]).scale(it.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof J=="function"?-J.apply(this,arguments):-J),Z,l)},U)};function A(O,H){return H=Math.max(u[0],Math.min(u[1],H)),H===O.k?O:new fn(H,O.x,O.y)}function C(O,H,J){var U=H[0]-J[0]*O.k,Z=H[1]-J[1]*O.k;return U===O.x&&Z===O.y?O:new fn(O.k,U,Z)}function k(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function M(O,H,J){O.on("start.zoom",function(){$(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).end()}).tween("zoom",function(){var U=this,Z=arguments,it=$(U,Z),at=e.apply(U,Z),i=J==null?k(at):typeof J=="function"?J.apply(U,Z):J,a=Math.max(at[1][0]-at[0][0],at[1][1]-at[0][1]),s=U.__zoom,c=typeof H=="function"?H.apply(U,Z):H,d=h(s.invert(i).concat(a/s.k),c.invert(i).concat(a/c.k));return function(v){if(v===1)v=c;else{var b=d(v),P=a/b[2];v=new fn(P,i[0]-b[0]*P,i[1]-b[1]*P)}it.zoom(null,v)}})}function $(O,H,J){return!J&&O.__zooming||new I(O,H)}function I(O,H){this.that=O,this.args=H,this.active=0,this.extent=e.apply(O,H),this.taps=0}I.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,H){return this.mouse&&O!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){Yr(new SE(w,O,this.that.__zoom),p.apply,p,[O,this.that,this.args])}};function B(){if(!t.apply(this,arguments))return;var O=$(this,arguments),H=this.__zoom,J=Math.max(u[0],Math.min(u[1],H.k*Math.pow(2,r.apply(this,arguments)))),U=qn(this);if(O.wheel)(O.mouse[0][0]!==U[0]||O.mouse[0][1]!==U[1])&&(O.mouse[1]=H.invert(O.mouse[0]=U)),clearTimeout(O.wheel);else{if(H.k===J)return;O.mouse=[U,H.invert(U)],Zn(this),O.start()}yr(),O.wheel=setTimeout(Z,x),O.zoom("mouse",n(C(A(H,J),O.mouse[0],O.mouse[1]),O.extent,l));function Z(){O.wheel=null,O.end()}}function z(){if(y||!t.apply(this,arguments))return;var O=$(this,arguments,!0),H=ye(st.view).on("mousemove.zoom",it,!0).on("mouseup.zoom",at,!0),J=qn(this),U=st.clientX,Z=st.clientY;hs(st.view),Ou(),O.mouse=[J,this.__zoom.invert(J)],Zn(this),O.start();function it(){if(yr(),!O.moved){var i=st.clientX-U,a=st.clientY-Z;O.moved=i*i+a*a>S}O.zoom("mouse",n(C(O.that.__zoom,O.mouse[0]=qn(O.that),O.mouse[1]),O.extent,l))}function at(){H.on("mousemove.zoom mouseup.zoom",null),ds(st.view,O.moved),yr(),O.end()}}function Q(){if(t.apply(this,arguments)){var O=this.__zoom,H=qn(this),J=O.invert(H),U=O.k*(st.shiftKey?.5:2),Z=n(C(A(O,U),H,J),e.apply(this,arguments),l);yr(),f>0?ye(this).transition().duration(f).call(M,Z,H):ye(this).call(w.transform,Z)}}function Y(){if(t.apply(this,arguments)){var O=st.touches,H=O.length,J=$(this,arguments,st.changedTouches.length===H),U,Z,it,at;for(Ou(),Z=0;Z<H;++Z)it=O[Z],at=Hr(this,O,it.identifier),at=[at,this.__zoom.invert(at),it.identifier],J.touch0?!J.touch1&&J.touch0[2]!==at[2]&&(J.touch1=at,J.taps=0):(J.touch0=at,U=!0,J.taps=1+!!g);g&&(g=clearTimeout(g)),U&&(J.taps<2&&(g=setTimeout(function(){g=null},_)),Zn(this),J.start())}}function T(){if(this.__zooming){var O=$(this,arguments),H=st.changedTouches,J=H.length,U,Z,it,at;for(yr(),g&&(g=clearTimeout(g)),O.taps=0,U=0;U<J;++U)Z=H[U],it=Hr(this,H,Z.identifier),O.touch0&&O.touch0[2]===Z.identifier?O.touch0[0]=it:O.touch1&&O.touch1[2]===Z.identifier&&(O.touch1[0]=it);if(Z=O.that.__zoom,O.touch1){var i=O.touch0[0],a=O.touch0[1],s=O.touch1[0],c=O.touch1[1],d=(d=s[0]-i[0])*d+(d=s[1]-i[1])*d,v=(v=c[0]-a[0])*v+(v=c[1]-a[1])*v;Z=A(Z,Math.sqrt(d/v)),it=[(i[0]+s[0])/2,(i[1]+s[1])/2],at=[(a[0]+c[0])/2,(a[1]+c[1])/2]}else if(O.touch0)it=O.touch0[0],at=O.touch0[1];else return;O.zoom("touch",n(C(Z,it,at),O.extent,l))}}function W(){if(this.__zooming){var O=$(this,arguments),H=st.changedTouches,J=H.length,U,Z;for(Ou(),y&&clearTimeout(y),y=setTimeout(function(){y=null},_),U=0;U<J;++U)Z=H[U],O.touch0&&O.touch0[2]===Z.identifier?delete O.touch0:O.touch1&&O.touch1[2]===Z.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2){var it=ye(this).on("dblclick.zoom");it&&it.apply(this,arguments)}}}return w.wheelDelta=function(O){return arguments.length?(r=typeof O=="function"?O:Wa(+O),w):r},w.filter=function(O){return arguments.length?(t=typeof O=="function"?O:Wa(!!O),w):t},w.touchable=function(O){return arguments.length?(o=typeof O=="function"?O:Wa(!!O),w):o},w.extent=function(O){return arguments.length?(e=typeof O=="function"?O:Wa([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),w):e},w.scaleExtent=function(O){return arguments.length?(u[0]=+O[0],u[1]=+O[1],w):[u[0],u[1]]},w.translateExtent=function(O){return arguments.length?(l[0][0]=+O[0][0],l[1][0]=+O[1][0],l[0][1]=+O[0][1],l[1][1]=+O[1][1],w):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},w.constrain=function(O){return arguments.length?(n=O,w):n},w.duration=function(O){return arguments.length?(f=+O,w):f},w.interpolate=function(O){return arguments.length?(h=O,w):h},w.on=function(){var O=p.on.apply(p,arguments);return O===p?w:O},w.clickDistance=function(O){return arguments.length?(S=(O=+O)*O,w):Math.sqrt(S)},w}const ME=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:As,active:jw,arc:h5,area:Tm,areaRadial:Qd,ascending:kn,autoType:J2,axisBottom:nx,axisLeft:ix,axisRight:ex,axisTop:tx,bisect:Tn,bisectLeft:Mv,bisectRight:Tn,bisector:Wc,blob:nS,brush:u2,brushSelection:a2,brushX:o2,brushY:s2,buffer:rS,chord:l2,clientPoint:fs,cluster:yT,color:Pn,contourDensity:D2,contours:Hg,create:C1,creator:cs,cross:kv,csv:sS,csvFormat:B2,csvFormatBody:X2,csvFormatRow:H2,csvFormatRows:Y2,csvFormatValue:U2,csvParse:Wg,csvParseRows:z2,cubehelix:Ye,curveBasis:$5,curveBasisClosed:k5,curveBasisOpen:O5,curveBundle:R5,curveCardinal:N5,curveCardinalClosed:V5,curveCardinalOpen:D5,curveCatmullRom:I5,curveCatmullRomClosed:G5,curveCatmullRomOpen:F5,curveLinear:Vs,curveLinearClosed:z5,curveMonotoneX:B5,curveMonotoneY:X5,curveNatural:Y5,curveStep:H5,curveStepAfter:W5,curveStepBefore:U5,customEvent:Yr,descending:Ov,deviation:zp,dispatch:hi,drag:R1,dragDisable:hs,dragEnable:ds,dsv:oS,dsvFormat:bs,easeBack:mh,easeBackIn:Bw,easeBackInOut:mh,easeBackOut:Xw,easeBounce:Zr,easeBounceIn:Fw,easeBounceInOut:zw,easeBounceOut:Zr,easeCircle:_h,easeCircleIn:Mw,easeCircleInOut:_h,easeCircleOut:$w,easeCubic:Ju,easeCubicIn:ww,easeCubicInOut:Ju,easeCubicOut:Sw,easeElastic:yh,easeElasticIn:Yw,easeElasticInOut:Hw,easeElasticOut:yh,easeExp:gh,easeExpIn:Ew,easeExpInOut:gh,easeExpOut:Lw,easeLinear:vw,easePoly:dh,easePolyIn:Aw,easePolyInOut:dh,easePolyOut:Tw,easeQuad:hh,easeQuadIn:xw,easeQuadInOut:hh,easeQuadOut:bw,easeSin:ph,easeSinIn:Cw,easeSinInOut:ph,easeSinOut:Pw,entries:A2,get event(){return st},extent:qc,forceCenter:gS,forceCollide:RS,forceLink:VS,forceManyBody:BS,forceRadial:XS,forceSimulation:zS,forceX:YS,forceY:HS,get format(){return Ts},formatDefaultLocale:Jg,formatLocale:Kg,get formatPrefix(){return yl},formatSpecifier:Jr,geoAlbers:D0,geoAlbersUsa:QA,geoArea:eA,geoAzimuthalEqualArea:ZA,geoAzimuthalEqualAreaRaw:El,geoAzimuthalEquidistant:KA,geoAzimuthalEquidistantRaw:Ll,geoBounds:aA,geoCentroid:fA,geoCircle:hA,geoClipAntimeridian:_c,geoClipCircle:b0,geoClipExtent:vA,geoClipRectangle:Cs,geoConicConformal:tT,geoConicConformalRaw:F0,geoConicEqualArea:Bo,geoConicEqualAreaRaw:V0,geoConicEquidistant:nT,geoConicEquidistantRaw:z0,geoContains:CA,geoDistance:Ro,geoEqualEarth:rT,geoEqualEarthRaw:Ml,geoEquirectangular:eT,geoEquirectangularRaw:na,geoGnomonic:aT,geoGnomonicRaw:$l,geoGraticule:A0,geoGraticule10:PA,geoIdentity:oT,geoInterpolate:EA,geoLength:w0,geoMercator:JA,geoMercatorRaw:_a,geoNaturalEarth1:sT,geoNaturalEarth1Raw:kl,geoOrthographic:uT,geoOrthographicRaw:Ol,geoPath:FA,geoProjection:on,geoProjectionMutator:Cl,geoRotation:g0,geoStereographic:cT,geoStereographicRaw:Rl,geoStream:Ge,geoTransform:zA,geoTransverseMercator:lT,geoTransverseMercatorRaw:Nl,gray:Y1,hcl:fo,hierarchy:Vl,histogram:Dv,hsl:uo,html:dS,image:cS,interpolate:ha,interpolateArray:Q1,interpolateBasis:pg,interpolateBasisClosed:gg,interpolateBlues:GP,interpolateBrBG:yP,interpolateBuGn:PP,interpolateBuPu:EP,interpolateCividis:HP,interpolateCool:qP,interpolateCubehelix:fb,interpolateCubehelixDefault:UP,interpolateCubehelixLong:ms,interpolateDate:bg,interpolateDiscrete:J1,interpolateGnBu:LP,interpolateGreens:FP,interpolateGreys:zP,interpolateHcl:cb,interpolateHclLong:lb,interpolateHsl:ob,interpolateHslLong:sb,interpolateHue:tb,interpolateInferno:n5,interpolateLab:ub,interpolateMagma:e5,interpolateNumber:ke,interpolateNumberArray:sl,interpolateObject:wg,interpolateOrRd:MP,interpolateOranges:YP,interpolatePRGn:vP,interpolatePiYG:xP,interpolatePlasma:i5,interpolatePuBu:kP,interpolatePuBuGn:$P,interpolatePuOr:bP,interpolatePuRd:OP,interpolatePurples:BP,interpolateRainbow:jP,interpolateRdBu:wP,interpolateRdGy:SP,interpolateRdPu:RP,interpolateRdYlBu:AP,interpolateRdYlGn:TP,interpolateReds:XP,interpolateRgb:qr,interpolateRgbBasis:yg,interpolateRgbBasisClosed:j1,interpolateRound:Sg,interpolateSinebow:KP,interpolateSpectral:CP,interpolateString:ul,interpolateTransformCss:Cg,interpolateTransformSvg:Pg,interpolateTurbo:JP,interpolateViridis:t5,interpolateWarm:WP,interpolateYlGn:VP,interpolateYlGnBu:NP,interpolateYlOrBr:DP,interpolateYlOrRd:IP,interpolateZoom:Eg,interrupt:Zn,interval:mb,isoFormat:ZC,isoParse:tP,json:fS,keys:w2,lab:lo,lch:H1,line:Kl,lineRadial:jd,linkHorizontal:b5,linkRadial:S5,linkVertical:w5,local:tg,map:dn,matcher:Jc,max:Xp,mean:Fv,median:zv,merge:Zc,min:Yp,mouse:qn,namespace:la,namespaces:Xu,nest:v2,now:Ji,pack:XT,packEnclose:X0,packSiblings:FT,pairs:$v,partition:YT,path:Rn,permute:Bv,pie:g5,piecewise:hb,pointRadial:Or,polygonArea:a3,polygonCentroid:o3,polygonContains:l3,polygonHull:c3,polygonLength:f3,precisionFixed:t0,precisionPrefix:e0,precisionRound:n0,quadtree:Ss,quantile:Xr,quantize:db,radialArea:Qd,radialLine:jd,randomBates:p3,randomExponential:g3,randomIrwinHall:K0,randomLogNormal:d3,randomNormal:Z0,randomUniform:h3,range:Ae,rgb:zi,ribbon:y2,scaleBand:Il,scaleDiverging:q_,scaleDivergingLog:j_,scaleDivergingPow:jl,scaleDivergingSqrt:sP,scaleDivergingSymlog:Q_,scaleIdentity:r_,scaleImplicit:Lc,scaleLinear:i_,scaleLog:o_,scaleOrdinal:Dl,scalePoint:_3,scalePow:Bl,scaleQuantile:u_,scaleQuantize:c_,scaleSequential:Y_,scaleSequentialLog:H_,scaleSequentialPow:ql,scaleSequentialQuantile:W_,scaleSequentialSqrt:oP,scaleSequentialSymlog:U_,scaleSqrt:P3,scaleSymlog:s_,scaleThreshold:l_,scaleTime:rP,scaleUtc:aP,scan:Xv,schemeAccent:cP,schemeBlues:ym,schemeBrBG:Z_,schemeBuGn:om,schemeBuPu:sm,schemeCategory10:uP,schemeDark2:lP,schemeGnBu:um,schemeGreens:vm,schemeGreys:xm,schemeOrRd:cm,schemeOranges:Sm,schemePRGn:K_,schemePaired:fP,schemePastel1:hP,schemePastel2:dP,schemePiYG:J_,schemePuBu:fm,schemePuBuGn:lm,schemePuOr:tm,schemePuRd:hm,schemePurples:bm,schemeRdBu:em,schemeRdGy:nm,schemeRdPu:dm,schemeRdYlBu:im,schemeRdYlGn:rm,schemeReds:wm,schemeSet1:pP,schemeSet2:gP,schemeSet3:_P,schemeSpectral:am,schemeTableau10:mP,schemeYlGn:gm,schemeYlGnBu:pm,schemeYlOrBr:_m,schemeYlOrRd:mm,select:ye,selectAll:E1,selection:di,selector:ls,selectorAll:Kc,set:Xg,shuffle:Yv,stack:j5,stackOffsetDiverging:Z5,stackOffsetExpand:Q5,stackOffsetNone:ji,stackOffsetSilhouette:K5,stackOffsetWiggle:J5,stackOrderAppearance:Um,stackOrderAscending:Wm,stackOrderDescending:eE,stackOrderInsideOut:nE,stackOrderNone:Qi,stackOrderReverse:iE,stratify:qT,style:ei,sum:Hv,svg:pS,symbol:M5,symbolCircle:ef,symbolCross:Em,symbolDiamond:Mm,symbolSquare:Om,symbolStar:km,symbolTriangle:Rm,symbolWye:Nm,symbols:L5,text:ws,thresholdFreedmanDiaconis:Iv,thresholdScott:Gv,thresholdSturges:Qc,tickFormat:n_,tickIncrement:Dr,tickStep:ti,ticks:jc,timeDay:Ms,timeDays:M3,get timeFormat(){return Hl},timeFormatDefaultLocale:B_,timeFormatLocale:V_,timeFriday:b_,timeFridays:N3,timeHour:m_,timeHours:L3,timeInterval:Ht,timeMillisecond:Wo,timeMilliseconds:kd,timeMinute:g_,timeMinutes:E3,timeMonday:ra,timeMondays:$3,timeMonth:A_,timeMonths:D3,get timeParse(){return z_},timeSaturday:w_,timeSaturdays:V3,timeSecond:Qo,timeSeconds:Od,timeSunday:ia,timeSundays:Rd,timeThursday:ui,timeThursdays:R3,timeTuesday:v_,timeTuesdays:k3,timeWednesday:x_,timeWednesdays:O3,timeWeek:ia,timeWeeks:Rd,timeYear:ci,timeYears:I3,timeout:ju,timer:vs,timerFlush:Rg,touch:Hr,touches:L1,transition:Ig,transpose:Hp,tree:t3,treemap:e3,treemapBinary:n3,treemapDice:ma,treemapResquarify:r3,treemapSlice:Es,treemapSliceDice:i3,treemapSquarify:Q0,tsv:uS,tsvFormat:q2,tsvFormatBody:j2,tsvFormatRow:Z2,tsvFormatRows:Q2,tsvFormatValue:K2,tsvParse:qg,tsvParseRows:W2,utcDay:$s,utcDays:z3,get utcFormat(){return ks},utcFriday:k_,utcFridays:U3,utcHour:E_,utcHours:F3,utcMillisecond:Wo,utcMilliseconds:kd,utcMinute:C_,utcMinutes:G3,utcMonday:oa,utcMondays:B3,utcMonth:N_,utcMonths:q3,get utcParse(){return Ul},utcSaturday:O_,utcSaturdays:W3,utcSecond:Qo,utcSeconds:Od,utcSunday:aa,utcSundays:Nd,utcThursday:li,utcThursdays:H3,utcTuesday:M_,utcTuesdays:X3,utcWednesday:$_,utcWednesdays:Y3,utcWeek:aa,utcWeeks:Nd,utcYear:fi,utcYears:j3,values:S2,variance:Fp,version:Ev,voronoi:wE,window:tl,xml:hS,zip:Wv,zoom:LE,zoomIdentity:Fs,zoomTransform:Jm},Symbol.toStringTag,{value:"Module"})),$E=dp(ME);/* @license C3.js v0.7.20 | (c) C3 Team and other contributors | http://c3js.org/ */(function(t,e){(function(n,r){t.exports=r()})(hp,function(){function n(i){var a=this;a.d3=window.d3?window.d3:typeof Cv<"u"?$E:void 0,a.api=i,a.config=a.getDefaultConfig(),a.data={},a.cache={},a.axes={}}function r(i){this.internal=new n(this),this.internal.loadConfig(i),this.internal.beforeInit(i),this.internal.init(),this.internal.afterInit(i),function a(s,c,d){Object.keys(s).forEach(function(v){c[v]=s[v].bind(d),Object.keys(s[v]).length>0&&a(s[v],c[v],d)})}(r.prototype,this,this)}var o=function(i){return Math.ceil(i)+.5},u=function(i){return Math.ceil(i/10)*10},l=function(i){return i[1]-i[0]},f=function(i,a,s){return _(i[a])?i[a]:s},h=function(i){var a=p(i),s=[i.pathSegList.getItem(0),i.pathSegList.getItem(1)],c=s[0].x,d=Math.min(s[0].y,s[1].y);return{x:c,y:d,width:a.width,height:a.height}},p=function(i){try{return i.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},g=function(i,a){var s=!1;return Object.keys(i).forEach(function(c){i[c]===a&&(s=!0)}),s},y=function(i){return Array.isArray(i)},_=function(i){return typeof i<"u"},x=function(i){return typeof i>"u"||i===null||A(i)&&i.length===0||typeof i=="object"&&Object.keys(i).length===0},S=function(i){return typeof i=="function"},w=function(i){return typeof i=="number"},A=function(i){return typeof i=="string"},C=function(i){return typeof i>"u"},k=function(i){return i||i===0},M=function(i){return!x(i)},$=function(i){return typeof i=="string"?i.replace(/</g,"&lt;").replace(/>/g,"&gt;"):i},I=function(i){return Array.isArray(i)?[].concat.apply([],i):[]},B=function(i,a,s){s===void 0&&(s=0);var c=a.x-s,d=a.x+a.width+s,v=a.y+a.height+s,b=a.y-s;return c<i[0]&&i[0]<d&&b<i[1]&&i[1]<v},z=function(i){typeof i>"u"&&(i=window.navigator.userAgent);var a=i.indexOf("MSIE ");return a>0?parseInt(i.substring(a+5,i.indexOf(".",a)),10):(a=i.indexOf("Trident/"),a>0?(a=i.indexOf("rv:"),parseInt(i.substring(a+3,i.indexOf(".",a)),10)):!1)},Q=function(i){var a=z();return typeof i>"u"?!!a:i===a};function Y(i,a){var s=this;s.component=i,s.params=a||{},s.d3=i.d3,s.scale=s.d3.scaleLinear(),s.range,s.orient="bottom",s.innerTickSize=6,s.outerTickSize=this.params.withOuterTick?6:0,s.tickPadding=3,s.tickValues=null,s.tickFormat,s.tickArguments,s.tickOffset=0,s.tickCulling=!0,s.tickCentered,s.tickTextCharSize,s.tickTextRotate=s.params.tickTextRotate,s.tickLength,s.axis=s.generateAxis()}Y.prototype.axisX=function(i,a,s){i.attr("transform",function(c){return"translate("+Math.ceil(a(c)+s)+", 0)"})},Y.prototype.axisY=function(i,a){i.attr("transform",function(s){return"translate(0,"+Math.ceil(a(s))+")"})},Y.prototype.scaleExtent=function(i){var a=i[0],s=i[i.length-1];return a<s?[a,s]:[s,a]},Y.prototype.generateTicks=function(i){var a=this,s,c,d=[];if(i.ticks)return i.ticks.apply(i,a.tickArguments);for(c=i.domain(),s=Math.ceil(c[0]);s<c[1];s++)d.push(s);return d.length>0&&d[0]>0&&d.unshift(d[0]-(d[1]-d[0])),d},Y.prototype.copyScale=function(){var i=this,a=i.scale.copy(),s;return i.params.isCategory&&(s=i.scale.domain(),a.domain([s[0],s[1]-1])),a},Y.prototype.textFormatted=function(i){var a=this,s=a.tickFormat?a.tickFormat(i):i;return typeof s<"u"?s:""},Y.prototype.updateRange=function(){var i=this;return i.range=i.scale.rangeExtent?i.scale.rangeExtent():i.scaleExtent(i.scale.range()),i.range},Y.prototype.updateTickTextCharSize=function(i){var a=this;if(a.tickTextCharSize)return a.tickTextCharSize;var s={h:11.5,w:5.5};return i.select("text").text(function(c){return a.textFormatted(c)}).each(function(c){var d=p(this),v=a.textFormatted(c),b=d.height,P=v?d.width/v.length:void 0;b&&P&&(s.h=b,s.w=P)}).text(""),a.tickTextCharSize=s,s},Y.prototype.isVertical=function(){return this.orient==="left"||this.orient==="right"},Y.prototype.tspanData=function(i,a,s){var c=this,d=c.params.tickMultiline?c.splitTickText(i,s):[].concat(c.textFormatted(i));return c.params.tickMultiline&&c.params.tickMultilineMax>0&&(d=c.ellipsify(d,c.params.tickMultilineMax)),d.map(function(v){return{index:a,splitted:v,length:d.length}})},Y.prototype.splitTickText=function(i,a){var s=this,c=s.textFormatted(i),d=s.params.tickWidth,v,b,P,R=[];if(Object.prototype.toString.call(c)==="[object Array]")return c;(!d||d<=0)&&(d=s.isVertical()?95:s.params.isCategory?Math.ceil(a(1)-a(0))-12:110);function L(N,V){b=void 0;for(var X=1;X<V.length;X++)if(V.charAt(X)===" "&&(b=X),v=V.substr(0,X+1),P=s.tickTextCharSize.w*v.length,d<P)return L(N.concat(V.substr(0,b||X)),V.slice(b?b+1:X));return N.concat(V)}return L(R,c+"")},Y.prototype.ellipsify=function(i,a){if(i.length<=a)return i;for(var s=i.slice(0,a),c=3,d=a-1;d>=0;d--){var v=s[d].length;if(s[d]=s[d].substr(0,v-c).padEnd(v,"."),c-=v,c<=0)break}return s},Y.prototype.updateTickLength=function(){var i=this;i.tickLength=Math.max(i.innerTickSize,0)+i.tickPadding},Y.prototype.lineY2=function(i){var a=this,s=a.scale(i)+(a.tickCentered?0:a.tickOffset);return a.range[0]<s&&s<a.range[1]?a.innerTickSize:0},Y.prototype.textY=function(){var i=this,a=i.tickTextRotate;return a?11.5-2.5*(a/15)*(a>0?1:-1):i.tickLength},Y.prototype.textTransform=function(){var i=this,a=i.tickTextRotate;return a?"rotate("+a+")":""},Y.prototype.textTextAnchor=function(){var i=this,a=i.tickTextRotate;return a?a>0?"start":"end":"middle"},Y.prototype.tspanDx=function(){var i=this,a=i.tickTextRotate;return a?8*Math.sin(Math.PI*(a/180)):0},Y.prototype.tspanDy=function(i,a){var s=this,c=s.tickTextCharSize.h;return a===0&&(s.isVertical()?c=-((i.length-1)*(s.tickTextCharSize.h/2)-3):c=".71em"),c},Y.prototype.generateAxis=function(){var i=this,a=i.d3,s=i.params;function c(d,v){var b;return d.each(function(){var P=c.g=a.select(this),R=this.__chart__||i.scale,L=this.__chart__=i.copyScale(),N=i.tickValues?i.tickValues:i.generateTicks(L),V=P.selectAll(".tick").data(N,L),X=V.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),D=V.exit().remove(),q=V.merge(X),j,tt,K;s.isCategory?(i.tickOffset=Math.ceil((L(1)-L(0))/2),tt=i.tickCentered?0:i.tickOffset,K=i.tickCentered?i.tickOffset:0):i.tickOffset=tt=0,i.updateRange(),i.updateTickLength(),i.updateTickTextCharSize(P.select(".tick"));var dt=q.select("line").merge(X.append("line")),pt=q.select("text").merge(X.append("text")),bt=q.selectAll("text").selectAll("tspan").data(function(ot,ft){return i.tspanData(ot,ft,L)}),xt=bt.enter().append("tspan"),wt=xt.merge(bt).text(function(ot){return ot.splitted});bt.exit().remove();var lt=P.selectAll(".domain").data([0]),St=lt.enter().append("path").merge(lt).attr("class","domain");switch(i.orient){case"bottom":{j=i.axisX,dt.attr("x1",tt).attr("x2",tt).attr("y2",function(ot,ft){return i.lineY2(ot,ft)}),pt.attr("x",0).attr("y",function(ot,ft){return i.textY(ot,ft)}).attr("transform",function(ot,ft){return i.textTransform(ot,ft)}).style("text-anchor",function(ot,ft){return i.textTextAnchor(ot,ft)}),wt.attr("x",0).attr("dy",function(ot,ft){return i.tspanDy(ot,ft)}).attr("dx",function(ot,ft){return i.tspanDx(ot,ft)}),St.attr("d","M"+i.range[0]+","+i.outerTickSize+"V0H"+i.range[1]+"V"+i.outerTickSize);break}case"top":{j=i.axisX,dt.attr("x1",tt).attr("x2",tt).attr("y2",function(ot,ft){return-1*i.lineY2(ot,ft)}),pt.attr("x",0).attr("y",function(ot,ft){return-1*i.textY(ot,ft)-(s.isCategory?2:i.tickLength-2)}).attr("transform",function(ot,ft){return i.textTransform(ot,ft)}).style("text-anchor",function(ot,ft){return i.textTextAnchor(ot,ft)}),wt.attr("x",0).attr("dy",function(ot,ft){return i.tspanDy(ot,ft)}).attr("dx",function(ot,ft){return i.tspanDx(ot,ft)}),St.attr("d","M"+i.range[0]+","+-i.outerTickSize+"V0H"+i.range[1]+"V"+-i.outerTickSize);break}case"left":{j=i.axisY,dt.attr("x2",-i.innerTickSize).attr("y1",K).attr("y2",K),pt.attr("x",-i.tickLength).attr("y",i.tickOffset).style("text-anchor","end"),wt.attr("x",-i.tickLength).attr("dy",function(ot,ft){return i.tspanDy(ot,ft)}),St.attr("d","M"+-i.outerTickSize+","+i.range[0]+"H0V"+i.range[1]+"H"+-i.outerTickSize);break}case"right":{j=i.axisY,dt.attr("x2",i.innerTickSize).attr("y1",K).attr("y2",K),pt.attr("x",i.tickLength).attr("y",i.tickOffset).style("text-anchor","start"),wt.attr("x",i.tickLength).attr("dy",function(ot,ft){return i.tspanDy(ot,ft)}),St.attr("d","M"+i.outerTickSize+","+i.range[0]+"H0V"+i.range[1]+"H"+i.outerTickSize);break}}if(L.rangeBand){var mt=L,yt=mt.rangeBand()/2;R=L=function(ot){return mt(ot)+yt}}else R.rangeBand?R=L:D.call(j,L,i.tickOffset);X.call(j,R,i.tickOffset),b=(v?q.transition(v):q).style("opacity",1).call(j,L,i.tickOffset)}),b}return c.scale=function(d){return arguments.length?(i.scale=d,c):i.scale},c.orient=function(d){return arguments.length?(i.orient=d in{top:1,right:1,bottom:1,left:1}?d+"":"bottom",c):i.orient},c.tickFormat=function(d){return arguments.length?(i.tickFormat=d,c):i.tickFormat},c.tickCentered=function(d){return arguments.length?(i.tickCentered=d,c):i.tickCentered},c.tickOffset=function(){return i.tickOffset},c.tickInterval=function(){var d,v;return s.isCategory?d=i.tickOffset*2:(v=c.g.select("path.domain").node().getTotalLength()-i.outerTickSize*2,d=v/c.g.selectAll("line").size()),d===1/0?0:d},c.ticks=function(){return arguments.length?(i.tickArguments=arguments,c):i.tickArguments},c.tickCulling=function(d){return arguments.length?(i.tickCulling=d,c):i.tickCulling},c.tickValues=function(d){if(typeof d=="function")i.tickValues=function(){return d(i.scale.domain())};else{if(!arguments.length)return i.tickValues;i.tickValues=d}return c},c};var T={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},W=function(){function i(a){this.owner=a,this.d3=a.d3,this.internal=Y}return i}(),O=W;O.prototype.init=function(){var a=this.owner,s=a.config,c=a.main;a.axes.x=c.append("g").attr("class",T.axis+" "+T.axisX).attr("clip-path",s.axis_x_inner?"":a.clipPathForXAxis).attr("transform",a.getTranslate("x")).style("visibility",s.axis_x_show?"visible":"hidden"),a.axes.x.append("text").attr("class",T.axisXLabel).attr("transform",s.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),a.axes.y=c.append("g").attr("class",T.axis+" "+T.axisY).attr("clip-path",s.axis_y_inner?"":a.clipPathForYAxis).attr("transform",a.getTranslate("y")).style("visibility",s.axis_y_show?"visible":"hidden"),a.axes.y.append("text").attr("class",T.axisYLabel).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),a.axes.y2=c.append("g").attr("class",T.axis+" "+T.axisY2).attr("transform",a.getTranslate("y2")).style("visibility",s.axis_y2_show?"visible":"hidden"),a.axes.y2.append("text").attr("class",T.axisY2Label).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},O.prototype.getXAxis=function(a,s,c,d,v,b,P){var R=this.owner,L=R.config,N={isCategory:R.isCategorized(),withOuterTick:v,tickMultiline:L.axis_x_tick_multiline,tickMultilineMax:L.axis_x_tick_multiline?Number(L.axis_x_tick_multilineMax):0,tickWidth:L.axis_x_tick_width,tickTextRotate:P?0:L.axis_x_tick_rotate,withoutTransition:b},V=new this.internal(this,N).axis.scale(a).orient(s);return R.isTimeSeries()&&d&&typeof d!="function"&&(d=d.map(function(X){return R.parseDate(X)})),V.tickFormat(c).tickValues(d),R.isCategorized()&&(V.tickCentered(L.axis_x_tick_centered),x(L.axis_x_tick_culling)&&(L.axis_x_tick_culling=!1)),V},O.prototype.updateXAxisTickValues=function(a,s){var c=this.owner,d=c.config,v;return(d.axis_x_tick_fit||d.axis_x_tick_count)&&(v=this.generateTickValues(c.mapTargetsToUniqueXs(a),d.axis_x_tick_count,c.isTimeSeries())),s?s.tickValues(v):(c.xAxis.tickValues(v),c.subXAxis.tickValues(v)),v},O.prototype.getYAxis=function(a,s,c,d,v,b,P){var R=this.owner,L=R.config,N=L["axis_"+a+"_tick_format"];!N&&R.isAxisNormalized(a)&&(N=function(X){return X+"%"});var V=new this.internal(this,{withOuterTick:v,withoutTransition:b,tickTextRotate:P?0:L.axis_y_tick_rotate}).axis.scale(s).orient(c);return N&&V.tickFormat(N),R.isTimeSeriesY()?V.ticks(L.axis_y_tick_time_type,L.axis_y_tick_time_interval):V.tickValues(d),V},O.prototype.getId=function(a){var s=this.owner.config;return a in s.data_axes?s.data_axes[a]:"y"},O.prototype.getXAxisTickFormat=function(){var a=this.owner,s=a.config,c=a.isTimeSeries()?a.defaultAxisTimeFormat:a.isCategorized()?a.categoryName:function(d){return d};return s.axis_x_tick_format&&(S(s.axis_x_tick_format)?c=s.axis_x_tick_format:a.isTimeSeries()&&(c=function(d){return d?a.axisTimeFormat(s.axis_x_tick_format)(d):""})),S(c)?function(d){return c.call(a,d)}:c},O.prototype.getTickValues=function(a,s){return a||(s?s.tickValues():void 0)},O.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},O.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},O.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},O.prototype.getLabelOptionByAxisId=function(a){var s=this.owner,c=s.config,d;return a==="y"?d=c.axis_y_label:a==="y2"?d=c.axis_y2_label:a==="x"&&(d=c.axis_x_label),d},O.prototype.getLabelText=function(a){var s=this.getLabelOptionByAxisId(a);return A(s)?s:s?s.text:null},O.prototype.setLabelText=function(a,s){var c=this.owner,d=c.config,v=this.getLabelOptionByAxisId(a);A(v)?a==="y"?d.axis_y_label=s:a==="y2"?d.axis_y2_label=s:a==="x"&&(d.axis_x_label=s):v&&(v.text=s)},O.prototype.getLabelPosition=function(a,s){var c=this.getLabelOptionByAxisId(a),d=c&&typeof c=="object"&&c.position?c.position:s;return{isInner:d.indexOf("inner")>=0,isOuter:d.indexOf("outer")>=0,isLeft:d.indexOf("left")>=0,isCenter:d.indexOf("center")>=0,isRight:d.indexOf("right")>=0,isTop:d.indexOf("top")>=0,isMiddle:d.indexOf("middle")>=0,isBottom:d.indexOf("bottom")>=0}},O.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},O.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},O.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},O.prototype.getLabelPositionById=function(a){return a==="y2"?this.getY2AxisLabelPosition():a==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},O.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},O.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},O.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},O.prototype.xForAxisLabel=function(a,s){var c=this.owner;return a?s.isLeft?0:s.isCenter?c.width/2:c.width:s.isBottom?-c.height:s.isMiddle?-c.height/2:0},O.prototype.dxForAxisLabel=function(a,s){return a?s.isLeft?"0.5em":s.isRight?"-0.5em":"0":s.isTop?"-0.5em":s.isBottom?"0.5em":"0"},O.prototype.textAnchorForAxisLabel=function(a,s){return a?s.isLeft?"start":s.isCenter?"middle":"end":s.isBottom?"start":s.isMiddle?"middle":"end"},O.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},O.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},O.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},O.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},O.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},O.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},O.prototype.dyForXAxisLabel=function(){var a=this.owner,s=a.config,c=this.getXAxisLabelPosition();return s.axis_rotated?c.isInner?"1.2em":-25-(a.config.axis_x_inner?0:this.getMaxTickWidth("x")):c.isInner?"-0.5em":a.getHorizontalAxisHeight("x")-10},O.prototype.dyForYAxisLabel=function(){var a=this.owner,s=this.getYAxisLabelPosition();return a.config.axis_rotated?s.isInner?"-0.5em":"3em":s.isInner?"1.2em":-10-(a.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},O.prototype.dyForY2AxisLabel=function(){var a=this.owner,s=this.getY2AxisLabelPosition();return a.config.axis_rotated?s.isInner?"1.2em":"-2.2em":s.isInner?"-0.5em":15+(a.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},O.prototype.textAnchorForXAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(!a.config.axis_rotated,this.getXAxisLabelPosition())},O.prototype.textAnchorForYAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getYAxisLabelPosition())},O.prototype.textAnchorForY2AxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getY2AxisLabelPosition())},O.prototype.getMaxTickWidth=function(a,s){var c=this.owner,d=0,v,b,P,R,L;return s&&c.currentMaxTickWidths[a]||(c.svg&&(v=c.filterTargetsToShow(c.data.targets),a==="y"?(b=c.y.copy().domain(c.getYDomain(v,"y")),P=this.getYAxis(a,b,c.yOrient,c.yAxisTickValues,!1,!0,!0)):a==="y2"?(b=c.y2.copy().domain(c.getYDomain(v,"y2")),P=this.getYAxis(a,b,c.y2Orient,c.y2AxisTickValues,!1,!0,!0)):(b=c.x.copy().domain(c.getXDomain(v)),P=this.getXAxis(b,c.xOrient,c.xAxisTickFormat,c.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(v,P)),R=c.d3.select("body").append("div").classed("c3",!0),L=R.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),L.append("g").call(P).each(function(){c.d3.select(this).selectAll("text").each(function(){var N=p(this);d<N.width&&(d=N.width)}),R.remove()})),c.currentMaxTickWidths[a]=d<=0?c.currentMaxTickWidths[a]:d),c.currentMaxTickWidths[a]},O.prototype.updateLabels=function(a){var s=this.owner,c=s.main.select("."+T.axisX+" ."+T.axisXLabel),d=s.main.select("."+T.axisY+" ."+T.axisYLabel),v=s.main.select("."+T.axisY2+" ."+T.axisY2Label);(a?c.transition():c).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(a?d.transition():d).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(a?v.transition():v).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},O.prototype.getPadding=function(a,s,c,d){var v=typeof a=="number"?a:a[s];return k(v)?a.unit==="ratio"?a[s]*d:this.convertPixelsToAxisPadding(v,d):c},O.prototype.convertPixelsToAxisPadding=function(a,s){var c=this.owner,d=c.config.axis_rotated?c.width:c.height;return s*(a/d)},O.prototype.generateTickValues=function(a,s,c){var d=a,v,b,P,R,L,N,V;if(s){if(v=S(s)?s():s,v===1)d=[a[0]];else if(v===2)d=[a[0],a[a.length-1]];else if(v>2){for(R=v-2,b=a[0],P=a[a.length-1],L=(P-b)/(R+1),d=[b],N=0;N<R;N++)V=+b+L*(N+1),d.push(c?new Date(V):V);d.push(P)}}return c||(d=d.sort(function(X,D){return X-D})),d},O.prototype.generateTransitions=function(a){var s=this.owner,c=s.axes;return{axisX:a?c.x.transition().duration(a):c.x,axisY:a?c.y.transition().duration(a):c.y,axisY2:a?c.y2.transition().duration(a):c.y2,axisSubX:a?c.subx.transition().duration(a):c.subx}},O.prototype.redraw=function(a,s){var c=this.owner,d=a?c.d3.transition().duration(a):null;c.axes.x.style("opacity",s?0:1).call(c.xAxis,d),c.axes.y.style("opacity",s?0:1).call(c.yAxis,d),c.axes.y2.style("opacity",s?0:1).call(c.y2Axis,d),c.axes.subx.style("opacity",s?0:1).call(c.subXAxis,d)};var H={version:"0.7.20",chart:{fn:r.prototype,internal:{fn:n.prototype,axis:{fn:W.prototype,internal:{fn:Y.prototype}}}},generate:function(i){return new r(i)}};n.prototype.beforeInit=function(){},n.prototype.afterInit=function(){},n.prototype.init=function(){var i=this,a=i.config;if(i.initParams(),a.data_url)i.convertUrlToData(a.data_url,a.data_mimeType,a.data_headers,a.data_keys,i.initWithData);else if(a.data_json)i.initWithData(i.convertJsonToData(a.data_json,a.data_keys));else if(a.data_rows)i.initWithData(i.convertRowsToData(a.data_rows));else if(a.data_columns)i.initWithData(i.convertColumnsToData(a.data_columns));else throw Error("url or json or rows or columns is required.")},n.prototype.initParams=function(){var i=this,a=i.d3,s=i.config;i.clipId="c3-"+new Date().valueOf()+"-clip",i.clipIdForXAxis=i.clipId+"-xaxis",i.clipIdForYAxis=i.clipId+"-yaxis",i.clipIdForGrid=i.clipId+"-grid",i.clipIdForSubchart=i.clipId+"-subchart",i.clipPath=i.getClipPath(i.clipId),i.clipPathForXAxis=i.getClipPath(i.clipIdForXAxis),i.clipPathForYAxis=i.getClipPath(i.clipIdForYAxis),i.clipPathForGrid=i.getClipPath(i.clipIdForGrid),i.clipPathForSubchart=i.getClipPath(i.clipIdForSubchart),i.dragStart=null,i.dragging=!1,i.flowing=!1,i.cancelClick=!1,i.mouseover=void 0,i.transiting=!1,i.color=i.generateColor(),i.levelColor=i.generateLevelColor(),i.dataTimeParse=(s.data_xLocaltime?a.timeParse:a.utcParse)(i.config.data_xFormat),i.axisTimeFormat=s.axis_x_localtime?a.timeFormat:a.utcFormat,i.defaultAxisTimeFormat=function(c){return c.getMilliseconds()?a.timeFormat(".%L")(c):c.getSeconds()?a.timeFormat(":%S")(c):c.getMinutes()?a.timeFormat("%I:%M")(c):c.getHours()?a.timeFormat("%I %p")(c):c.getDay()&&c.getDate()!==1||c.getDate()!==1||c.getMonth()?a.timeFormat("%-m/%-d")(c):a.timeFormat("%Y/%-m/%-d")(c)},i.hiddenTargetIds=[],i.hiddenLegendIds=[],i.focusedTargetIds=[],i.defocusedTargetIds=[],i.xOrient=s.axis_rotated?s.axis_x_inner?"right":"left":s.axis_x_inner?"top":"bottom",i.yOrient=s.axis_rotated?s.axis_y_inner?"top":"bottom":s.axis_y_inner?"right":"left",i.y2Orient=s.axis_rotated?s.axis_y2_inner?"bottom":"top":s.axis_y2_inner?"left":"right",i.subXOrient=s.axis_rotated?"left":"bottom",i.isLegendRight=s.legend_position==="right",i.isLegendInset=s.legend_position==="inset",i.isLegendTop=s.legend_inset_anchor==="top-left"||s.legend_inset_anchor==="top-right",i.isLegendLeft=s.legend_inset_anchor==="top-left"||s.legend_inset_anchor==="bottom-left",i.legendStep=0,i.legendItemWidth=0,i.legendItemHeight=0,i.currentMaxTickWidths={x:0,y:0,y2:0},i.rotated_padding_left=30,i.rotated_padding_right=s.axis_rotated&&!s.axis_x_show?0:30,i.rotated_padding_top=5,i.withoutFadeIn={},i.intervalForObserveInserted=void 0,i.axes.subx=a.selectAll([])},n.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},n.prototype.initWithData=function(i){var a=this,s=a.d3,c=a.config,d,v,b=!0;a.axis=new W(a),c.bindto?typeof c.bindto.node=="function"?a.selectChart=c.bindto:a.selectChart=s.select(c.bindto):a.selectChart=s.selectAll([]),a.selectChart.empty()&&(a.selectChart=s.select(document.createElement("div")).style("opacity",0),a.observeInserted(a.selectChart),b=!1),a.selectChart.html("").classed("c3",!0),a.data.xs={},a.data.targets=a.convertDataToTargets(i),c.data_filter&&(a.data.targets=a.data.targets.filter(c.data_filter)),c.data_hide&&a.addHiddenTargetIds(c.data_hide===!0?a.mapToIds(a.data.targets):c.data_hide),c.legend_hide&&a.addHiddenLegendIds(c.legend_hide===!0?a.mapToIds(a.data.targets):c.legend_hide),a.isStanfordGraphType()&&a.initStanfordData(),a.updateSizes(),a.updateScales(),a.x.domain(s.extent(a.getXDomain(a.data.targets))),a.y.domain(a.getYDomain(a.data.targets,"y")),a.y2.domain(a.getYDomain(a.data.targets,"y2")),a.subX.domain(a.x.domain()),a.subY.domain(a.y.domain()),a.subY2.domain(a.y2.domain()),a.orgXDomain=a.x.domain(),a.svg=a.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return c.onmouseover.call(a)}).on("mouseleave",function(){return c.onmouseout.call(a)}),a.config.svg_classname&&a.svg.attr("class",a.config.svg_classname),d=a.svg.append("defs"),a.clipChart=a.appendClip(d,a.clipId),a.clipXAxis=a.appendClip(d,a.clipIdForXAxis),a.clipYAxis=a.appendClip(d,a.clipIdForYAxis),a.clipGrid=a.appendClip(d,a.clipIdForGrid),a.clipSubchart=a.appendClip(d,a.clipIdForSubchart),a.updateSvgSize(),v=a.main=a.svg.append("g").attr("transform",a.getTranslate("main")),a.initPie&&a.initPie(),a.initDragZoom&&a.initDragZoom(),c.subchart_show&&a.initSubchart&&a.initSubchart(),a.initTooltip&&a.initTooltip(),a.initLegend&&a.initLegend(),a.initTitle&&a.initTitle(),a.initZoom&&a.initZoom(),a.isStanfordGraphType()&&a.drawColorScale(),c.subchart_show&&a.initSubchartBrush&&a.initSubchartBrush(),v.append("text").attr("class",T.text+" "+T.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),a.initRegion(),a.initGrid(),v.append("g").attr("clip-path",a.clipPath).attr("class",T.chart),c.grid_lines_front&&a.initGridLines(),a.initStanfordElements(),a.initEventRect(),a.initChartElements(),a.axis.init(),a.updateTargets(a.data.targets),c.axis_x_selection&&a.brush.selectionAsValue(a.getDefaultSelection()),b&&(a.updateDimension(),a.config.oninit.call(a),a.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),a.bindResize(),a.bindWindowFocus(),a.api.element=a.selectChart.node()},n.prototype.smoothLines=function(i,a){var s=this;a==="grid"&&i.each(function(){var c=s.d3.select(this),d=c.attr("x1"),v=c.attr("x2"),b=c.attr("y1"),P=c.attr("y2");c.attr({x1:Math.ceil(d),x2:Math.ceil(v),y1:Math.ceil(b),y2:Math.ceil(P)})})},n.prototype.updateSizes=function(){var i=this,a=i.config,s=i.legend?i.getLegendHeight():0,c=i.legend?i.getLegendWidth():0,d=i.isLegendRight||i.isLegendInset?0:s,v=i.hasArcType(),b=a.axis_rotated||v?0:i.getHorizontalAxisHeight("x"),P=a.axis_rotated||v?0:i.getHorizontalAxisHeight("x",!0),R=a.subchart_show&&!v?a.subchart_size_height+P:0;i.currentWidth=i.getCurrentWidth(),i.currentHeight=i.getCurrentHeight(),i.margin=a.axis_rotated?{top:i.getHorizontalAxisHeight("y2")+i.getCurrentPaddingTop(),right:v?0:i.getCurrentPaddingRight(),bottom:i.getHorizontalAxisHeight("y")+d+i.getCurrentPaddingBottom(),left:R+(v?0:i.getCurrentPaddingLeft())}:{top:4+i.getCurrentPaddingTop(),right:v?0:i.getCurrentPaddingRight(),bottom:b+R+d+i.getCurrentPaddingBottom(),left:v?0:i.getCurrentPaddingLeft()},i.margin2=a.axis_rotated?{top:i.margin.top,right:NaN,bottom:20+d,left:i.rotated_padding_left}:{top:i.currentHeight-R-d,right:NaN,bottom:P+d,left:i.margin.left},i.margin3={top:0,right:NaN,bottom:0,left:0},i.updateSizeForLegend&&i.updateSizeForLegend(s,c),i.width=i.currentWidth-i.margin.left-i.margin.right,i.height=i.currentHeight-i.margin.top-i.margin.bottom,i.width<0&&(i.width=0),i.height<0&&(i.height=0),i.width2=a.axis_rotated?i.margin.left-i.rotated_padding_left-i.rotated_padding_right:i.width,i.height2=a.axis_rotated?i.height:i.currentHeight-i.margin2.top-i.margin2.bottom,i.width2<0&&(i.width2=0),i.height2<0&&(i.height2=0),i.arcWidth=i.width-(i.isLegendRight?c+10:0),i.arcHeight=i.height-(i.isLegendRight?0:10),i.hasType("gauge")&&!a.gauge_fullCircle&&(i.arcHeight+=i.height-i.getGaugeLabelHeight()),i.updateRadius&&i.updateRadius(),i.isLegendRight&&v&&(i.margin3.left=i.arcWidth/2+i.radiusExpanded*1.1)},n.prototype.updateTargets=function(i){var a=this,s=a.config;a.updateTargetsForText(i),a.updateTargetsForBar(i),a.updateTargetsForLine(i),a.hasArcType()&&a.updateTargetsForArc&&a.updateTargetsForArc(i),s.subchart_show&&a.updateTargetsForSubchart&&a.updateTargetsForSubchart(i),a.showTargets()},n.prototype.showTargets=function(){var i=this;i.svg.selectAll("."+T.target).filter(function(a){return i.isTargetToShow(a.id)}).transition().duration(i.config.transition_duration).style("opacity",1)},n.prototype.redraw=function(i,a){var s=this,c=s.main,d=s.d3,v=s.config,b=s.getShapeIndices(s.isAreaType),P=s.getShapeIndices(s.isBarType),R=s.getShapeIndices(s.isLineType),L,N,V,X,D,q,j,tt,K,dt,pt,bt,xt,wt=s.hasArcType(),lt,St,mt,yt,ot,ft,Nt,Zt,It,ee,zt,Xt,Mt=s.filterTargetsToShow(s.data.targets),nt,vt,qt,mn,nr=s.xv.bind(s),Ne,ve;if(i=i||{},L=f(i,"withY",!0),N=f(i,"withSubchart",!0),V=f(i,"withTransition",!0),q=f(i,"withTransform",!1),j=f(i,"withUpdateXDomain",!1),tt=f(i,"withUpdateOrgXDomain",!1),K=f(i,"withTrimXDomain",!0),xt=f(i,"withUpdateXAxis",j),dt=f(i,"withLegend",!1),pt=f(i,"withEventRect",!0),bt=f(i,"withDimension",!0),X=f(i,"withTransitionForExit",V),D=f(i,"withTransitionForAxis",V),ft=V?v.transition_duration:0,Nt=X?ft:0,Zt=D?ft:0,a=a||s.axis.generateTransitions(Zt),dt&&v.legend_show?s.updateLegend(s.mapToIds(s.data.targets),i,a):bt&&s.updateDimension(!0),s.isCategorized()&&Mt.length===0&&s.x.domain([0,s.axes.x.selectAll(".tick").size()]),Mt.length?(s.updateXDomain(Mt,j,tt,K),v.axis_x_tick_values||(nt=s.axis.updateXAxisTickValues(Mt))):(s.xAxis.tickValues([]),s.subXAxis.tickValues([])),v.zoom_rescale&&!i.flow&&(mn=s.x.orgDomain()),s.y.domain(s.getYDomain(Mt,"y",mn)),s.y2.domain(s.getYDomain(Mt,"y2",mn)),!v.axis_y_tick_values&&v.axis_y_tick_count&&s.yAxis.tickValues(s.axis.generateTickValues(s.y.domain(),v.axis_y_tick_count)),!v.axis_y2_tick_values&&v.axis_y2_tick_count&&s.y2Axis.tickValues(s.axis.generateTickValues(s.y2.domain(),v.axis_y2_tick_count)),s.axis.redraw(Zt,wt),s.axis.updateLabels(V),(j||xt)&&Mt.length)if(v.axis_x_tick_culling&&nt){for(vt=1;vt<nt.length;vt++)if(nt.length/vt<v.axis_x_tick_culling_max){qt=vt;break}s.svg.selectAll("."+T.axisX+" .tick text").each(function(ne){var ge=nt.indexOf(ne);ge>=0&&d.select(this).style("display",ge%qt?"none":"block")})}else s.svg.selectAll("."+T.axisX+" .tick text").style("display","block");lt=s.generateDrawArea?s.generateDrawArea(b,!1):void 0,St=s.generateDrawBar?s.generateDrawBar(P):void 0,mt=s.generateDrawLine?s.generateDrawLine(R,!1):void 0,yt=s.generateXYForText(b,P,R,!0),ot=s.generateXYForText(b,P,R,!1),s.updateCircleY(),Ne=(s.config.axis_rotated?s.circleY:s.circleX).bind(s),ve=(s.config.axis_rotated?s.circleX:s.circleY).bind(s),L&&(s.subY.domain(s.getYDomain(Mt,"y")),s.subY2.domain(s.getYDomain(Mt,"y2"))),s.updateXgridFocus(),c.select("text."+T.text+"."+T.empty).attr("x",s.width/2).attr("y",s.height/2).text(v.data_empty_label_text).transition().style("opacity",Mt.length?0:1),pt&&s.redrawEventRect(),s.updateGrid(ft),s.updateStanfordElements(ft),s.updateRegion(ft),s.updateBar(Nt),s.updateLine(Nt),s.updateArea(Nt),s.updateCircle(Ne,ve),s.hasDataLabel()&&s.updateText(yt,ot,Nt),s.redrawTitle&&s.redrawTitle(),s.redrawArc&&s.redrawArc(ft,Nt,q),v.subchart_show&&s.redrawSubchart&&s.redrawSubchart(N,a,ft,Nt,b,P,R),s.isStanfordGraphType()&&s.drawColorScale(),c.selectAll("."+T.selectedCircles).filter(s.isBarType.bind(s)).selectAll("circle").remove(),i.flow&&(zt=s.generateFlow({targets:Mt,flow:i.flow,duration:i.flow.duration,drawBar:St,drawLine:mt,drawArea:lt,cx:Ne,cy:ve,xv:nr,xForText:yt,yForText:ot})),ft&&s.isTabVisible()?(Xt=d.transition().duration(ft),It=[],[s.redrawBar(St,!0,Xt),s.redrawLine(mt,!0,Xt),s.redrawArea(lt,!0,Xt),s.redrawCircle(Ne,ve,!0,Xt),s.redrawText(yt,ot,i.flow,!0,Xt),s.redrawRegion(!0,Xt),s.redrawGrid(!0,Xt)].forEach(function(ne){ne.forEach(function(ge){It.push(ge)})}),ee=s.generateWait(),It.forEach(function(ne){ee.add(ne)}),ee(function(){zt&&zt(),v.onrendered&&v.onrendered.call(s)})):(s.redrawBar(St),s.redrawLine(mt),s.redrawArea(lt),s.redrawCircle(Ne,ve),s.redrawText(yt,ot,i.flow),s.redrawRegion(),s.redrawGrid(),zt&&zt(),v.onrendered&&v.onrendered.call(s)),s.mapToIds(s.data.targets).forEach(function(ne){s.withoutFadeIn[ne]=!0})},n.prototype.updateAndRedraw=function(i){var a=this,s=a.config,c;i=i||{},i.withTransition=f(i,"withTransition",!0),i.withTransform=f(i,"withTransform",!1),i.withLegend=f(i,"withLegend",!1),i.withUpdateXDomain=f(i,"withUpdateXDomain",!0),i.withUpdateOrgXDomain=f(i,"withUpdateOrgXDomain",!0),i.withTransitionForExit=!1,i.withTransitionForTransform=f(i,"withTransitionForTransform",i.withTransition),a.updateSizes(),i.withLegend&&s.legend_show||(c=a.axis.generateTransitions(i.withTransitionForAxis?s.transition_duration:0),a.updateScales(),a.updateSvgSize(),a.transformAll(i.withTransitionForTransform,c)),a.redraw(i,c)},n.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},n.prototype.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"},n.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},n.prototype.isCustomX=function(){var i=this,a=i.config;return!i.isTimeSeries()&&(a.data_x||M(a.data_xs))},n.prototype.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"},n.prototype.getTranslate=function(i){var a=this,s=a.config,c,d;return i==="main"?(c=o(a.margin.left),d=o(a.margin.top)):i==="context"?(c=o(a.margin2.left),d=o(a.margin2.top)):i==="legend"?(c=a.margin3.left,d=a.margin3.top):i==="x"?(c=0,d=s.axis_rotated?0:a.height):i==="y"?(c=0,d=s.axis_rotated?a.height:0):i==="y2"?(c=s.axis_rotated?0:a.width,d=s.axis_rotated?1:0):i==="subx"?(c=0,d=s.axis_rotated?0:a.height2):i==="arc"&&(c=a.arcWidth/2,d=a.arcHeight/2-(a.hasType("gauge")?6:0)),"translate("+c+","+d+")"},n.prototype.initialOpacity=function(i){return i.value!==null&&this.withoutFadeIn[i.id]?1:0},n.prototype.initialOpacityForCircle=function(i){return i.value!==null&&this.withoutFadeIn[i.id]?this.opacityForCircle(i):0},n.prototype.opacityForCircle=function(i){var a=S(this.config.point_show)?this.config.point_show(i):this.config.point_show,s=a||this.isStanfordType(i)?1:0;return k(i.value)?this.isScatterType(i)?.5:s:0},n.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},n.prototype.xx=function(i){return i?this.x(i.x):null},n.prototype.xvCustom=function(i,a){var s=this,c=a?i[a]:i.value;return s.isTimeSeries()?c=s.parseDate(i.value):s.isCategorized()&&typeof i.value=="string"&&(c=s.config.axis_x_categories.indexOf(i.value)),Math.ceil(s.x(c))},n.prototype.yvCustom=function(i,a){var s=this,c=i.axis&&i.axis==="y2"?s.y2:s.y,d=a?i[a]:i.value;return Math.ceil(c(d))},n.prototype.xv=function(i){var a=this,s=i.value;return a.isTimeSeries()?s=a.parseDate(i.value):a.isCategorized()&&typeof i.value=="string"&&(s=a.config.axis_x_categories.indexOf(i.value)),Math.ceil(a.x(s))},n.prototype.yv=function(i){var a=this,s=i.axis&&i.axis==="y2"?a.y2:a.y;return Math.ceil(s(i.value))},n.prototype.subxx=function(i){return i?this.subX(i.x):null},n.prototype.transformMain=function(i,a){var s=this,c,d,v;a&&a.axisX?c=a.axisX:(c=s.main.select("."+T.axisX),i&&(c=c.transition())),a&&a.axisY?d=a.axisY:(d=s.main.select("."+T.axisY),i&&(d=d.transition())),a&&a.axisY2?v=a.axisY2:(v=s.main.select("."+T.axisY2),i&&(v=v.transition())),(i?s.main.transition():s.main).attr("transform",s.getTranslate("main")),c.attr("transform",s.getTranslate("x")),d.attr("transform",s.getTranslate("y")),v.attr("transform",s.getTranslate("y2")),s.main.select("."+T.chartArcs).attr("transform",s.getTranslate("arc"))},n.prototype.transformAll=function(i,a){var s=this;s.transformMain(i,a),s.config.subchart_show&&s.transformContext(i,a),s.legend&&s.transformLegend(i)},n.prototype.updateSvgSize=function(){var i=this,a=i.svg.select("."+T.brush+" .overlay");i.svg.attr("width",i.currentWidth).attr("height",i.currentHeight),i.svg.selectAll(["#"+i.clipId,"#"+i.clipIdForGrid]).select("rect").attr("width",i.width).attr("height",i.height),i.svg.select("#"+i.clipIdForXAxis).select("rect").attr("x",i.getXAxisClipX.bind(i)).attr("y",i.getXAxisClipY.bind(i)).attr("width",i.getXAxisClipWidth.bind(i)).attr("height",i.getXAxisClipHeight.bind(i)),i.svg.select("#"+i.clipIdForYAxis).select("rect").attr("x",i.getYAxisClipX.bind(i)).attr("y",i.getYAxisClipY.bind(i)).attr("width",i.getYAxisClipWidth.bind(i)).attr("height",i.getYAxisClipHeight.bind(i)),i.svg.select("#"+i.clipIdForSubchart).select("rect").attr("width",i.width).attr("height",a.size()&&a.attr("height")||0),i.selectChart.style("max-height",i.currentHeight+"px")},n.prototype.updateDimension=function(i){var a=this;i||(a.config.axis_rotated?(a.axes.x.call(a.xAxis),a.axes.subx.call(a.subXAxis)):(a.axes.y.call(a.yAxis),a.axes.y2.call(a.y2Axis))),a.updateSizes(),a.updateScales(),a.updateSvgSize(),a.transformAll(!1)},n.prototype.observeInserted=function(i){var a=this,s;if(typeof MutationObserver>"u"){window.console.error("MutationObserver not defined.");return}s=new MutationObserver(function(c){c.forEach(function(d){d.type==="childList"&&d.previousSibling&&(s.disconnect(),a.intervalForObserveInserted=window.setInterval(function(){i.node().parentNode&&(window.clearInterval(a.intervalForObserveInserted),a.updateDimension(),a.brush&&a.brush.update(),a.config.oninit.call(a),a.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),i.transition().style("opacity",1))},10))})}),s.observe(i.node(),{attributes:!0,childList:!0,characterData:!0})},n.prototype.bindResize=function(){var i=this,a=i.config;i.resizeFunction=i.generateResize(),i.resizeFunction.add(function(){a.onresize.call(i)}),a.resize_auto&&i.resizeFunction.add(function(){i.resizeTimeout!==void 0&&window.clearTimeout(i.resizeTimeout),i.resizeTimeout=window.setTimeout(function(){delete i.resizeTimeout,i.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),i.brush&&i.brush.update()},100)}),i.resizeFunction.add(function(){a.onresized.call(i)}),i.resizeIfElementDisplayed=function(){i.api==null||!i.api.element.offsetParent||i.resizeFunction()},window.addEventListener("resize",i.resizeIfElementDisplayed,!1)},n.prototype.bindWindowFocus=function(){var i=this;this.windowFocusHandler||(this.windowFocusHandler=function(){i.redraw()},window.addEventListener("focus",this.windowFocusHandler))},n.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},n.prototype.generateResize=function(){var i=[];function a(){i.forEach(function(s){s()})}return a.add=function(s){i.push(s)},a.remove=function(s){for(var c=0;c<i.length;c++)if(i[c]===s){i.splice(c,1);break}},a},n.prototype.endall=function(i,a){var s=0;i.each(function(){++s}).on("end",function(){--s||a.apply(this,arguments)})},n.prototype.generateWait=function(){var i=this,a=[],s=function(c){var d=setInterval(function(){if(i.isTabVisible()){var v=0;a.forEach(function(b){if(b.empty()){v+=1;return}try{b.transition()}catch{v+=1}}),v===a.length&&(clearInterval(d),c&&c())}},50)};return s.add=function(c){a.push(c)},s},n.prototype.parseDate=function(i){var a=this,s;return i instanceof Date?s=i:typeof i=="string"?s=a.dataTimeParse(i):typeof i=="object"?s=new Date(+i):typeof i=="number"&&!isNaN(i)&&(s=new Date(+i)),(!s||isNaN(+s))&&window.console.error("Failed to parse x '"+i+"' to Date object"),s},n.prototype.isTabVisible=function(){return!document.hidden},n.prototype.getPathBox=h,n.prototype.CLASS=T,function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(i,a,s){this.pathSegType=i,this.pathSegTypeAsLetter=a,this._owningPathSegList=s},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",i)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(i,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",i),this._x=a,this._y=s},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(i,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",i),this._x=a,this._y=s},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(i,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",i),this._x=a,this._y=s},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(i,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",i),this._x=a,this._y=s},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(i,a,s,c,d,v,b){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",i),this._x=a,this._y=s,this._x1=c,this._y1=d,this._x2=v,this._y2=b},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(i,a,s,c,d,v,b){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",i),this._x=a,this._y=s,this._x1=c,this._y1=d,this._x2=v,this._y2=b},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(i,a,s,c,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",i),this._x=a,this._y=s,this._x1=c,this._y1=d},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(i,a,s,c,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",i),this._x=a,this._y=s,this._x1=c,this._y1=d},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(i,a,s,c,d,v,b,P){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",i),this._x=a,this._y=s,this._r1=c,this._r2=d,this._angle=v,this._largeArcFlag=b,this._sweepFlag=P},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(i){this._r1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(i){this._r2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(i){this._angle=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(i){this._largeArcFlag=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(i){this._sweepFlag=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(i,a,s,c,d,v,b,P){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",i),this._x=a,this._y=s,this._r1=c,this._r2=d,this._angle=v,this._largeArcFlag=b,this._sweepFlag=P},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(i){this._r1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(i){this._r2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(i){this._angle=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(i){this._largeArcFlag=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(i){this._sweepFlag=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",i),this._x=a},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",i),this._x=a},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",i),this._y=a},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",i),this._y=a},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(i,a,s,c,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",i),this._x=a,this._y=s,this._x2=c,this._y2=d},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(i,a,s,c,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",i),this._x=a,this._y=s,this._x2=c,this._y2=d},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(i,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",i),this._x=a,this._y=s},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(i,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",i),this._x=a,this._y=s},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(i,a){return new window.SVGPathSegMovetoAbs(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(i,a){return new window.SVGPathSegMovetoRel(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(i,a){return new window.SVGPathSegLinetoAbs(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(i,a){return new window.SVGPathSegLinetoRel(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(i,a,s,c,d,v){return new window.SVGPathSegCurvetoCubicAbs(void 0,i,a,s,c,d,v)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(i,a,s,c,d,v){return new window.SVGPathSegCurvetoCubicRel(void 0,i,a,s,c,d,v)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(i,a,s,c){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,i,a,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(i,a,s,c){return new window.SVGPathSegCurvetoQuadraticRel(void 0,i,a,s,c)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(i,a,s,c,d,v,b){return new window.SVGPathSegArcAbs(void 0,i,a,s,c,d,v,b)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(i,a,s,c,d,v,b){return new window.SVGPathSegArcRel(void 0,i,a,s,c,d,v,b)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(i){return new window.SVGPathSegLinetoHorizontalAbs(void 0,i)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(i){return new window.SVGPathSegLinetoHorizontalRel(void 0,i)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(i){return new window.SVGPathSegLinetoVerticalAbs(void 0,i)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(i){return new window.SVGPathSegLinetoVerticalRel(void 0,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(i,a,s,c){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,i,a,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(i,a,s,c){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,i,a,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(i,a){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(i,a){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,i,a)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(i){if(i===void 0||!isFinite(i))throw"Invalid arguments.";var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",this.getAttribute("d"));var s=a.pathSegList.numberOfItems-1;if(s<=0)return 0;do{if(a.pathSegList.removeItem(s),i>a.getTotalLength())break;s--}while(s>0);return s})),"SVGPathSegList"in window||(window.SVGPathSegList=function(i){this._pathElement=i,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(i){if(this._pathElement){var a=!1;i.forEach(function(s){s.attributeName=="d"&&(a=!0)}),a&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(i){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(i){i._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(i){return this._checkPathSynchronizedToList(),this._list=[i],i._owningPathSegList=this,this._writeListToPath(),i},window.SVGPathSegList.prototype._checkValidIndex=function(i){if(isNaN(i)||i<0||i>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(i){return this._checkPathSynchronizedToList(),this._checkValidIndex(i),this._list[i]},window.SVGPathSegList.prototype.insertItemBefore=function(i,a){return this._checkPathSynchronizedToList(),a>this.numberOfItems&&(a=this.numberOfItems),i._owningPathSegList&&(i=i.clone()),this._list.splice(a,0,i),i._owningPathSegList=this,this._writeListToPath(),i},window.SVGPathSegList.prototype.replaceItem=function(i,a){return this._checkPathSynchronizedToList(),i._owningPathSegList&&(i=i.clone()),this._checkValidIndex(a),this._list[a]=i,i._owningPathSegList=this,this._writeListToPath(),i},window.SVGPathSegList.prototype.removeItem=function(i){this._checkPathSynchronizedToList(),this._checkValidIndex(i);var a=this._list[i];return this._list.splice(i,1),this._writeListToPath(),a},window.SVGPathSegList.prototype.appendItem=function(i){return this._checkPathSynchronizedToList(),i._owningPathSegList&&(i=i.clone()),this._list.push(i),i._owningPathSegList=this,this._writeListToPath(),i},window.SVGPathSegList._pathSegArrayAsString=function(i){var a="",s=!0;return i.forEach(function(c){s?(s=!1,a+=c._asPathString()):a+=" "+c._asPathString()}),a},window.SVGPathSegList.prototype._parsePath=function(i){if(!i||i.length==0)return[];var a=this,s=function(){this.pathSegList=[]};s.prototype.appendSegment=function(P){this.pathSegList.push(P)};var c=function(P){this._string=P,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};c.prototype._isCurrentSpace=function(){var P=this._string[this._currentIndex];return P<=" "&&(P==" "||P==`
`||P=="	"||P=="\r"||P=="\f")},c.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},c.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},c.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},c.prototype.peekSegmentType=function(){var P=this._string[this._currentIndex];return this._pathSegTypeFromChar(P)},c.prototype._pathSegTypeFromChar=function(P){switch(P){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},c.prototype._nextCommandHelper=function(P,R){return(P=="+"||P=="-"||P=="."||P>="0"&&P<="9")&&R!=window.SVGPathSeg.PATHSEG_CLOSEPATH?R==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:R==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:R:window.SVGPathSeg.PATHSEG_UNKNOWN},c.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var P=this.peekSegmentType();return P==window.SVGPathSeg.PATHSEG_MOVETO_ABS||P==window.SVGPathSeg.PATHSEG_MOVETO_REL},c.prototype._parseNumber=function(){var P=0,R=0,L=1,N=0,V=1,X=1,D=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,V=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")){for(var q=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=q)for(var j=this._currentIndex-1,tt=1;j>=q;)R+=tt*(this._string.charAt(j--)-"0"),tt*=10;if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)L*=10,N+=(this._string.charAt(this._currentIndex)-"0")/L,this._currentIndex+=1}if(this._currentIndex!=D&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,X=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)P*=10,P+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var K=R+N;if(K*=V,P&&(K*=Math.pow(10,X*P)),D!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),K}},c.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var P=!1,R=this._string.charAt(this._currentIndex++);if(R=="0")P=!1;else if(R=="1")P=!0;else return;return this._skipOptionalSpacesOrDelimiter(),P}},c.prototype.parseSegment=function(){var P=this._string[this._currentIndex],R=this._pathSegTypeFromChar(P);if(R==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(R=this._nextCommandHelper(P,this._previousCommand),R==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;switch(this._previousCommand=R,R){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(a,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(a,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(a,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(a,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(a);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var L={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(a,L.x,L.y,L.x1,L.y1,L.x2,L.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var L={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(a,L.x,L.y,L.x1,L.y1,L.x2,L.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var L={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(a,L.x,L.y,L.x2,L.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var L={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(a,L.x,L.y,L.x2,L.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var L={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(a,L.x,L.y,L.x1,L.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var L={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(a,L.x,L.y,L.x1,L.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var L={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(a,L.x,L.y,L.x1,L.y1,L.arcAngle,L.arcLarge,L.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var L={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(a,L.x,L.y,L.x1,L.y1,L.arcAngle,L.arcLarge,L.arcSweep);default:throw"Unknown path seg type."}};var d=new s,v=new c(i);if(!v.initialCommandIsMoveTo())return[];for(;v.hasMoreData();){var b=v.parseSegment();if(!b)return[];d.appendSegment(b)}return d.pathSegList})}(),String.prototype.padEnd||(String.prototype.padEnd=function(a,s){return a=a>>0,s=String(typeof s<"u"?s:" "),this.length>a?String(this):(a=a-this.length,a>s.length&&(s+=s.repeat(a/s.length)),String(this)+s.slice(0,a))}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(a,s){if(a==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1;d<arguments.length;d++){var v=arguments[d];if(v!=null)for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(c[b]=v[b])}return c},writable:!0,configurable:!0}),r.prototype.axis=function(){},r.prototype.axis.labels=function(i){var a=this.internal;arguments.length&&(Object.keys(i).forEach(function(s){a.axis.setLabelText(s,i[s])}),a.axis.updateLabels())},r.prototype.axis.max=function(i){var a=this.internal,s=a.config;if(arguments.length)typeof i=="object"?(k(i.x)&&(s.axis_x_max=i.x),k(i.y)&&(s.axis_y_max=i.y),k(i.y2)&&(s.axis_y2_max=i.y2)):s.axis_y_max=s.axis_y2_max=i,a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:s.axis_x_max,y:s.axis_y_max,y2:s.axis_y2_max}},r.prototype.axis.min=function(i){var a=this.internal,s=a.config;if(arguments.length)typeof i=="object"?(k(i.x)&&(s.axis_x_min=i.x),k(i.y)&&(s.axis_y_min=i.y),k(i.y2)&&(s.axis_y2_min=i.y2)):s.axis_y_min=s.axis_y2_min=i,a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:s.axis_x_min,y:s.axis_y_min,y2:s.axis_y2_min}},r.prototype.axis.range=function(i){if(arguments.length)_(i.max)&&this.axis.max(i.max),_(i.min)&&this.axis.min(i.min);else return{max:this.axis.max(),min:this.axis.min()}},r.prototype.axis.types=function(i){var a=this.internal;if(i===void 0)return{y:a.config.axis_y_type,y2:a.config.axis_y2_type};_(i.y)&&(a.config.axis_y_type=i.y),_(i.y2)&&(a.config.axis_y2_type=i.y2),a.updateScales(),a.redraw()},r.prototype.category=function(i,a){var s=this.internal,c=s.config;return arguments.length>1&&(c.axis_x_categories[i]=a,s.redraw()),c.axis_x_categories[i]},r.prototype.categories=function(i){var a=this.internal,s=a.config;return arguments.length&&(s.axis_x_categories=i,a.redraw()),s.axis_x_categories},r.prototype.resize=function(i){var a=this.internal,s=a.config;s.size_width=i?i.width:null,s.size_height=i?i.height:null,this.flush()},r.prototype.flush=function(){var i=this.internal;i.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},r.prototype.destroy=function(){var i=this.internal;return window.clearInterval(i.intervalForObserveInserted),i.resizeTimeout!==void 0&&window.clearTimeout(i.resizeTimeout),window.removeEventListener("resize",i.resizeIfElementDisplayed),i.resizeFunction.remove(),i.unbindWindowFocus(),i.selectChart.classed("c3",!1).html(""),Object.keys(i).forEach(function(a){i[a]=null}),null},r.prototype.color=function(i){var a=this.internal;return a.color(i)},r.prototype.data=function(i){var a=this.internal.data.targets;return typeof i>"u"?a:a.filter(function(s){return[].concat(i).indexOf(s.id)>=0})},r.prototype.data.shown=function(i){return this.internal.filterTargetsToShow(this.data(i))},r.prototype.data.values=function(i,a){a===void 0&&(a=!0);var s=null;if(i){var c=this.data(i);c&&y(c)&&(s=c.reduce(function(d,v){var b=v.values.map(function(P){return P.value});return a?d=d.concat(b):d.push(b),d},[]))}return s},r.prototype.data.names=function(i){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",i)},r.prototype.data.colors=function(i){return this.internal.updateDataAttributes("colors",i)},r.prototype.data.axes=function(i){return this.internal.updateDataAttributes("axes",i)},r.prototype.data.stackNormalized=function(i){if(i===void 0)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!i,this.internal.redraw()},r.prototype.donut=function(){},r.prototype.donut.padAngle=function(i){if(i===void 0)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=i,this.flush()},r.prototype.flow=function(i){var a=this.internal,s,c,d=[],v=a.getMaxDataCount(),b,P,R,L=0,N=0,V,X;if(i.json)c=a.convertJsonToData(i.json,i.keys);else if(i.rows)c=a.convertRowsToData(i.rows);else if(i.columns)c=a.convertColumnsToData(i.columns);else return;s=a.convertDataToTargets(c,!0),a.data.targets.forEach(function(D){var q=!1,j,tt;for(j=0;j<s.length;j++)if(D.id===s[j].id){for(q=!0,D.values[D.values.length-1]&&(N=D.values[D.values.length-1].index+1),L=s[j].values.length,tt=0;tt<L;tt++)s[j].values[tt].index=N+tt,a.isTimeSeries()||(s[j].values[tt].x=N+tt);D.values=D.values.concat(s[j].values),s.splice(j,1);break}q||d.push(D.id)}),a.data.targets.forEach(function(D){var q,j;for(q=0;q<d.length;q++)if(D.id===d[q])for(N=D.values[D.values.length-1].index+1,j=0;j<L;j++)D.values.push({id:D.id,index:N+j,x:a.isTimeSeries()?a.getOtherTargetX(N+j):N+j,value:null})}),a.data.targets.length&&s.forEach(function(D){var q,j=[];for(q=a.data.targets[0].values[0].index;q<N;q++)j.push({id:D.id,index:q,x:a.isTimeSeries()?a.getOtherTargetX(q):q,value:null});D.values.forEach(function(tt){tt.index+=N,a.isTimeSeries()||(tt.x+=N)}),D.values=j.concat(D.values)}),a.data.targets=a.data.targets.concat(s),a.getMaxDataCount(),P=a.data.targets[0],R=P.values[0],_(i.to)?(L=0,X=a.isTimeSeries()?a.parseDate(i.to):i.to,P.values.forEach(function(D){D.x<X&&L++})):_(i.length)&&(L=i.length),v?v===1&&a.isTimeSeries()&&(V=(P.values[P.values.length-1].x-R.x)/2,b=[new Date(+R.x-V),new Date(+R.x+V)],a.updateXDomain(null,!0,!0,!1,b)):(a.isTimeSeries()?P.values.length>1?V=P.values[P.values.length-1].x-R.x:V=R.x-a.getXDomain(a.data.targets)[0]:V=1,b=[R.x-V,R.x],a.updateXDomain(null,!0,!0,!1,b)),a.updateTargets(a.data.targets),a.redraw({flow:{index:R.index,length:L,duration:k(i.duration)?i.duration:a.config.transition_duration,done:i.done,orgDataCount:v},withLegend:!0,withTransition:v>1,withTrimXDomain:!1,withUpdateXAxis:!0})},n.prototype.generateFlow=function(i){var a=this,s=a.config,c=a.d3;return function(){var d=i.targets,v=i.flow,b=i.drawBar,P=i.drawLine,R=i.drawArea,L=i.cx,N=i.cy,V=i.xv,X=i.xForText,D=i.yForText,q=i.duration,j,tt=1,K,dt=v.index,pt=v.length,bt=a.getValueOnIndex(a.data.targets[0].values,dt),xt=a.getValueOnIndex(a.data.targets[0].values,dt+pt),wt=a.x.domain(),lt,St=v.duration||q,mt=v.done||function(){},yt=a.generateWait(),ot,ft,Nt,Zt,It,ee,zt,Xt;a.flowing=!0,a.data.targets.forEach(function(nt){nt.values.splice(0,pt)}),lt=a.updateXDomain(d,!0,!0),a.updateXGrid&&a.updateXGrid(!0),ot=a.xgrid||c.selectAll([]),ft=a.xgridLines||c.selectAll([]),Nt=a.mainRegion||c.selectAll([]),Zt=a.mainText||c.selectAll([]),It=a.mainBar||c.selectAll([]),ee=a.mainLine||c.selectAll([]),zt=a.mainArea||c.selectAll([]),Xt=a.mainCircle||c.selectAll([]),v.orgDataCount?v.orgDataCount===1||(bt&&bt.x)===(xt&&xt.x)||a.isTimeSeries()?j=a.x(wt[0])-a.x(lt[0]):j=a.x(bt.x)-a.x(xt.x):a.data.targets[0].values.length!==1?j=a.x(wt[0])-a.x(lt[0]):a.isTimeSeries()?(bt=a.getValueOnIndex(a.data.targets[0].values,0),xt=a.getValueOnIndex(a.data.targets[0].values,a.data.targets[0].values.length-1),j=a.x(bt.x)-a.x(xt.x)):j=l(lt)/2,tt=l(wt)/l(lt),K="translate("+j+",0) scale("+tt+",1)",a.hideXGridFocus();var Mt=c.transition().ease(c.easeLinear).duration(St);yt.add(a.xAxis(a.axes.x,Mt)),yt.add(It.transition(Mt).attr("transform",K)),yt.add(ee.transition(Mt).attr("transform",K)),yt.add(zt.transition(Mt).attr("transform",K)),yt.add(Xt.transition(Mt).attr("transform",K)),yt.add(Zt.transition(Mt).attr("transform",K)),yt.add(Nt.filter(a.isRegionOnX).transition(Mt).attr("transform",K)),yt.add(ot.transition(Mt).attr("transform",K)),yt.add(ft.transition(Mt).attr("transform",K)),yt(function(){var nt,vt=[],qt=[];if(pt){for(nt=0;nt<pt;nt++)vt.push("."+T.shape+"-"+(dt+nt)),qt.push("."+T.text+"-"+(dt+nt));a.svg.selectAll("."+T.shapes).selectAll(vt).remove(),a.svg.selectAll("."+T.texts).selectAll(qt).remove(),a.svg.select("."+T.xgrid).remove()}ot.attr("transform",null).attr("x1",a.xgridAttr.x1).attr("x2",a.xgridAttr.x2).attr("y1",a.xgridAttr.y1).attr("y2",a.xgridAttr.y2).style("opacity",a.xgridAttr.opacity),ft.attr("transform",null),ft.select("line").attr("x1",s.axis_rotated?0:V).attr("x2",s.axis_rotated?a.width:V),ft.select("text").attr("x",s.axis_rotated?a.width:0).attr("y",V),It.attr("transform",null).attr("d",b),ee.attr("transform",null).attr("d",P),zt.attr("transform",null).attr("d",R),Xt.attr("transform",null).attr("cx",L).attr("cy",N),Zt.attr("transform",null).attr("x",X).attr("y",D).style("fill-opacity",a.opacityForText.bind(a)),Nt.attr("transform",null),Nt.filter(a.isRegionOnX).attr("x",a.regionX.bind(a)).attr("width",a.regionWidth.bind(a)),mt(),a.flowing=!1})}},r.prototype.focus=function(i){var a=this.internal,s;i=a.mapToTargetIds(i),s=a.svg.selectAll(a.selectorTargets(i.filter(a.isTargetToShow,a))),this.revert(),this.defocus(),s.classed(T.focused,!0).classed(T.defocused,!1),a.hasArcType()&&a.expandArc(i),a.toggleFocusLegend(i,!0),a.focusedTargetIds=i,a.defocusedTargetIds=a.defocusedTargetIds.filter(function(c){return i.indexOf(c)<0})},r.prototype.defocus=function(i){var a=this.internal,s;i=a.mapToTargetIds(i),s=a.svg.selectAll(a.selectorTargets(i.filter(a.isTargetToShow,a))),s.classed(T.focused,!1).classed(T.defocused,!0),a.hasArcType()&&a.unexpandArc(i),a.toggleFocusLegend(i,!1),a.focusedTargetIds=a.focusedTargetIds.filter(function(c){return i.indexOf(c)<0}),a.defocusedTargetIds=i},r.prototype.revert=function(i){var a=this.internal,s;i=a.mapToTargetIds(i),s=a.svg.selectAll(a.selectorTargets(i)),s.classed(T.focused,!1).classed(T.defocused,!1),a.hasArcType()&&a.unexpandArc(i),a.config.legend_show&&(a.showLegend(i.filter(a.isLegendToShow.bind(a))),a.legend.selectAll(a.selectorLegends(i)).filter(function(){return a.d3.select(this).classed(T.legendItemFocused)}).classed(T.legendItemFocused,!1)),a.focusedTargetIds=[],a.defocusedTargetIds=[]},r.prototype.xgrids=function(i){var a=this.internal,s=a.config;return i&&(s.grid_x_lines=i,a.redrawWithoutRescale()),s.grid_x_lines},r.prototype.xgrids.add=function(i){var a=this.internal;return this.xgrids(a.config.grid_x_lines.concat(i||[]))},r.prototype.xgrids.remove=function(i){var a=this.internal;a.removeGridLines(i,!0)},r.prototype.ygrids=function(i){var a=this.internal,s=a.config;return i&&(s.grid_y_lines=i,a.redrawWithoutRescale()),s.grid_y_lines},r.prototype.ygrids.add=function(i){var a=this.internal;return this.ygrids(a.config.grid_y_lines.concat(i||[]))},r.prototype.ygrids.remove=function(i){var a=this.internal;a.removeGridLines(i,!1)},r.prototype.groups=function(i){var a=this.internal,s=a.config;return C(i)||(s.data_groups=i,a.redraw()),s.data_groups},r.prototype.legend=function(){},r.prototype.legend.show=function(i){var a=this.internal;a.showLegend(a.mapToTargetIds(i)),a.updateAndRedraw({withLegend:!0})},r.prototype.legend.hide=function(i){var a=this.internal;a.hideLegend(a.mapToTargetIds(i)),a.updateAndRedraw({withLegend:!1})},r.prototype.load=function(i){var a=this.internal,s=a.config;if(i.xs&&a.addXs(i.xs),"names"in i&&r.prototype.data.names.bind(this)(i.names),"classes"in i&&Object.keys(i.classes).forEach(function(c){s.data_classes[c]=i.classes[c]}),"categories"in i&&a.isCategorized()&&(s.axis_x_categories=i.categories),"axes"in i&&Object.keys(i.axes).forEach(function(c){s.data_axes[c]=i.axes[c]}),"colors"in i&&Object.keys(i.colors).forEach(function(c){s.data_colors[c]=i.colors[c]}),"cacheIds"in i&&a.hasCaches(i.cacheIds)){a.load(a.getCaches(i.cacheIds),i.done);return}i.unload?a.unload(a.mapToTargetIds(i.unload===!0?null:i.unload),function(){a.loadFromArgs(i)}):a.loadFromArgs(i)},r.prototype.unload=function(i){var a=this.internal;i=i||{},i instanceof Array?i={ids:i}:typeof i=="string"&&(i={ids:[i]}),a.unload(a.mapToTargetIds(i.ids),function(){a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),i.done&&i.done()})},r.prototype.pie=function(){},r.prototype.pie.padAngle=function(i){if(i===void 0)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=i,this.flush()},r.prototype.regions=function(i){var a=this.internal,s=a.config;return i&&(s.regions=i,a.redrawWithoutRescale()),s.regions},r.prototype.regions.add=function(i){var a=this.internal,s=a.config;return i&&(s.regions=s.regions.concat(i),a.redrawWithoutRescale()),s.regions},r.prototype.regions.remove=function(i){var a=this.internal,s=a.config,c,d,v;return i=i||{},c=f(i,"duration",s.transition_duration),d=f(i,"classes",[T.region]),v=a.main.select("."+T.regions).selectAll(d.map(function(b){return"."+b})),(c?v.transition().duration(c):v).style("opacity",0).remove(),s.regions=s.regions.filter(function(b){var P=!1;return b.class?(b.class.split(" ").forEach(function(R){d.indexOf(R)>=0&&(P=!0)}),!P):!0}),s.regions},r.prototype.selected=function(i){var a=this.internal,s=a.d3;return a.main.selectAll("."+T.shapes+a.getTargetSelectorSuffix(i)).selectAll("."+T.shape).filter(function(){return s.select(this).classed(T.SELECTED)}).nodes().map(function(c){var d=c.__data__;return d.data?d.data:d})},r.prototype.select=function(i,a,s){var c=this.internal,d=c.d3,v=c.config;v.data_selection_enabled&&c.main.selectAll("."+T.shapes).selectAll("."+T.shape).each(function(b,P){var R=d.select(this),L=b.data?b.data.id:b.id,N=c.getToggle(this,b).bind(c),V=v.data_selection_grouped||!i||i.indexOf(L)>=0,X=!a||a.indexOf(P)>=0,D=R.classed(T.SELECTED);R.classed(T.line)||R.classed(T.area)||(V&&X?v.data_selection_isselectable(b)&&!D&&N(!0,R.classed(T.SELECTED,!0),b,P):_(s)&&s&&D&&N(!1,R.classed(T.SELECTED,!1),b,P))})},r.prototype.unselect=function(i,a){var s=this.internal,c=s.d3,d=s.config;d.data_selection_enabled&&s.main.selectAll("."+T.shapes).selectAll("."+T.shape).each(function(v,b){var P=c.select(this),R=v.data?v.data.id:v.id,L=s.getToggle(this,v).bind(s),N=d.data_selection_grouped||!i||i.indexOf(R)>=0,V=!a||a.indexOf(b)>=0,X=P.classed(T.SELECTED);P.classed(T.line)||P.classed(T.area)||N&&V&&d.data_selection_isselectable(v)&&X&&L(!1,P.classed(T.SELECTED,!1),v,b)})},r.prototype.show=function(i,a){var s=this.internal,c;i=s.mapToTargetIds(i),a=a||{},s.removeHiddenTargetIds(i),c=s.svg.selectAll(s.selectorTargets(i)),c.transition().style("display",Q()?"block":"initial","important").style("opacity",1,"important").call(s.endall,function(){c.style("opacity",null).style("opacity",1)}),a.withLegend&&s.showLegend(i),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.prototype.hide=function(i,a){var s=this.internal,c;i=s.mapToTargetIds(i),a=a||{},s.addHiddenTargetIds(i),c=s.svg.selectAll(s.selectorTargets(i)),c.transition().style("opacity",0,"important").call(s.endall,function(){c.style("opacity",null).style("opacity",0),c.style("display","none")}),a.withLegend&&s.hideLegend(i),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.prototype.toggle=function(i,a){var s=this,c=this.internal;c.mapToTargetIds(i).forEach(function(d){c.isTargetToShow(d)?s.hide(d,a):s.show(d,a)})},r.prototype.subchart=function(){},r.prototype.subchart.isShown=function(){var i=this.internal;return i.config.subchart_show},r.prototype.subchart.show=function(){var i=this.internal;i.config.subchart_show||(i.config.subchart_show=!0,i.initSubchart(),i.updateDimension(),i.initSubchartBrush(),i.updateTargetsForSubchart(i.getTargets()),i.mapToIds(i.data.targets).forEach(function(a){i.withoutFadeIn[a]=!1}),i.updateAndRedraw(),i.showTargets())},r.prototype.subchart.hide=function(){var i=this.internal;i.config.subchart_show&&(i.config.subchart_show=!1,i.removeSubchart(),i.redraw())},r.prototype.tooltip=function(){},r.prototype.tooltip.show=function(i){var a=this.internal,s,c,d={};i.mouse?d=i.mouse:(i.data?c=i.data:typeof i.x<"u"&&(i.id?s=a.data.targets.filter(function(v){return v.id===i.id}):s=a.data.targets,c=a.filterByX(s,i.x).slice(0,1)[0]),d=c?a.getMousePosition(c):null),a.dispatchEvent("mousemove",d),a.config.tooltip_onshow.call(a,c)},r.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},r.prototype.transform=function(i,a){var s=this.internal,c=["pie","donut"].indexOf(i)>=0?{withTransform:!0}:null;s.transformTo(a,i,c)},n.prototype.transformTo=function(i,a,s){var c=this,d=!c.hasArcType(),v=s||{withTransitionForAxis:d};v.withTransitionForTransform=!1,c.transiting=!1,c.setTargetType(i,a),c.updateTargets(c.data.targets),c.updateAndRedraw(v)},r.prototype.x=function(i){var a=this.internal;return arguments.length&&(a.updateTargetX(a.data.targets,i),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),a.data.xs},r.prototype.xs=function(i){var a=this.internal;return arguments.length&&(a.updateTargetXs(a.data.targets,i),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),a.data.xs},r.prototype.zoom=function(i){var a=this.internal;return i?(a.isTimeSeries()&&(i=i.map(function(s){return a.parseDate(s)})),a.config.subchart_show?a.brush.selectionAsValue(i,!0):(a.updateXDomain(null,!0,!1,!1,i),a.redraw({withY:a.config.zoom_rescale,withSubchart:!1})),a.config.zoom_onzoom.call(this,a.x.orgDomain()),i):a.x.domain()},r.prototype.zoom.enable=function(i){var a=this.internal;a.config.zoom_enabled=i,a.updateAndRedraw()},r.prototype.unzoom=function(){var i=this.internal;i.config.subchart_show?i.brush.clear():(i.updateXDomain(null,!0,!1,!1,i.subX.domain()),i.redraw({withY:i.config.zoom_rescale,withSubchart:!1}))},r.prototype.zoom.max=function(i){var a=this.internal,s=a.config,c=a.d3;if(i===0||i)s.zoom_x_max=c.max([a.orgXDomain[1],i]);else return s.zoom_x_max},r.prototype.zoom.min=function(i){var a=this.internal,s=a.config,c=a.d3;if(i===0||i)s.zoom_x_min=c.min([a.orgXDomain[0],i]);else return s.zoom_x_min},r.prototype.zoom.range=function(i){if(arguments.length)_(i.max)&&this.domain.max(i.max),_(i.min)&&this.domain.min(i.min);else return{max:this.domain.max(),min:this.domain.min()}},n.prototype.initPie=function(){var i=this,a=i.d3;i.pie=a.pie().padAngle(this.getPadAngle.bind(this)).value(function(d){return d.values.reduce(function(v,b){return v+b.value},0)});var s=i.getOrderFunction();if(s&&(i.isOrderAsc()||i.isOrderDesc())){var c=s;s=function(d,v){return c(d,v)*-1}}i.pie.sort(s||null)},n.prototype.updateRadius=function(){var i=this,a=i.config,s=a.gauge_width||a.donut_width,c=i.filterTargetsToShow(i.data.targets).length*i.config.gauge_arcs_minWidth;i.radiusExpanded=Math.min(i.arcWidth,i.arcHeight)/2*(i.hasType("gauge")?.85:1),i.radius=i.radiusExpanded*.95,i.innerRadiusRatio=s?(i.radius-s)/i.radius:.6,i.innerRadius=i.hasType("donut")||i.hasType("gauge")?i.radius*i.innerRadiusRatio:0,i.gaugeArcWidth=s||(c<=i.radius-i.innerRadius?i.radius-i.innerRadius:c<=i.radius?c:i.radius)},n.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},n.prototype.updateArc=function(){var i=this;i.svgArc=i.getSvgArc(),i.svgArcExpanded=i.getSvgArcExpanded(),i.svgArcExpandedSub=i.getSvgArcExpanded(.98)},n.prototype.updateAngle=function(i){var a=this,s=a.config,c=!1,d=0,v,b,P,R;return s?(a.pie(a.filterTargetsToShow(a.data.targets)).forEach(function(L){!c&&L.data.id===i.data.id&&(c=!0,i=L,i.index=d),d++}),isNaN(i.startAngle)&&(i.startAngle=0),isNaN(i.endAngle)&&(i.endAngle=i.startAngle),a.isGaugeType(i.data)&&(v=s.gauge_min,b=s.gauge_max,P=Math.PI*(s.gauge_fullCircle?2:1)/(b-v),R=i.value<v?0:i.value<b?i.value-v:b-v,i.startAngle=s.gauge_startingAngle,i.endAngle=i.startAngle+P*R),c?i:null):null},n.prototype.getSvgArc=function(){var i=this,a=i.hasType("gauge"),s=i.gaugeArcWidth/i.filterTargetsToShow(i.data.targets).length,c=i.d3.arc().outerRadius(function(v){return a?i.radius-s*v.index:i.radius}).innerRadius(function(v){return a?i.radius-s*(v.index+1):i.innerRadius}),d=function(v,b){var P;return b?c(v):(P=i.updateAngle(v),P?c(P):"M 0 0")};return d.centroid=c.centroid,d},n.prototype.getSvgArcExpanded=function(i){i=i||1;var a=this,s=a.hasType("gauge"),c=a.gaugeArcWidth/a.filterTargetsToShow(a.data.targets).length,d=Math.min(a.radiusExpanded*i-a.radius,c*.8-(1-i)*100),v=a.d3.arc().outerRadius(function(b){return s?a.radius-c*b.index+d:a.radiusExpanded*i}).innerRadius(function(b){return s?a.radius-c*(b.index+1):a.innerRadius});return function(b){var P=a.updateAngle(b);return P?v(P):"M 0 0"}},n.prototype.getArc=function(i,a,s){return s||this.isArcType(i.data)?this.svgArc(i,a):"M 0 0"},n.prototype.transformForArcLabel=function(i){var a=this,s=a.config,c=a.updateAngle(i),d,v,b,P,R,L="",N=a.hasType("gauge");if(c&&!N)d=this.svgArc.centroid(c),v=isNaN(d[0])?0:d[0],b=isNaN(d[1])?0:d[1],P=Math.sqrt(v*v+b*b),a.hasType("donut")&&s.donut_label_ratio?R=S(s.donut_label_ratio)?s.donut_label_ratio(i,a.radius,P):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?R=S(s.pie_label_ratio)?s.pie_label_ratio(i,a.radius,P):s.pie_label_ratio:R=a.radius&&P?(36/a.radius>.375?1.175-36/a.radius:.8)*a.radius/P:0,L="translate("+v*R+","+b*R+")";else if(c&&N&&a.filterTargetsToShow(a.data.targets).length>1){var V=Math.sin(c.endAngle-Math.PI/2);v=Math.cos(c.endAngle-Math.PI/2)*(a.radiusExpanded+25),b=V*(a.radiusExpanded+15-Math.abs(V*10))+3,L="translate("+v+","+b+")"}return L},n.prototype.getArcRatio=function(i){return this.getRatio("arc",i)},n.prototype.convertToArcData=function(i){return this.addName({id:i.data.id,value:i.value,ratio:this.getRatio("arc",i),index:i.index})},n.prototype.textForArcLabel=function(i){var a=this,s,c,d,v,b;return!a.shouldShowArcLabel()||(s=a.updateAngle(i),c=s?s.value:null,d=a.getRatio("arc",s),v=i.data.id,!a.hasType("gauge")&&!a.meetsArcLabelThreshold(d))?"":(b=a.getArcLabelFormat(),b?b(c,d,v):a.defaultArcValueFormat(c,d))},n.prototype.textForGaugeMinMax=function(i,a){var s=this,c=s.getGaugeLabelExtents();return c?c(i,a):i},n.prototype.expandArc=function(i){var a=this,s;if(a.transiting){s=window.setInterval(function(){a.transiting||(window.clearInterval(s),a.legend.selectAll(".c3-legend-item-focused").size()>0&&a.expandArc(i))},10);return}i=a.mapToTargetIds(i),a.svg.selectAll(a.selectorTargets(i,"."+T.chartArc)).each(function(c){a.shouldExpand(c.data.id)&&a.d3.select(this).selectAll("path").transition().duration(a.expandDuration(c.data.id)).attr("d",a.svgArcExpanded).transition().duration(a.expandDuration(c.data.id)*2).attr("d",a.svgArcExpandedSub).each(function(d){a.isDonutType(d.data)})})},n.prototype.unexpandArc=function(i){var a=this;a.transiting||(i=a.mapToTargetIds(i),a.svg.selectAll(a.selectorTargets(i,"."+T.chartArc)).selectAll("path").transition().duration(function(s){return a.expandDuration(s.data.id)}).attr("d",a.svgArc),a.svg.selectAll("."+T.arc))},n.prototype.expandDuration=function(i){var a=this,s=a.config;return a.isDonutType(i)?s.donut_expand_duration:a.isGaugeType(i)?s.gauge_expand_duration:a.isPieType(i)?s.pie_expand_duration:50},n.prototype.shouldExpand=function(i){var a=this,s=a.config;return a.isDonutType(i)&&s.donut_expand||a.isGaugeType(i)&&s.gauge_expand||a.isPieType(i)&&s.pie_expand},n.prototype.shouldShowArcLabel=function(){var i=this,a=i.config,s=!0;return i.hasType("donut")?s=a.donut_label_show:i.hasType("pie")&&(s=a.pie_label_show),s},n.prototype.meetsArcLabelThreshold=function(i){var a=this,s=a.config,c=a.hasType("donut")?s.donut_label_threshold:s.pie_label_threshold;return i>=c},n.prototype.getArcLabelFormat=function(){var i=this,a=i.config,s=a.pie_label_format;return i.hasType("gauge")?s=a.gauge_label_format:i.hasType("donut")&&(s=a.donut_label_format),s},n.prototype.getGaugeLabelExtents=function(){var i=this,a=i.config;return a.gauge_label_extents},n.prototype.getArcTitle=function(){var i=this;return i.hasType("donut")?i.config.donut_title:""},n.prototype.updateTargetsForArc=function(i){var a=this,s=a.main,c,d,v=a.classChartArc.bind(a),b=a.classArcs.bind(a),P=a.classFocus.bind(a);c=s.select("."+T.chartArcs).selectAll("."+T.chartArc).data(a.pie(i)).attr("class",function(R){return v(R)+P(R.data)}),d=c.enter().append("g").attr("class",v),d.append("g").attr("class",b),d.append("text").attr("dy",a.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},n.prototype.initArc=function(){var i=this;i.arcs=i.main.select("."+T.chart).append("g").attr("class",T.chartArcs).attr("transform",i.getTranslate("arc")),i.arcs.append("text").attr("class",T.chartArcsTitle).style("text-anchor","middle").text(i.getArcTitle())},n.prototype.redrawArc=function(i,a,s){var c=this,d=c.d3,v=c.config,b=c.main,P,R,L,N,V=c.hasType("gauge");if(P=b.selectAll("."+T.arcs).selectAll("."+T.arc).data(c.arcData.bind(c)),R=P.enter().append("path").attr("class",c.classArc.bind(c)).style("fill",function(q){return c.color(q.data)}).style("cursor",function(q){return v.interaction_enabled&&v.data_selection_isselectable(q)?"pointer":null}).each(function(q){c.isGaugeType(q.data)&&(q.startAngle=q.endAngle=v.gauge_startingAngle),this._current=q}).merge(P),V&&(L=b.selectAll("."+T.arcs).selectAll("."+T.arcLabelLine).data(c.arcData.bind(c)),N=L.enter().append("rect").attr("class",function(q){return T.arcLabelLine+" "+T.target+" "+T.target+"-"+q.data.id}).merge(L),c.filterTargetsToShow(c.data.targets).length===1?N.style("display","none"):N.style("fill",function(q){return c.levelColor?c.levelColor(q.data.values.reduce(function(j,tt){return j+tt.value},0)):c.color(q.data)}).style("display",v.gauge_labelLine_show?"":"none").each(function(q){var j=0,tt=2,K=0,dt=0,pt="";if(c.hiddenTargetIds.indexOf(q.data.id)<0){var bt=c.updateAngle(q),xt=c.gaugeArcWidth/c.filterTargetsToShow(c.data.targets).length*(bt.index+1),wt=bt.endAngle-Math.PI/2,lt=c.radius-xt,St=wt-(lt===0?0:1/lt);j=c.radiusExpanded-c.radius+xt,K=Math.cos(St)*lt,dt=Math.sin(St)*lt,pt="rotate("+wt*180/Math.PI+", "+K+", "+dt+")"}d.select(this).attr("x",K).attr("y",dt).attr("width",j).attr("height",tt).attr("transform",pt).style("stroke-dasharray","0, "+(j+tt)+", 0")})),R.attr("transform",function(q){return!c.isGaugeType(q.data)&&s?"scale(0)":""}).on("mouseover",v.interaction_enabled?function(q){var j,tt;c.transiting||(j=c.updateAngle(q),j&&(tt=c.convertToArcData(j),c.expandArc(j.data.id),c.api.focus(j.data.id),c.toggleFocusLegend(j.data.id,!0),c.config.data_onmouseover(tt,this)))}:null).on("mousemove",v.interaction_enabled?function(q){var j=c.updateAngle(q),tt,K;j&&(tt=c.convertToArcData(j),K=[tt],c.showTooltip(K,this))}:null).on("mouseout",v.interaction_enabled?function(q){var j,tt;c.transiting||(j=c.updateAngle(q),j&&(tt=c.convertToArcData(j),c.unexpandArc(j.data.id),c.api.revert(),c.revertLegend(),c.hideTooltip(),c.config.data_onmouseout(tt,this)))}:null).on("click",v.interaction_enabled?function(q,j){var tt=c.updateAngle(q),K;tt&&(K=c.convertToArcData(tt),c.toggleShape&&c.toggleShape(this,K,j),c.config.data_onclick.call(c.api,K,this))}:null).each(function(){c.transiting=!0}).transition().duration(i).attrTween("d",function(q){var j=c.updateAngle(q),tt;return j?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),tt=d.interpolate(this._current,j),this._current=tt(0),function(K){if(c.config===null)return"M 0 0";var dt=tt(K);return dt.data=q.data,c.getArc(dt,!0)}):function(){return"M 0 0"}}).attr("transform",s?"scale(1)":"").style("fill",function(q){return c.levelColor?c.levelColor(q.data.values.reduce(function(j,tt){return j+tt.value},0)):c.color(q.data.id)}).call(c.endall,function(){c.transiting=!1}),P.exit().transition().duration(a).style("opacity",0).remove(),b.selectAll("."+T.chartArc).select("text").style("opacity",0).attr("class",function(q){return c.isGaugeType(q.data)?T.gaugeValue:""}).text(c.textForArcLabel.bind(c)).attr("transform",c.transformForArcLabel.bind(c)).style("font-size",function(q){return c.isGaugeType(q.data)&&c.filterTargetsToShow(c.data.targets).length===1?Math.round(c.radius/5)+"px":""}).transition().duration(i).style("opacity",function(q){return c.isTargetToShow(q.data.id)&&c.isArcType(q.data)?1:0}),b.select("."+T.chartArcsTitle).style("opacity",c.hasType("donut")||V?1:0),V){var X=0,D=c.arcs.select("g."+T.chartArcsBackground).selectAll("path."+T.chartArcsBackground).data(c.data.targets);D.enter().append("path").attr("class",function(q,j){return T.chartArcsBackground+" "+T.chartArcsBackground+"-"+j}).merge(D).attr("d",function(q){if(c.hiddenTargetIds.indexOf(q.id)>=0)return"M 0 0";var j={data:[{value:v.gauge_max}],startAngle:v.gauge_startingAngle,endAngle:-1*v.gauge_startingAngle*(v.gauge_fullCircle?Math.PI:1),index:X++};return c.getArc(j,!0,!0)}),D.exit().remove(),c.arcs.select("."+T.chartArcsGaugeUnit).attr("dy",".75em").text(v.gauge_label_show?v.gauge_units:""),c.arcs.select("."+T.chartArcsGaugeMin).attr("dx",-1*(c.innerRadius+(c.radius-c.innerRadius)/(v.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(v.gauge_label_show?c.textForGaugeMinMax(v.gauge_min,!1):""),c.arcs.select("."+T.chartArcsGaugeMax).attr("dx",c.innerRadius+(c.radius-c.innerRadius)/(v.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(v.gauge_label_show?c.textForGaugeMinMax(v.gauge_max,!0):"")}},n.prototype.initGauge=function(){var i=this.arcs;this.hasType("gauge")&&(i.append("g").attr("class",T.chartArcsBackground),i.append("text").attr("class",T.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),i.append("text").attr("class",T.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),i.append("text").attr("class",T.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},n.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},n.prototype.addToCache=function(i,a){this.cache["$"+i]=a},n.prototype.getFromCache=function(i){return this.cache["$"+i]},n.prototype.resetCache=function(){var i=this;Object.keys(this.cache).filter(function(a){return/^\$/.test(a)}).forEach(function(a){delete i.cache[a]})},n.prototype.hasCaches=function(i){for(var a=0;a<i.length;a++)if(!(i[a]in this.cache))return!1;return!0},n.prototype.addCache=function(i,a){this.cache[i]=this.cloneTarget(a)},n.prototype.getCaches=function(i){var a=[],s;for(s=0;s<i.length;s++)i[s]in this.cache&&a.push(this.cloneTarget(this.cache[i[s]]));return a},n.prototype.categoryName=function(i){var a=this.config;return i<a.axis_x_categories.length?a.axis_x_categories[i]:i},n.prototype.generateTargetClass=function(i){return i||i===0?("-"+i).replace(/\s/g,"-"):""},n.prototype.generateClass=function(i,a){return" "+i+" "+i+this.generateTargetClass(a)},n.prototype.classText=function(i){return this.generateClass(T.text,i.index)},n.prototype.classTexts=function(i){return this.generateClass(T.texts,i.id)},n.prototype.classShape=function(i){return this.generateClass(T.shape,i.index)},n.prototype.classShapes=function(i){return this.generateClass(T.shapes,i.id)},n.prototype.classLine=function(i){return this.classShape(i)+this.generateClass(T.line,i.id)},n.prototype.classLines=function(i){return this.classShapes(i)+this.generateClass(T.lines,i.id)},n.prototype.classCircle=function(i){return this.classShape(i)+this.generateClass(T.circle,i.index)},n.prototype.classCircles=function(i){return this.classShapes(i)+this.generateClass(T.circles,i.id)},n.prototype.classBar=function(i){return this.classShape(i)+this.generateClass(T.bar,i.index)},n.prototype.classBars=function(i){return this.classShapes(i)+this.generateClass(T.bars,i.id)},n.prototype.classArc=function(i){return this.classShape(i.data)+this.generateClass(T.arc,i.data.id)},n.prototype.classArcs=function(i){return this.classShapes(i.data)+this.generateClass(T.arcs,i.data.id)},n.prototype.classArea=function(i){return this.classShape(i)+this.generateClass(T.area,i.id)},n.prototype.classAreas=function(i){return this.classShapes(i)+this.generateClass(T.areas,i.id)},n.prototype.classRegion=function(i,a){return this.generateClass(T.region,a)+" "+("class"in i?i.class:"")},n.prototype.classEvent=function(i){return this.generateClass(T.eventRect,i.index)},n.prototype.classTarget=function(i){var a=this,s=a.config.data_classes[i],c="";return s&&(c=" "+T.target+"-"+s),a.generateClass(T.target,i)+c},n.prototype.classFocus=function(i){return this.classFocused(i)+this.classDefocused(i)},n.prototype.classFocused=function(i){return" "+(this.focusedTargetIds.indexOf(i.id)>=0?T.focused:"")},n.prototype.classDefocused=function(i){return" "+(this.defocusedTargetIds.indexOf(i.id)>=0?T.defocused:"")},n.prototype.classChartText=function(i){return T.chartText+this.classTarget(i.id)},n.prototype.classChartLine=function(i){return T.chartLine+this.classTarget(i.id)},n.prototype.classChartBar=function(i){return T.chartBar+this.classTarget(i.id)},n.prototype.classChartArc=function(i){return T.chartArc+this.classTarget(i.data.id)},n.prototype.getTargetSelectorSuffix=function(i){var a=this.generateTargetClass(i);return window.CSS&&window.CSS.escape?window.CSS.escape(a):a.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},n.prototype.selectorTarget=function(i,a){return(a||"")+"."+T.target+this.getTargetSelectorSuffix(i)},n.prototype.selectorTargets=function(i,a){var s=this;return i=i||[],i.length?i.map(function(c){return s.selectorTarget(c,a)}):null},n.prototype.selectorLegend=function(i){return"."+T.legendItem+this.getTargetSelectorSuffix(i)},n.prototype.selectorLegends=function(i){var a=this;return i&&i.length?i.map(function(s){return a.selectorLegend(s)}):null},n.prototype.getClipPath=function(i){return"url("+(Q(9)?"":document.URL.split("#")[0])+"#"+i+")"},n.prototype.appendClip=function(i,a){return i.append("clipPath").attr("id",a).append("rect")},n.prototype.getAxisClipX=function(i){var a=Math.max(30,this.margin.left);return i?-(1+a):-(a-1)},n.prototype.getAxisClipY=function(i){return i?-20:-this.margin.top},n.prototype.getXAxisClipX=function(){var i=this;return i.getAxisClipX(!i.config.axis_rotated)},n.prototype.getXAxisClipY=function(){var i=this;return i.getAxisClipY(!i.config.axis_rotated)},n.prototype.getYAxisClipX=function(){var i=this;return i.config.axis_y_inner?-1:i.getAxisClipX(i.config.axis_rotated)},n.prototype.getYAxisClipY=function(){var i=this;return i.getAxisClipY(i.config.axis_rotated)},n.prototype.getAxisClipWidth=function(i){var a=this,s=Math.max(30,a.margin.left),c=Math.max(30,a.margin.right);return i?a.width+2+s+c:a.margin.left+20},n.prototype.getAxisClipHeight=function(i){return(i?this.margin.bottom:this.margin.top+this.height)+20},n.prototype.getXAxisClipWidth=function(){var i=this;return i.getAxisClipWidth(!i.config.axis_rotated)},n.prototype.getXAxisClipHeight=function(){var i=this;return i.getAxisClipHeight(!i.config.axis_rotated)},n.prototype.getYAxisClipWidth=function(){var i=this;return i.getAxisClipWidth(i.config.axis_rotated)+(i.config.axis_y_inner?20:0)},n.prototype.getYAxisClipHeight=function(){var i=this;return i.getAxisClipHeight(i.config.axis_rotated)},n.prototype.generateColor=function(){var i=this,a=i.config,s=i.d3,c=a.data_colors,d=M(a.color_pattern)?a.color_pattern:s.schemeCategory10,v=a.data_color,b=[];return function(P){var R=P.id||P.data&&P.data.id||P,L;return c[R]instanceof Function?L=c[R](P):c[R]?L=c[R]:(b.indexOf(R)<0&&b.push(R),L=d[b.indexOf(R)%d.length],c[R]=L),v instanceof Function?v(L,P):L}},n.prototype.generateLevelColor=function(){var i=this,a=i.config,s=a.color_pattern,c=a.color_threshold,d=c.unit==="value",v=c.values&&c.values.length?c.values:[],b=c.max||100;return M(c)&&M(s)?function(P){var R,L,N=s[s.length-1];for(R=0;R<v.length;R++)if(L=d?P:P*100/b,L<v[R]){N=s[R];break}return N}:null},n.prototype.getDefaultConfig=function(){var i={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(a){return a},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(a,s,c,d){return this.getTooltipContent?this.getTooltipContent(a,s,c,d):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(a){i[a]=this.additionalConfig[a]},this),i},n.prototype.additionalConfig={},n.prototype.loadConfig=function(i){var a=this.config,s,c,d;function v(){var b=c.shift();return b&&s&&typeof s=="object"&&b in s?(s=s[b],v()):b?void 0:s}Object.keys(a).forEach(function(b){s=i,c=b.split("_"),d=v(),_(d)&&(a[b]=d)})},n.prototype.convertUrlToData=function(i,a,s,c,d){var v=this,b=a||"csv",P,R;b==="json"?(P=v.d3.json,R=v.convertJsonToData):b==="tsv"?(P=v.d3.tsv,R=v.convertXsvToData):(P=v.d3.csv,R=v.convertXsvToData),P(i,s).then(function(L){d.call(v,R.call(v,L,c))}).catch(function(L){throw L})},n.prototype.convertXsvToData=function(i){var a=i.columns,s=i;return s.length===0?{keys:a,rows:[a.reduce(function(c,d){var v;return Object.assign(c,(v={},v[d]=null,v))},{})]}:{keys:a,rows:[].concat(i)}},n.prototype.convertJsonToData=function(i,a){var s=this,c=[],d,v;return a?(a.x?(d=a.value.concat(a.x),s.config.data_x=a.x):d=a.value,c.push(d),i.forEach(function(b){var P=[];d.forEach(function(R){var L=s.findValueInJson(b,R);C(L)&&(L=null),P.push(L)}),c.push(P)}),v=s.convertRowsToData(c)):(Object.keys(i).forEach(function(b){c.push([b].concat(i[b]))}),v=s.convertColumnsToData(c)),v},n.prototype.findValueInJson=function(i,a){if(a in i)return i[a];a=a.replace(/\[(\w+)\]/g,".$1"),a=a.replace(/^\./,"");for(var s=a.split("."),c=0;c<s.length;++c){var d=s[c];if(d in i)i=i[d];else return}return i},n.prototype.convertRowsToData=function(i){for(var a=[],s=i[0],c=1;c<i.length;c++){for(var d={},v=0;v<i[c].length;v++){if(C(i[c][v]))throw new Error("Source data is missing a component at ("+c+","+v+")!");d[s[v]]=i[c][v]}a.push(d)}return{keys:s,rows:a}},n.prototype.convertColumnsToData=function(i){for(var a=[],s=[],c=0;c<i.length;c++){for(var d=i[c][0],v=1;v<i[c].length;v++){if(C(a[v-1])&&(a[v-1]={}),C(i[c][v]))throw new Error("Source data is missing a component at ("+c+","+v+")!");a[v-1][d]=i[c][v]}s.push(d)}return{keys:s,rows:a}},n.prototype.convertDataToTargets=function(i,a){var s=this,c=s.config,d,v,b,P,R;if(y(i)?P=Object.keys(i[0]):(P=i.keys,i=i.rows),b=P.filter(s.isX,s),!s.isStanfordGraphType())v=P.filter(s.isNotX,s);else if(R=P.filter(s.isEpochs,s),v=P.filter(s.isNotXAndNotEpochs,s),b.length!==1||R.length!==1||v.length!==1)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams");return v.forEach(function(L){var N=s.getXKey(L);s.isCustomX()||s.isTimeSeries()?b.indexOf(N)>=0?s.data.xs[L]=(a&&s.data.xs[L]?s.data.xs[L]:[]).concat(i.map(function(V){return V[N]}).filter(k).map(function(V,X){return s.generateTargetX(V,L,X)})):c.data_x?s.data.xs[L]=s.getOtherTargetXs():M(c.data_xs)&&(s.data.xs[L]=s.getXValuesOfXKey(N,s.data.targets)):s.data.xs[L]=i.map(function(V,X){return X})}),v.forEach(function(L){if(!s.data.xs[L])throw new Error('x is not defined for id = "'+L+'".')}),d=v.map(function(L,N){var V=c.data_idConverter(L);return{id:V,id_org:L,values:i.map(function(X,D){var q=s.getXKey(L),j=X[q],tt=X[L]!==null&&!isNaN(X[L])?+X[L]:null,K,dt;return s.isCustomX()&&s.isCategorized()&&!C(j)?(N===0&&D===0&&(c.axis_x_categories=[]),K=c.axis_x_categories.indexOf(j),K===-1&&(K=c.axis_x_categories.length,c.axis_x_categories.push(j))):K=s.generateTargetX(j,L,D),(C(X[L])||s.data.xs[L].length<=D)&&(K=void 0),dt={x:K,value:tt,id:V},s.isStanfordGraphType()&&(dt.epochs=X[R]),dt}).filter(function(X){return _(X.x)})}}),d.forEach(function(L){var N;c.data_xSort&&(L.values=L.values.sort(function(V,X){var D=V.x||V.x===0?V.x:1/0,q=X.x||X.x===0?X.x:1/0;return D-q})),N=0,L.values.forEach(function(V){V.index=N++}),s.data.xs[L.id].sort(function(V,X){return V-X})}),s.hasNegativeValue=s.hasNegativeValueInTargets(d),s.hasPositiveValue=s.hasPositiveValueInTargets(d),c.data_type&&s.setTargetType(s.mapToIds(d).filter(function(L){return!(L in c.data_types)}),c.data_type),d.forEach(function(L){s.addCache(L.id_org,L)}),d},n.prototype.isEpochs=function(i){var a=this,s=a.config;return s.data_epochs&&i===s.data_epochs},n.prototype.isX=function(i){var a=this,s=a.config;return s.data_x&&i===s.data_x||M(s.data_xs)&&g(s.data_xs,i)},n.prototype.isNotX=function(i){return!this.isX(i)},n.prototype.isNotXAndNotEpochs=function(i){return!this.isX(i)&&!this.isEpochs(i)},n.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},n.prototype.isAxisNormalized=function(i){var a=this;return a.isStackNormalized()?a.data.targets.filter(function(s){return a.axis.getId(s.id)===i}).some(function(s){return a.isTargetNormalized(s.id)}):!1},n.prototype.isTargetNormalized=function(i){var a=this;return a.isStackNormalized()&&a.config.data_groups.some(function(s){return s.includes(i)})},n.prototype.getXKey=function(i){var a=this,s=a.config;return s.data_x?s.data_x:M(s.data_xs)?s.data_xs[i]:null},n.prototype.getTotalPerIndex=function(i){var a=this;if(!a.isStackNormalized())return null;var s=a.getFromCache("getTotalPerIndex");if(s!==void 0)return s[i];var c={y:[],y2:[]};return a.data.targets.filter(function(d){return a.isTargetNormalized(d.id)}).filter(function(d){return a.isTargetToShow(d.id)}).forEach(function(d){var v=c[a.axis.getId(d.id)];d.values.forEach(function(b,P){v[P]||(v[P]=0),v[P]+=w(b.value)?b.value:0})}),a.addToCache("getTotalPerIndex",c),c[i]},n.prototype.getTotalDataSum=function(){var i=this,a=i.getFromCache("getTotalDataSum");if(a!==void 0)return a;var s=I(i.data.targets.filter(function(c){return i.isTargetToShow(c.id)}).map(function(c){return c.values})).map(function(c){return c.value}).reduce(function(c,d){return c+d},0);return i.addToCache("getTotalDataSum",s),s},n.prototype.getXValuesOfXKey=function(i,a){var s=this,c,d=a&&M(a)?s.mapToIds(a):[];return d.forEach(function(v){s.getXKey(v)===i&&(c=s.data.xs[v])}),c},n.prototype.getXValue=function(i,a){var s=this;return i in s.data.xs&&s.data.xs[i]&&k(s.data.xs[i][a])?s.data.xs[i][a]:a},n.prototype.getOtherTargetXs=function(){var i=this,a=Object.keys(i.data.xs);return a.length?i.data.xs[a[0]]:null},n.prototype.getOtherTargetX=function(i){var a=this.getOtherTargetXs();return a&&i<a.length?a[i]:null},n.prototype.addXs=function(i){var a=this;Object.keys(i).forEach(function(s){a.config.data_xs[s]=i[s]})},n.prototype.addName=function(i){var a=this,s;return i&&(s=a.config.data_names[i.id],i.name=s!==void 0?s:i.id),i},n.prototype.getValueOnIndex=function(i,a){var s=i.filter(function(c){return c.index===a});return s.length?s[0]:null},n.prototype.updateTargetX=function(i,a){var s=this;i.forEach(function(c){c.values.forEach(function(d,v){d.x=s.generateTargetX(a[v],c.id,v)}),s.data.xs[c.id]=a})},n.prototype.updateTargetXs=function(i,a){var s=this;i.forEach(function(c){a[c.id]&&s.updateTargetX([c],a[c.id])})},n.prototype.generateTargetX=function(i,a,s){var c=this,d;return c.isTimeSeries()?d=i?c.parseDate(i):c.parseDate(c.getXValue(a,s)):c.isCustomX()&&!c.isCategorized()?d=k(i)?+i:c.getXValue(a,s):d=s,d},n.prototype.cloneTarget=function(i){return{id:i.id,id_org:i.id_org,values:i.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}},n.prototype.getMaxDataCount=function(){var i=this;return i.d3.max(i.data.targets,function(a){return a.values.length})},n.prototype.mapToIds=function(i){return i.map(function(a){return a.id})},n.prototype.mapToTargetIds=function(i){var a=this;return i?[].concat(i):a.mapToIds(a.data.targets)},n.prototype.hasTarget=function(i,a){var s=this.mapToIds(i),c;for(c=0;c<s.length;c++)if(s[c]===a)return!0;return!1},n.prototype.isTargetToShow=function(i){return this.hiddenTargetIds.indexOf(i)<0},n.prototype.isLegendToShow=function(i){return this.hiddenLegendIds.indexOf(i)<0},n.prototype.getTargetsToShow=function(){var i=this;return i.filterTargetsToShow(i.data.targets)},n.prototype.filterTargetsToShow=function(i){var a=this;return i.filter(function(s){return a.isTargetToShow(s.id)})},n.prototype.getTargets=function(){var i=this;return i.data.targets},n.prototype.mapTargetsToUniqueXs=function(i){var a=this,s=a.d3.set(a.d3.merge(i.map(function(c){return c.values.map(function(d){return+d.x})}))).values();return s=a.isTimeSeries()?s.map(function(c){return new Date(+c)}):s.map(function(c){return+c}),s.sort(function(c,d){return c<d?-1:c>d?1:c>=d?0:NaN})},n.prototype.addHiddenTargetIds=function(i){i=i instanceof Array?i:new Array(i);for(var a=0;a<i.length;a++)this.hiddenTargetIds.indexOf(i[a])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(i[a]));this.resetCache()},n.prototype.removeHiddenTargetIds=function(i){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(a){return i.indexOf(a)<0}),this.resetCache()},n.prototype.addHiddenLegendIds=function(i){i=i instanceof Array?i:new Array(i);for(var a=0;a<i.length;a++)this.hiddenLegendIds.indexOf(i[a])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(i[a]))},n.prototype.removeHiddenLegendIds=function(i){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(a){return i.indexOf(a)<0})},n.prototype.getValuesAsIdKeyed=function(i){var a={};return i.forEach(function(s){a[s.id]=[],s.values.forEach(function(c){a[s.id].push(c.value)})}),a},n.prototype.checkValueInTargets=function(i,a){var s=Object.keys(i),c,d,v;for(c=0;c<s.length;c++)for(v=i[s[c]].values,d=0;d<v.length;d++)if(a(v[d].value))return!0;return!1},n.prototype.hasNegativeValueInTargets=function(i){return this.checkValueInTargets(i,function(a){return a<0})},n.prototype.hasPositiveValueInTargets=function(i){return this.checkValueInTargets(i,function(a){return a>0})},n.prototype.isOrderDesc=function(){var i=this.config;return typeof i.data_order=="string"&&i.data_order.toLowerCase()==="desc"},n.prototype.isOrderAsc=function(){var i=this.config;return typeof i.data_order=="string"&&i.data_order.toLowerCase()==="asc"},n.prototype.getOrderFunction=function(){var i=this,a=i.config,s=i.isOrderAsc(),c=i.isOrderDesc();if(s||c){var d=function(b,P){return b+Math.abs(P.value)};return function(b,P){var R=b.values.reduce(d,0),L=P.values.reduce(d,0);return s?L-R:R-L}}else{if(S(a.data_order))return a.data_order;if(y(a.data_order)){var v=a.data_order;return function(b,P){return v.indexOf(b.id)-v.indexOf(P.id)}}}},n.prototype.orderTargets=function(i){var a=this.getOrderFunction();return a&&i.sort(a),i},n.prototype.filterByIndex=function(i,a){return this.d3.merge(i.map(function(s){return s.values.filter(function(c){return c.index===a})}))},n.prototype.filterByX=function(i,a){return this.d3.merge(i.map(function(s){return s.values})).filter(function(s){return s.x-a===0})},n.prototype.filterRemoveNull=function(i){return i.filter(function(a){return k(a.value)})},n.prototype.filterByXDomain=function(i,a){return i.map(function(s){return{id:s.id,id_org:s.id_org,values:s.values.filter(function(c){return a[0]<=c.x&&c.x<=a[1]})}})},n.prototype.hasDataLabel=function(){var i=this.config;return typeof i.data_labels=="boolean"&&i.data_labels?!0:!!(typeof i.data_labels=="object"&&M(i.data_labels))},n.prototype.getDataLabelLength=function(i,a,s){var c=this,d=[0,0],v=1.3;return c.selectChart.select("svg").selectAll(".dummy").data([i,a]).enter().append("text").text(function(b){return c.dataLabelFormat(b.id)(b)}).each(function(b,P){d[P]=p(this)[s]*v}).remove(),d},n.prototype.isNoneArc=function(i){return this.hasTarget(this.data.targets,i.id)},n.prototype.isArc=function(i){return"data"in i&&this.hasTarget(this.data.targets,i.data.id)},n.prototype.findClosestFromTargets=function(i,a){var s=this,c=i.map(function(d){return s.findClosest(d.values,a,s.config.tooltip_horizontal?s.horizontalDistance.bind(s):s.dist.bind(s),s.config.point_sensitivity)}).filter(function(d){return d});if(c.length!==0)return c.length===1?c[0]:s.findClosest(c,a,s.dist.bind(s))},n.prototype.findClosestFromTargetsByX=function(i,a){var s,c;return i.forEach(function(d){d.values.forEach(function(v){var b=Math.abs(a-v.x);(c===void 0||b<c)&&(s=v,c=b)})}),s},n.prototype.findClosest=function(i,a,s,c){c===void 0&&(c=1/0);var d=this,v;return i.filter(function(b){return b&&d.isBarType(b.id)}).forEach(function(b){if(!v){var P=d.main.select("."+T.bars+d.getTargetSelectorSuffix(b.id)+" ."+T.bar+"-"+b.index).node();d.isWithinBar(a,P)&&(v=b)}}),i.filter(function(b){return b&&!d.isBarType(b.id)}).forEach(function(b){var P=s(b,a);P<c&&(c=P,v=b)}),v},n.prototype.dist=function(i,a){var s=this,c=s.config,d=c.axis_rotated?1:0,v=c.axis_rotated?0:1,b=s.circleY(i,i.index),P=s.x(i.x);return Math.sqrt(Math.pow(P-a[d],2)+Math.pow(b-a[v],2))},n.prototype.horizontalDistance=function(i,a){var s=this,c=s.config,d=c.axis_rotated?1:0,v=s.x(i.x);return Math.abs(v-a[d])},n.prototype.convertValuesToStep=function(i){var a=[].concat(i),s;if(!this.isCategorized())return i;for(s=i.length+1;0<s;s--)a[s]=a[s-1];return a[0]={x:a[0].x-1,value:a[0].value,id:a[0].id},a[i.length+1]={x:a[i.length].x+1,value:a[i.length].value,id:a[i.length].id},a},n.prototype.getRatio=function(i,a,s){s===void 0&&(s=!1);var c=this,d=c.api,v=0;if(a&&d.data.shown.call(d).length){if(v=a.ratio||a.value,i==="arc")if(c.hasType("gauge"))v=(a.endAngle-a.startAngle)/(Math.PI*(c.config.gauge_fullCircle?2:1));else{var b=c.getTotalDataSum();v=a.value/b}else if(i==="index"){var b=c.getTotalPerIndex(c.axis.getId(a.id));a.ratio=w(a.value)&&b&&b[a.index]>0?a.value/b[a.index]:0,v=a.ratio}}return s&&v?v*100:v},n.prototype.updateDataAttributes=function(i,a){var s=this,c=s.config,d=c["data_"+i];return typeof a>"u"||(Object.keys(a).forEach(function(v){d[v]=a[v]}),s.redraw({withLegend:!0})),d},n.prototype.load=function(i,a){var s=this;i&&(a.filter&&(i=i.filter(a.filter)),(a.type||a.types)&&i.forEach(function(c){var d=a.types&&a.types[c.id]?a.types[c.id]:a.type;s.setTargetType(c.id,d)}),s.data.targets.forEach(function(c){for(var d=0;d<i.length;d++)if(c.id===i[d].id){c.values=i[d].values,i.splice(d,1);break}}),s.data.targets=s.data.targets.concat(i)),s.updateTargets(s.data.targets),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()},n.prototype.loadFromArgs=function(i){var a=this;a.resetCache(),i.data?a.load(a.convertDataToTargets(i.data),i):i.url?a.convertUrlToData(i.url,i.mimeType,i.headers,i.keys,function(s){a.load(a.convertDataToTargets(s),i)}):i.json?a.load(a.convertDataToTargets(a.convertJsonToData(i.json,i.keys)),i):i.rows?a.load(a.convertDataToTargets(a.convertRowsToData(i.rows)),i):i.columns?a.load(a.convertDataToTargets(a.convertColumnsToData(i.columns)),i):a.load(null,i)},n.prototype.unload=function(i,a){var s=this;if(s.resetCache(),a||(a=function(){}),i=i.filter(function(c){return s.hasTarget(s.data.targets,c)}),!i||i.length===0){a();return}s.svg.selectAll(i.map(function(c){return s.selectorTarget(c)})).transition().style("opacity",0).remove().call(s.endall,a),i.forEach(function(c){s.withoutFadeIn[c]=!1,s.legend&&s.legend.selectAll("."+T.legendItem+s.getTargetSelectorSuffix(c)).remove(),s.data.targets=s.data.targets.filter(function(d){return d.id!==c})})},n.prototype.getYDomainMin=function(i){var a=this,s=a.config,c=a.mapToIds(i),d=a.getValuesAsIdKeyed(i),v,b,P,R,L,N;if(s.data_groups.length>0){for(N=a.hasNegativeValueInTargets(i),v=0;v<s.data_groups.length;v++)if(R=s.data_groups[v].filter(function(V){return c.indexOf(V)>=0}),R.length!==0)for(P=R[0],N&&d[P]&&d[P].forEach(function(V,X){d[P][X]=V<0?V:0}),b=1;b<R.length;b++)L=R[b],d[L]&&d[L].forEach(function(V,X){a.axis.getId(L)===a.axis.getId(P)&&d[P]&&!(N&&+V>0)&&(d[P][X]+=+V)})}return a.d3.min(Object.keys(d).map(function(V){return a.d3.min(d[V])}))},n.prototype.getYDomainMax=function(i){var a=this,s=a.config,c=a.mapToIds(i),d=a.getValuesAsIdKeyed(i),v,b,P,R,L,N;if(s.data_groups.length>0){for(N=a.hasPositiveValueInTargets(i),v=0;v<s.data_groups.length;v++)if(R=s.data_groups[v].filter(function(V){return c.indexOf(V)>=0}),R.length!==0)for(P=R[0],N&&d[P]&&d[P].forEach(function(V,X){d[P][X]=V>0?V:0}),b=1;b<R.length;b++)L=R[b],d[L]&&d[L].forEach(function(V,X){a.axis.getId(L)===a.axis.getId(P)&&d[P]&&!(N&&+V<0)&&(d[P][X]+=+V)})}return a.d3.max(Object.keys(d).map(function(V){return a.d3.max(d[V])}))},n.prototype.getYDomain=function(i,a,s){var c=this,d=c.config;if(c.isAxisNormalized(a))return[0,100];var v=i.filter(function(ot){return c.axis.getId(ot.id)===a}),b=s?c.filterByXDomain(v,s):v,P=a==="y2"?d.axis_y2_min:d.axis_y_min,R=a==="y2"?d.axis_y2_max:d.axis_y_max,L=c.getYDomainMin(b),N=c.getYDomainMax(b),V,X,D,q,j=a==="y2"?d.axis_y2_center:d.axis_y_center,tt,K,dt,pt,bt,xt,wt=c.hasType("bar",b)&&d.bar_zerobased||c.hasType("area",b)&&d.area_zerobased,lt=a==="y2"?d.axis_y2_inverted:d.axis_y_inverted,St=c.hasDataLabel()&&d.axis_rotated,mt=c.hasDataLabel()&&!d.axis_rotated;if(L=k(P)?P:k(R)?L<R?L:R-10:L,N=k(R)?R:k(P)?P<N?N:P+10:N,b.length===0)return a==="y2"?c.y2.domain():c.y.domain();if(isNaN(L)&&(L=0),isNaN(N)&&(N=L),L===N&&(L<0?N=0:L=0),bt=L>=0&&N>=0,xt=L<=0&&N<=0,(k(P)&&bt||k(R)&&xt)&&(wt=!1),wt&&(bt&&(L=0),xt&&(N=0)),X=Math.abs(N-L),D=q=X*.1,typeof j<"u"&&(tt=Math.max(Math.abs(L),Math.abs(N)),N=j+tt,L=j-tt),St)K=c.getDataLabelLength(L,N,"width"),dt=l(c.y.range()),pt=[K[0]/dt,K[1]/dt],D+=X*(pt[1]/(1-pt[0]-pt[1])),q+=X*(pt[0]/(1-pt[0]-pt[1]));else if(mt){K=c.getDataLabelLength(L,N,"height");var yt=c.getY(d["axis_"+a+"_type"],[0,d.axis_rotated?c.width:c.height],[0,X]);D+=yt(K[1]),q+=yt(K[0])}return a==="y"&&M(d.axis_y_padding)&&(D=c.axis.getPadding(d.axis_y_padding,"top",D,X),q=c.axis.getPadding(d.axis_y_padding,"bottom",q,X)),a==="y2"&&M(d.axis_y2_padding)&&(D=c.axis.getPadding(d.axis_y2_padding,"top",D,X),q=c.axis.getPadding(d.axis_y2_padding,"bottom",q,X)),wt&&(bt&&(q=L),xt&&(D=-N)),V=[L-q,N+D],lt?V.reverse():V},n.prototype.getXDomainMin=function(i){var a=this,s=a.config;return _(s.axis_x_min)?a.isTimeSeries()?this.parseDate(s.axis_x_min):s.axis_x_min:a.d3.min(i,function(c){return a.d3.min(c.values,function(d){return d.x})})},n.prototype.getXDomainMax=function(i){var a=this,s=a.config;return _(s.axis_x_max)?a.isTimeSeries()?this.parseDate(s.axis_x_max):s.axis_x_max:a.d3.max(i,function(c){return a.d3.max(c.values,function(d){return d.x})})},n.prototype.getXDomainPadding=function(i){var a=this,s=a.config,c=i[1]-i[0],d,v,b,P;return a.isCategorized()?v=0:a.hasType("bar")?(d=a.getMaxDataCount(),v=d>1?c/(d-1)/2:.5):v=c*.01,typeof s.axis_x_padding=="object"&&M(s.axis_x_padding)?(b=k(s.axis_x_padding.left)?s.axis_x_padding.left:v,P=k(s.axis_x_padding.right)?s.axis_x_padding.right:v):typeof s.axis_x_padding=="number"?b=P=s.axis_x_padding:b=P=v,{left:b,right:P}},n.prototype.getXDomain=function(i){var a=this,s=[a.getXDomainMin(i),a.getXDomainMax(i)],c=s[0],d=s[1],v=a.getXDomainPadding(s),b=0,P=0;return c-d===0&&!a.isCategorized()&&(a.isTimeSeries()?(c=new Date(c.getTime()*.5),d=new Date(d.getTime()*1.5)):(c=c===0?1:c*.5,d=d===0?-1:d*1.5)),(c||c===0)&&(b=a.isTimeSeries()?new Date(c.getTime()-v.left):c-v.left),(d||d===0)&&(P=a.isTimeSeries()?new Date(d.getTime()+v.right):d+v.right),[b,P]},n.prototype.updateXDomain=function(i,a,s,c,d){var v=this,b=v.config;return s&&(v.x.domain(d||v.d3.extent(v.getXDomain(i))),v.orgXDomain=v.x.domain(),b.zoom_enabled&&v.zoom.update(),v.subX.domain(v.x.domain()),v.brush&&v.brush.updateScale(v.subX)),a&&v.x.domain(d||(!v.brush||v.brush.empty()?v.orgXDomain:v.brush.selectionAsValue())),c&&v.x.domain(v.trimXDomain(v.x.orgDomain())),v.x.domain()},n.prototype.trimXDomain=function(i){var a=this.getZoomDomain(),s=a[0],c=a[1];return i[0]<=s&&(i[1]=+i[1]+(s-i[0]),i[0]=s),c<=i[1]&&(i[0]=+i[0]-(i[1]-c),i[1]=c),i},n.prototype.drag=function(i){var a=this,s=a.config,c=a.main,d=a.d3,v,b,P,R,L,N,V,X;a.hasArcType()||s.data_selection_enabled&&s.data_selection_multiple&&(v=a.dragStart[0],b=a.dragStart[1],P=i[0],R=i[1],L=Math.min(v,P),N=Math.max(v,P),V=s.data_selection_grouped?a.margin.top:Math.min(b,R),X=s.data_selection_grouped?a.height:Math.max(b,R),c.select("."+T.dragarea).attr("x",L).attr("y",V).attr("width",N-L).attr("height",X-V),c.selectAll("."+T.shapes).selectAll("."+T.shape).each(function(D,q){if(s.data_selection_isselectable(D)){var j=d.select(this),tt=j.classed(T.SELECTED),K=j.classed(T.INCLUDED),dt,pt,bt,xt,wt,lt=!1,St;if(j.classed(T.circle))dt=j.attr("cx")*1,pt=j.attr("cy")*1,wt=a.togglePoint,lt=L<dt&&dt<N&&V<pt&&pt<X;else if(j.classed(T.bar))St=h(this),dt=St.x,pt=St.y,bt=St.width,xt=St.height,wt=a.togglePath,lt=!(N<dt||dt+bt<L)&&!(X<pt||pt+xt<V);else return;lt^K&&(j.classed(T.INCLUDED,!K),j.classed(T.SELECTED,!tt),wt.call(a,!tt,j,D,q))}}))},n.prototype.dragstart=function(i){var a=this,s=a.config;a.hasArcType()||s.data_selection_enabled&&(a.dragStart=i,a.main.select("."+T.chart).append("rect").attr("class",T.dragarea).style("opacity",.1),a.dragging=!0)},n.prototype.dragend=function(){var i=this,a=i.config;i.hasArcType()||a.data_selection_enabled&&(i.main.select("."+T.dragarea).transition().duration(100).style("opacity",0).remove(),i.main.selectAll("."+T.shape).classed(T.INCLUDED,!1),i.dragging=!1)},n.prototype.getYFormat=function(i){var a=this,s=i&&!a.hasType("gauge")?a.defaultArcValueFormat:a.yFormat,c=i&&!a.hasType("gauge")?a.defaultArcValueFormat:a.y2Format;return function(d,v,b){var P=a.axis.getId(b)==="y2"?c:s;return P.call(a,d,v)}},n.prototype.yFormat=function(i){var a=this,s=a.config,c=s.axis_y_tick_format?s.axis_y_tick_format:a.defaultValueFormat;return c(i)},n.prototype.y2Format=function(i){var a=this,s=a.config,c=s.axis_y2_tick_format?s.axis_y2_tick_format:a.defaultValueFormat;return c(i)},n.prototype.defaultValueFormat=function(i){return k(i)?+i:""},n.prototype.defaultArcValueFormat=function(i,a){return(a*100).toFixed(1)+"%"},n.prototype.dataLabelFormat=function(i){var a=this,s=a.config.data_labels,c,d=function(v){return k(v)?+v:""};return typeof s.format=="function"?c=s.format:typeof s.format=="object"?s.format[i]?c=s.format[i]===!0?d:s.format[i]:c=function(){return""}:c=d,c},n.prototype.initGrid=function(){var i=this,a=i.config,s=i.d3;i.grid=i.main.append("g").attr("clip-path",i.clipPathForGrid).attr("class",T.grid),a.grid_x_show&&i.grid.append("g").attr("class",T.xgrids),a.grid_y_show&&i.grid.append("g").attr("class",T.ygrids),a.grid_focus_show&&i.grid.append("g").attr("class",T.xgridFocus).append("line").attr("class",T.xgridFocus),i.xgrid=s.selectAll([]),a.grid_lines_front||i.initGridLines()},n.prototype.initGridLines=function(){var i=this,a=i.d3;i.gridLines=i.main.append("g").attr("clip-path",i.clipPathForGrid).attr("class",T.grid+" "+T.gridLines),i.gridLines.append("g").attr("class",T.xgridLines),i.gridLines.append("g").attr("class",T.ygridLines),i.xgridLines=a.selectAll([])},n.prototype.updateXGrid=function(i){var a=this,s=a.config,c=a.d3,d=a.generateGridData(s.grid_x_type,a.x),v=a.isCategorized()?a.xAxis.tickOffset():0;a.xgridAttr=s.axis_rotated?{x1:0,x2:a.width,y1:function(R){return a.x(R)-v},y2:function(R){return a.x(R)-v}}:{x1:function(R){return a.x(R)+v},x2:function(R){return a.x(R)+v},y1:0,y2:a.height},a.xgridAttr.opacity=function(){var R=+c.select(this).attr(s.axis_rotated?"y1":"x1");return R===(s.axis_rotated?a.height:0)?0:1};var b=a.main.select("."+T.xgrids).selectAll("."+T.xgrid).data(d),P=b.enter().append("line").attr("class",T.xgrid).attr("x1",a.xgridAttr.x1).attr("x2",a.xgridAttr.x2).attr("y1",a.xgridAttr.y1).attr("y2",a.xgridAttr.y2).style("opacity",0);a.xgrid=P.merge(b),i||a.xgrid.attr("x1",a.xgridAttr.x1).attr("x2",a.xgridAttr.x2).attr("y1",a.xgridAttr.y1).attr("y2",a.xgridAttr.y2).style("opacity",a.xgridAttr.opacity),b.exit().remove()},n.prototype.updateYGrid=function(){var i=this,a=i.config,s=i.yAxis.tickValues()||i.y.ticks(a.grid_y_ticks),c=i.main.select("."+T.ygrids).selectAll("."+T.ygrid).data(s),d=c.enter().append("line").attr("class",T.ygrid);i.ygrid=d.merge(c),i.ygrid.attr("x1",a.axis_rotated?i.y:0).attr("x2",a.axis_rotated?i.y:i.width).attr("y1",a.axis_rotated?0:i.y).attr("y2",a.axis_rotated?i.height:i.y),c.exit().remove(),i.smoothLines(i.ygrid,"grid")},n.prototype.gridTextAnchor=function(i){return i.position?i.position:"end"},n.prototype.gridTextDx=function(i){return i.position==="start"?4:i.position==="middle"?0:-4},n.prototype.xGridTextX=function(i){return i.position==="start"?-this.height:i.position==="middle"?-this.height/2:0},n.prototype.yGridTextX=function(i){return i.position==="start"?0:i.position==="middle"?this.width/2:this.width},n.prototype.updateGrid=function(i){var a=this,s=a.main,c=a.config,d,v,b,P,R=a.xv.bind(a),L=a.yv.bind(a),N=a.xGridTextX.bind(a),V=a.yGridTextX.bind(a);a.grid.style("visibility",a.hasArcType()?"hidden":"visible"),s.select("line."+T.xgridFocus).style("visibility","hidden"),c.grid_x_show&&a.updateXGrid(),d=s.select("."+T.xgridLines).selectAll("."+T.xgridLine).data(c.grid_x_lines),v=d.enter().append("g").attr("class",function(X){return T.xgridLine+(X.class?" "+X.class:"")}),v.append("line").attr("x1",c.axis_rotated?0:R).attr("x2",c.axis_rotated?a.width:R).attr("y1",c.axis_rotated?R:0).attr("y2",c.axis_rotated?R:a.height).style("opacity",0),v.append("text").attr("text-anchor",a.gridTextAnchor).attr("transform",c.axis_rotated?"":"rotate(-90)").attr("x",c.axis_rotated?V:N).attr("y",R).attr("dx",a.gridTextDx).attr("dy",-5).style("opacity",0),a.xgridLines=v.merge(d),d.exit().transition().duration(i).style("opacity",0).remove(),c.grid_y_show&&a.updateYGrid(),b=s.select("."+T.ygridLines).selectAll("."+T.ygridLine).data(c.grid_y_lines),P=b.enter().append("g").attr("class",function(X){return T.ygridLine+(X.class?" "+X.class:"")}),P.append("line").attr("x1",c.axis_rotated?L:0).attr("x2",c.axis_rotated?L:a.width).attr("y1",c.axis_rotated?0:L).attr("y2",c.axis_rotated?a.height:L).style("opacity",0),P.append("text").attr("text-anchor",a.gridTextAnchor).attr("transform",c.axis_rotated?"rotate(-90)":"").attr("x",c.axis_rotated?N:V).attr("y",L).attr("dx",a.gridTextDx).attr("dy",-5).style("opacity",0),a.ygridLines=P.merge(b),a.ygridLines.select("line").transition().duration(i).attr("x1",c.axis_rotated?L:0).attr("x2",c.axis_rotated?L:a.width).attr("y1",c.axis_rotated?0:L).attr("y2",c.axis_rotated?a.height:L).style("opacity",1),a.ygridLines.select("text").transition().duration(i).attr("x",c.axis_rotated?a.xGridTextX.bind(a):a.yGridTextX.bind(a)).attr("y",L).text(function(X){return X.text}).style("opacity",1),b.exit().transition().duration(i).style("opacity",0).remove()},n.prototype.redrawGrid=function(i,a){var s=this,c=s.config,d=s.xv.bind(s),v=s.xgridLines.select("line"),b=s.xgridLines.select("text");return[(i?v.transition(a):v).attr("x1",c.axis_rotated?0:d).attr("x2",c.axis_rotated?s.width:d).attr("y1",c.axis_rotated?d:0).attr("y2",c.axis_rotated?d:s.height).style("opacity",1),(i?b.transition(a):b).attr("x",c.axis_rotated?s.yGridTextX.bind(s):s.xGridTextX.bind(s)).attr("y",d).text(function(P){return P.text}).style("opacity",1)]},n.prototype.showXGridFocus=function(i){var a=this,s=a.config,c=i.filter(function(b){return b&&k(b.value)}),d=a.main.selectAll("line."+T.xgridFocus),v=a.xx.bind(a);s.tooltip_show&&(a.hasType("stanford")||a.hasArcType()||(d.style("visibility","visible").data([c[0]]).attr(s.axis_rotated?"y1":"x1",v).attr(s.axis_rotated?"y2":"x2",v),a.smoothLines(d,"grid")))},n.prototype.hideXGridFocus=function(){this.main.select("line."+T.xgridFocus).style("visibility","hidden")},n.prototype.updateXgridFocus=function(){var i=this,a=i.config;i.main.select("line."+T.xgridFocus).attr("x1",a.axis_rotated?0:-10).attr("x2",a.axis_rotated?i.width:-10).attr("y1",a.axis_rotated?-10:0).attr("y2",a.axis_rotated?-10:i.height)},n.prototype.generateGridData=function(i,a){var s=this,c=[],d,v,b,P,R=s.main.select("."+T.axisX).selectAll(".tick").size();if(i==="year")for(d=s.getXDomain(),v=d[0].getFullYear(),b=d[1].getFullYear(),P=v;P<=b;P++)c.push(new Date(P+"-01-01 00:00:00"));else c=a.ticks(10),c.length>R&&(c=c.filter(function(L){return(""+L).indexOf(".")<0}));return c},n.prototype.getGridFilterToRemove=function(i){return i?function(a){var s=!1;return[].concat(i).forEach(function(c){("value"in c&&a.value===c.value||"class"in c&&a.class===c.class)&&(s=!0)}),s}:function(){return!0}},n.prototype.removeGridLines=function(i,a){var s=this,c=s.config,d=s.getGridFilterToRemove(i),v=function(R){return!d(R)},b=a?T.xgridLines:T.ygridLines,P=a?T.xgridLine:T.ygridLine;s.main.select("."+b).selectAll("."+P).filter(d).transition().duration(c.transition_duration).style("opacity",0).remove(),a?c.grid_x_lines=c.grid_x_lines.filter(v):c.grid_y_lines=c.grid_y_lines.filter(v)},n.prototype.initEventRect=function(){var i=this,a=i.config;i.main.select("."+T.chart).append("g").attr("class",T.eventRects).style("fill-opacity",0),i.eventRect=i.main.select("."+T.eventRects).append("rect").attr("class",T.eventRect),a.zoom_enabled&&i.zoom&&(i.eventRect.call(i.zoom).on("dblclick.zoom",null),a.zoom_initialRange&&i.eventRect.transition().duration(0).call(i.zoom.transform,i.zoomTransform(a.zoom_initialRange)))},n.prototype.redrawEventRect=function(){var i=this,a=i.d3,s=i.config;function c(){i.svg.select("."+T.eventRect).style("cursor",null),i.hideXGridFocus(),i.hideTooltip(),i.unexpandCircles(),i.unexpandBars()}var d=function(b,P){return P&&(i.isBarType(P.id)||i.dist(P,b)<s.point_sensitivity)},v=function(b){return b?i.addName(Object.assign({},b)):null};i.main.select("."+T.eventRects).style("cursor",s.zoom_enabled?s.axis_rotated?"ns-resize":"ew-resize":null),i.eventRect.attr("x",0).attr("y",0).attr("width",i.width).attr("height",i.height).on("mouseout",s.interaction_enabled?function(){s&&(i.hasArcType()||(i.mouseover&&(s.data_onmouseout.call(i.api,i.mouseover),i.mouseover=void 0),c()))}:null).on("mousemove",s.interaction_enabled?function(){if(!i.dragging){var b=i.getTargetsToShow();if(!i.hasArcType(b)){var P=a.mouse(this),R=v(i.findClosestFromTargets(b,P)),L=d(P,R);i.mouseover&&(!R||R.id!==i.mouseover.id||R.index!==i.mouseover.index)&&(s.data_onmouseout.call(i.api,i.mouseover),i.mouseover=void 0),R&&!i.mouseover&&(s.data_onmouseover.call(i.api,R),i.mouseover=R),i.svg.select("."+T.eventRect).style("cursor",L?"pointer":null);var N=!s.tooltip_grouped||i.hasType("stanford",b),V;if(N)R&&(V=[R]);else{var X=void 0;if(R)X=R;else{var D=s.axis_rotated?P[1]:P[0];X=i.findClosestFromTargetsByX(b,i.x.invert(D))}X&&(V=i.filterByX(b,X.x))}if(!V||V.length===0)return c();V=V.map(v),i.showTooltip(V,this),s.point_focus_expand_enabled&&(i.unexpandCircles(),V.forEach(function(q){i.expandCircles(q.index,q.id,!1)})),i.unexpandBars(),V.forEach(function(q){i.expandBars(q.index,q.id,!1)}),i.showXGridFocus(V)}}}:null).on("click",s.interaction_enabled?function(){var b=i.getTargetsToShow();if(!i.hasArcType(b)){var P=a.mouse(this),R=v(i.findClosestFromTargets(b,P));if(d(P,R)){var L;if(!s.data_selection_grouped||i.isStanfordType(R)?L=[R]:L=i.filterByX(b,R.x),L.forEach(function(V){i.main.selectAll("."+T.shapes+i.getTargetSelectorSuffix(V.id)).selectAll("."+T.shape+"-"+V.index).each(function(){(s.data_selection_grouped||i.isWithinShape(this,V))&&i.toggleShape(this,V,V.index)})}),R){var N=i.main.selectAll("."+T.shapes+i.getTargetSelectorSuffix(R.id)).select("."+T.shape+"-"+R.index);s.data_onclick.call(i.api,R,N.node())}}}}:null).call(s.interaction_enabled&&s.data_selection_draggable&&i.drag?a.drag().on("drag",function(){i.drag(a.mouse(this))}).on("start",function(){i.dragstart(a.mouse(this))}).on("end",function(){i.dragend()}):function(){})},n.prototype.getMousePosition=function(i){var a=this;return[a.x(i.x),a.getYScale(i.id)(i.value)]},n.prototype.dispatchEvent=function(i,a){var s=this,c="."+T.eventRect,d=s.main.select(c).node(),v=d.getBoundingClientRect(),b=v.left+(a?a[0]:0),P=v.top+(a?a[1]:0),R=document.createEvent("MouseEvents");R.initMouseEvent(i,!0,!0,window,0,b,P,b,P,!1,!1,!1,!1,0,null),d.dispatchEvent(R)},n.prototype.initLegend=function(){var i=this;if(i.legendItemTextBox={},i.legendHasRendered=!1,i.legend=i.svg.append("g").attr("transform",i.getTranslate("legend")),!i.config.legend_show){i.legend.style("visibility","hidden"),i.hiddenLegendIds=i.mapToIds(i.data.targets);return}i.updateLegendWithDefaults()},n.prototype.updateLegendWithDefaults=function(){var i=this;i.updateLegend(i.mapToIds(i.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},n.prototype.updateSizeForLegend=function(i,a){var s=this,c=s.config,d={top:s.isLegendTop?s.getCurrentPaddingTop()+c.legend_inset_y+5.5:s.currentHeight-i-s.getCurrentPaddingBottom()-c.legend_inset_y,left:s.isLegendLeft?s.getCurrentPaddingLeft()+c.legend_inset_x+.5:s.currentWidth-a-s.getCurrentPaddingRight()-c.legend_inset_x+.5};s.margin3={top:s.isLegendRight?0:s.isLegendInset?d.top:s.currentHeight-i,right:NaN,bottom:0,left:s.isLegendRight?s.currentWidth-a:s.isLegendInset?d.left:0}},n.prototype.transformLegend=function(i){var a=this;(i?a.legend.transition():a.legend).attr("transform",a.getTranslate("legend"))},n.prototype.updateLegendStep=function(i){this.legendStep=i},n.prototype.updateLegendItemWidth=function(i){this.legendItemWidth=i},n.prototype.updateLegendItemHeight=function(i){this.legendItemHeight=i},n.prototype.getLegendWidth=function(){var i=this;return i.config.legend_show?i.isLegendRight||i.isLegendInset?i.legendItemWidth*(i.legendStep+1):i.currentWidth:0},n.prototype.getLegendHeight=function(){var i=this,a=0;return i.config.legend_show&&(i.isLegendRight?a=i.currentHeight:a=Math.max(20,i.legendItemHeight)*(i.legendStep+1)),a},n.prototype.opacityForLegend=function(i){return i.classed(T.legendItemHidden)?null:1},n.prototype.opacityForUnfocusedLegend=function(i){return i.classed(T.legendItemHidden)?null:.3},n.prototype.toggleFocusLegend=function(i,a){var s=this;i=s.mapToTargetIds(i),s.legend.selectAll("."+T.legendItem).filter(function(c){return i.indexOf(c)>=0}).classed(T.legendItemFocused,a).transition().duration(100).style("opacity",function(){var c=a?s.opacityForLegend:s.opacityForUnfocusedLegend;return c.call(s,s.d3.select(this))})},n.prototype.revertLegend=function(){var i=this,a=i.d3;i.legend.selectAll("."+T.legendItem).classed(T.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return i.opacityForLegend(a.select(this))})},n.prototype.showLegend=function(i){var a=this,s=a.config;s.legend_show||(s.legend_show=!0,a.legend.style("visibility","visible"),a.legendHasRendered||a.updateLegendWithDefaults()),a.removeHiddenLegendIds(i),a.legend.selectAll(a.selectorLegends(i)).style("visibility","visible").transition().style("opacity",function(){return a.opacityForLegend(a.d3.select(this))})},n.prototype.hideLegend=function(i){var a=this,s=a.config;s.legend_show&&x(i)&&(s.legend_show=!1,a.legend.style("visibility","hidden")),a.addHiddenLegendIds(i),a.legend.selectAll(a.selectorLegends(i)).style("opacity",0).style("visibility","hidden")},n.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},n.prototype.updateLegend=function(i,a,s){var c=this,d=c.config,v,b,P,R,L,N,V,X,D,q=4,j=10,tt=0,K=0,dt=10,pt=d.legend_item_tile_width+5,bt,xt=0,wt={},lt={},St={},mt=[0],yt={},ot=0,ft,Nt,Zt,It,ee,zt;i=i.filter(function(nt){return!_(d.data_names[nt])||d.data_names[nt]!==null}),a=a||{},ft=f(a,"withTransition",!0),Nt=f(a,"withTransitionForTransform",!0);function Xt(nt,vt){return c.legendItemTextBox[vt]||(c.legendItemTextBox[vt]=c.getTextRect(nt.textContent,T.legendItem,nt)),c.legendItemTextBox[vt]}function Mt(nt,vt,qt){var mn=qt===0,nr=qt===i.length-1,Ne=Xt(nt,vt),ve=Ne.width+pt+(nr&&!(c.isLegendRight||c.isLegendInset)?0:j)+d.legend_padding,ne=Ne.height+q,ge=c.isLegendRight||c.isLegendInset?ne:ve,Ve=c.isLegendRight||c.isLegendInset?c.getLegendHeight():c.getLegendWidth(),yn,Dn;function ir(We,zs){zs||(yn=(Ve-xt-ge)/2,yn<dt&&(yn=(Ve-ge)/2,xt=0,ot++)),yt[We]=ot,mt[ot]=c.isLegendInset?10:yn,wt[We]=xt,xt+=ge}if(mn&&(xt=0,ot=0,tt=0,K=0),d.legend_show&&!c.isLegendToShow(vt)){lt[vt]=St[vt]=yt[vt]=wt[vt]=0;return}lt[vt]=ve,St[vt]=ne,(!tt||ve>=tt)&&(tt=ve),(!K||ne>=K)&&(K=ne),Dn=c.isLegendRight||c.isLegendInset?K:tt,d.legend_equally?(Object.keys(lt).forEach(function(We){lt[We]=tt}),Object.keys(St).forEach(function(We){St[We]=K}),yn=(Ve-Dn*i.length)/2,yn<dt?(xt=0,ot=0,i.forEach(function(We){ir(We)})):ir(vt,!0)):ir(vt)}c.isLegendInset&&(ot=d.legend_inset_step?d.legend_inset_step:i.length,c.updateLegendStep(ot)),c.isLegendRight?(v=function(nt){return tt*yt[nt]},R=function(nt){return mt[yt[nt]]+wt[nt]}):c.isLegendInset?(v=function(nt){return tt*yt[nt]+10},R=function(nt){return mt[yt[nt]]+wt[nt]}):(v=function(nt){return mt[yt[nt]]+wt[nt]},R=function(nt){return K*yt[nt]}),b=function(nt,vt){return v(nt,vt)+4+d.legend_item_tile_width},L=function(nt,vt){return R(nt,vt)+9},P=function(nt,vt){return v(nt,vt)},N=function(nt,vt){return R(nt,vt)-5},V=function(nt,vt){return v(nt,vt)-2},X=function(nt,vt){return v(nt,vt)-2+d.legend_item_tile_width},D=function(nt,vt){return R(nt,vt)+4},bt=c.legend.selectAll("."+T.legendItem).data(i).enter().append("g").attr("class",function(nt){return c.generateClass(T.legendItem,nt)}).style("visibility",function(nt){return c.isLegendToShow(nt)?"visible":"hidden"}).style("cursor",function(){return d.interaction_enabled?"pointer":"auto"}).on("click",d.interaction_enabled?function(nt){d.legend_item_onclick?d.legend_item_onclick.call(c,nt):c.d3.event.altKey?(c.api.hide(),c.api.show(nt)):(c.api.toggle(nt),c.isTargetToShow(nt)?c.api.focus(nt):c.api.revert())}:null).on("mouseover",d.interaction_enabled?function(nt){d.legend_item_onmouseover?d.legend_item_onmouseover.call(c,nt):(c.d3.select(this).classed(T.legendItemFocused,!0),!c.transiting&&c.isTargetToShow(nt)&&c.api.focus(nt))}:null).on("mouseout",d.interaction_enabled?function(nt){d.legend_item_onmouseout?d.legend_item_onmouseout.call(c,nt):(c.d3.select(this).classed(T.legendItemFocused,!1),c.api.revert())}:null),bt.append("text").text(function(nt){return _(d.data_names[nt])?d.data_names[nt]:nt}).each(function(nt,vt){Mt(this,nt,vt)}).style("pointer-events","none").attr("x",c.isLegendRight||c.isLegendInset?b:-200).attr("y",c.isLegendRight||c.isLegendInset?-200:L),bt.append("rect").attr("class",T.legendItemEvent).style("fill-opacity",0).attr("x",c.isLegendRight||c.isLegendInset?P:-200).attr("y",c.isLegendRight||c.isLegendInset?-200:N),bt.append("line").attr("class",T.legendItemTile).style("stroke",c.color).style("pointer-events","none").attr("x1",c.isLegendRight||c.isLegendInset?V:-200).attr("y1",c.isLegendRight||c.isLegendInset?-200:D).attr("x2",c.isLegendRight||c.isLegendInset?X:-200).attr("y2",c.isLegendRight||c.isLegendInset?-200:D).attr("stroke-width",d.legend_item_tile_height),zt=c.legend.select("."+T.legendBackground+" rect"),c.isLegendInset&&tt>0&&zt.size()===0&&(zt=c.legend.insert("g","."+T.legendItem).attr("class",T.legendBackground).append("rect")),Zt=c.legend.selectAll("text").data(i).text(function(nt){return _(d.data_names[nt])?d.data_names[nt]:nt}).each(function(nt,vt){Mt(this,nt,vt)}),(ft?Zt.transition():Zt).attr("x",b).attr("y",L),It=c.legend.selectAll("rect."+T.legendItemEvent).data(i),(ft?It.transition():It).attr("width",function(nt){return lt[nt]}).attr("height",function(nt){return St[nt]}).attr("x",P).attr("y",N),ee=c.legend.selectAll("line."+T.legendItemTile).data(i),(ft?ee.transition():ee).style("stroke",c.levelColor?function(nt){return c.levelColor(c.cache[nt].values.reduce(function(vt,qt){return vt+qt.value},0))}:c.color).attr("x1",V).attr("y1",D).attr("x2",X).attr("y2",D),zt&&(ft?zt.transition():zt).attr("height",c.getLegendHeight()-12).attr("width",tt*(ot+1)+10),c.legend.selectAll("."+T.legendItem).classed(T.legendItemHidden,function(nt){return!c.isTargetToShow(nt)}),c.updateLegendItemWidth(tt),c.updateLegendItemHeight(K),c.updateLegendStep(ot),c.updateSizes(),c.updateScales(),c.updateSvgSize(),c.transformAll(Nt,s),c.legendHasRendered=!0},n.prototype.initRegion=function(){var i=this;i.region=i.main.append("g").attr("clip-path",i.clipPath).attr("class",T.regions)},n.prototype.updateRegion=function(i){var a=this,s=a.config;a.region.style("visibility",a.hasArcType()?"hidden":"visible");var c=a.main.select("."+T.regions).selectAll("."+T.region).data(s.regions),d=c.enter().append("g");d.append("rect").attr("x",a.regionX.bind(a)).attr("y",a.regionY.bind(a)).attr("width",a.regionWidth.bind(a)).attr("height",a.regionHeight.bind(a)).style("fill-opacity",function(v){return k(v.opacity)?v.opacity:.1}),d.append("text").text(a.labelRegion.bind(a)),a.mainRegion=d.merge(c).attr("class",a.classRegion.bind(a)),c.exit().transition().duration(i).style("opacity",0).remove()},n.prototype.redrawRegion=function(i,a){var s=this,c=s.mainRegion,d=s.mainRegion.selectAll("text");return[(i?c.transition(a):c).attr("x",s.regionX.bind(s)).attr("y",s.regionY.bind(s)).attr("width",s.regionWidth.bind(s)).attr("height",s.regionHeight.bind(s)).style("fill-opacity",function(v){return k(v.opacity)?v.opacity:.1}),(i?d.transition(a):d).attr("x",s.labelOffsetX.bind(s)).attr("y",s.labelOffsetY.bind(s)).attr("transform",s.labelTransform.bind(s)).attr("style","text-anchor: left;")]},n.prototype.regionX=function(i){var a=this,s=a.config,c,d=i.axis==="y"?a.y:a.y2;return i.axis==="y"||i.axis==="y2"?c=s.axis_rotated&&"start"in i?d(i.start):0:c=s.axis_rotated?0:"start"in i?a.x(a.isTimeSeries()?a.parseDate(i.start):i.start):0,c},n.prototype.regionY=function(i){var a=this,s=a.config,c,d=i.axis==="y"?a.y:a.y2;return i.axis==="y"||i.axis==="y2"?c=s.axis_rotated?0:"end"in i?d(i.end):0:c=s.axis_rotated&&"start"in i?a.x(a.isTimeSeries()?a.parseDate(i.start):i.start):0,c},n.prototype.regionWidth=function(i){var a=this,s=a.config,c=a.regionX(i),d,v=i.axis==="y"?a.y:a.y2;return i.axis==="y"||i.axis==="y2"?d=s.axis_rotated&&"end"in i?v(i.end):a.width:d=s.axis_rotated?a.width:"end"in i?a.x(a.isTimeSeries()?a.parseDate(i.end):i.end):a.width,d<c?0:d-c},n.prototype.regionHeight=function(i){var a=this,s=a.config,c=this.regionY(i),d,v=i.axis==="y"?a.y:a.y2;return i.axis==="y"||i.axis==="y2"?d=s.axis_rotated?a.height:"start"in i?v(i.start):a.height:d=s.axis_rotated&&"end"in i?a.x(a.isTimeSeries()?a.parseDate(i.end):i.end):a.height,d<c?0:d-c},n.prototype.isRegionOnX=function(i){return!i.axis||i.axis==="x"},n.prototype.labelRegion=function(i){return"label"in i?i.label:""},n.prototype.labelTransform=function(i){return"vertical"in i&&i.vertical?"rotate(90)":""},n.prototype.labelOffsetX=function(i){var a="paddingX"in i?i.paddingX:3,s="paddingY"in i?i.paddingY:3;return"vertical"in i&&i.vertical?this.regionY(i)+s:this.regionX(i)+a},n.prototype.labelOffsetY=function(i){var a="paddingX"in i?i.paddingX:3,s="paddingY"in i?i.paddingY:3;return"vertical"in i&&i.vertical?-(this.regionX(i)+a):this.regionY(i)+10+s};function J(i,a,s){var c=[.01,10];a||(a=i.scaleLinear(),a.range(c)),s||(s=i.scaleLog(),s.domain(c),s.nice());function d(b,P,R){var L,N,V,X;if(arguments.length<3)R=10;else if(R===0)return[];N=R-1,X=(P-b)/N,L=new Array(R),V=b,L[0]=Math.pow(10,V);for(var D=1;D<N;D++)V+=X,L[D]=Math.pow(10,V);return L[N]=Math.pow(10,P),L}function v(b){return s(a(b))}return v.domain=function(b){return arguments.length?(a.domain(b),v):a.domain()},v.range=function(b){return arguments.length?(s.range(b),v):s.range()},v.ticks=function(b){return d(-2,1,b||10).map(function(P){return a.invert(P)})},v.copy=function(){return J(i,a.copy(),s.copy())},v}n.prototype.getScale=function(i,a,s){return(s?this.d3.scaleTime():this.d3.scaleLinear()).range([i,a])},n.prototype.getX=function(i,a,s,c){var d=this,v=d.getScale(i,a,d.isTimeSeries()),b=s?v.domain(s):v,P;d.isCategorized()?(c=c||function(){return 0},v=function(R,L){var N=b(R)+c(R);return L?N:Math.ceil(N)}):v=function(R,L){var N=b(R);return L?N:Math.ceil(N)};for(P in b)v[P]=b[P];return v.orgDomain=function(){return b.domain()},d.isCategorized()&&(v.domain=function(R){return arguments.length?(b.domain(R),v):(R=this.orgDomain(),[R[0],R[1]+1])}),v},n.prototype.getY=function(i,a,s){var c;if(i==="timeseries"||i==="time")c=this.d3.scaleTime();else if(i==="log")c=J(this.d3);else if(i==="linear"||i===void 0)c=this.d3.scaleLinear();else throw new Error('Invalid Y axis type: "'+i+'"');return a&&c.domain(a),s&&c.range(s),c},n.prototype.getYScale=function(i){return this.axis.getId(i)==="y2"?this.y2:this.y},n.prototype.getSubYScale=function(i){return this.axis.getId(i)==="y2"?this.subY2:this.subY},n.prototype.updateScales=function(){var i=this,a=i.config,s=!i.x;i.xMin=a.axis_rotated?1:0,i.xMax=a.axis_rotated?i.height:i.width,i.yMin=a.axis_rotated?0:i.height,i.yMax=a.axis_rotated?i.width:1,i.subXMin=i.xMin,i.subXMax=i.xMax,i.subYMin=a.axis_rotated?0:i.height2,i.subYMax=a.axis_rotated?i.width2:1,i.x=i.getX(i.xMin,i.xMax,s?void 0:i.x.orgDomain(),function(){return i.xAxis.tickOffset()}),i.y=i.getY(a.axis_y_type,s?a.axis_y_default:i.y.domain(),[i.yMin,i.yMax]),i.y2=i.getY(a.axis_y2_type,s?a.axis_y2_default:i.y2.domain(),[i.yMin,i.yMax]),i.subX=i.getX(i.xMin,i.xMax,i.orgXDomain,function(c){return c%1?0:i.subXAxis.tickOffset()}),i.subY=i.getY(a.axis_y_type,s?a.axis_y_default:i.subY.domain(),[i.subYMin,i.subYMax]),i.subY2=i.getY(a.axis_y2_type,s?a.axis_y2_default:i.subY2.domain(),[i.subYMin,i.subYMax]),i.xAxisTickFormat=i.axis.getXAxisTickFormat(),i.xAxisTickValues=i.axis.getXAxisTickValues(),i.yAxisTickValues=i.axis.getYAxisTickValues(),i.y2AxisTickValues=i.axis.getY2AxisTickValues(),i.xAxis=i.axis.getXAxis(i.x,i.xOrient,i.xAxisTickFormat,i.xAxisTickValues,a.axis_x_tick_outer),i.subXAxis=i.axis.getXAxis(i.subX,i.subXOrient,i.xAxisTickFormat,i.xAxisTickValues,a.axis_x_tick_outer),i.yAxis=i.axis.getYAxis("y",i.y,i.yOrient,i.yAxisTickValues,a.axis_y_tick_outer),i.y2Axis=i.axis.getYAxis("y2",i.y2,i.y2Orient,i.y2AxisTickValues,a.axis_y2_tick_outer),s||i.brush&&i.brush.updateScale(i.subX),i.updateArc&&i.updateArc()},n.prototype.selectPoint=function(i,a,s){var c=this,d=c.config,v=(d.axis_rotated?c.circleY:c.circleX).bind(c),b=(d.axis_rotated?c.circleX:c.circleY).bind(c),P=c.pointSelectR.bind(c);d.data_onselected.call(c.api,a,i.node()),c.main.select("."+T.selectedCircles+c.getTargetSelectorSuffix(a.id)).selectAll("."+T.selectedCircle+"-"+s).data([a]).enter().append("circle").attr("class",function(){return c.generateClass(T.selectedCircle,s)}).attr("cx",v).attr("cy",b).attr("stroke",function(){return c.color(a)}).attr("r",function(R){return c.pointSelectR(R)*1.4}).transition().duration(100).attr("r",P)},n.prototype.unselectPoint=function(i,a,s){var c=this;c.config.data_onunselected.call(c.api,a,i.node()),c.main.select("."+T.selectedCircles+c.getTargetSelectorSuffix(a.id)).selectAll("."+T.selectedCircle+"-"+s).transition().duration(100).attr("r",0).remove()},n.prototype.togglePoint=function(i,a,s,c){i?this.selectPoint(a,s,c):this.unselectPoint(a,s,c)},n.prototype.selectPath=function(i,a){var s=this;s.config.data_onselected.call(s,a,i.node()),s.config.interaction_brighten&&i.transition().duration(100).style("fill",function(){return s.d3.rgb(s.color(a)).brighter(.75)})},n.prototype.unselectPath=function(i,a){var s=this;s.config.data_onunselected.call(s,a,i.node()),s.config.interaction_brighten&&i.transition().duration(100).style("fill",function(){return s.color(a)})},n.prototype.togglePath=function(i,a,s,c){i?this.selectPath(a,s,c):this.unselectPath(a,s,c)},n.prototype.getToggle=function(i,a){var s=this,c;return i.nodeName==="circle"?s.isStepType(a)?c=function(){}:c=s.togglePoint:i.nodeName==="path"&&(c=s.togglePath),c},n.prototype.toggleShape=function(i,a,s){var c=this,d=c.d3,v=c.config,b=d.select(i),P=b.classed(T.SELECTED),R=c.getToggle(i,a).bind(c);v.data_selection_enabled&&v.data_selection_isselectable(a)&&(v.data_selection_multiple||c.main.selectAll("."+T.shapes+(v.data_selection_grouped?c.getTargetSelectorSuffix(a.id):"")).selectAll("."+T.shape).each(function(L,N){var V=d.select(this);V.classed(T.SELECTED)&&R(!1,V.classed(T.SELECTED,!1),L,N)}),b.classed(T.SELECTED,!P),R(!P,b,a,s))},n.prototype.initBar=function(){var i=this;i.main.select("."+T.chart).append("g").attr("class",T.chartBars)},n.prototype.updateTargetsForBar=function(i){var a=this,s=a.config,c,d,v=a.classChartBar.bind(a),b=a.classBars.bind(a),P=a.classFocus.bind(a);c=a.main.select("."+T.chartBars).selectAll("."+T.chartBar).data(i).attr("class",function(R){return v(R)+P(R)}),d=c.enter().append("g").attr("class",v).style("pointer-events","none"),d.append("g").attr("class",b).style("cursor",function(R){return s.data_selection_isselectable(R)?"pointer":null})},n.prototype.updateBar=function(i){var a=this,s=a.barData.bind(a),c=a.classBar.bind(a),d=a.initialOpacity.bind(a),v=function(R){return a.color(R.id)},b=a.main.selectAll("."+T.bars).selectAll("."+T.bar).data(s),P=b.enter().append("path").attr("class",c).style("stroke",v).style("fill",v);a.mainBar=P.merge(b).style("opacity",d),b.exit().transition().duration(i).style("opacity",0)},n.prototype.redrawBar=function(i,a,s){var c=this;return[(a?this.mainBar.transition(s):this.mainBar).attr("d",i).style("stroke",this.color).style("fill",this.color).style("opacity",function(d){return c.isTargetToShow(d.id)?1:0})]},n.prototype.getBarW=function(i,a){var s=this,c=s.config,d=typeof c.bar_width=="number"?c.bar_width:a?i.tickInterval()*c.bar_width_ratio/a:0;return c.bar_width_max&&d>c.bar_width_max?c.bar_width_max:d},n.prototype.getBars=function(i,a){var s=this;return(a?s.main.selectAll("."+T.bars+s.getTargetSelectorSuffix(a)):s.main).selectAll("."+T.bar+(k(i)?"-"+i:""))},n.prototype.expandBars=function(i,a,s){var c=this;s&&c.unexpandBars(),c.getBars(i,a).classed(T.EXPANDED,!0)},n.prototype.unexpandBars=function(i){var a=this;a.getBars(i).classed(T.EXPANDED,!1)},n.prototype.generateDrawBar=function(i,a){var s=this,c=s.config,d=s.generateGetBarPoints(i,a);return function(v,b){var P=d(v,b),R=c.axis_rotated?1:0,L=c.axis_rotated?0:1,N="M "+P[0][R]+","+P[0][L]+" L"+P[1][R]+","+P[1][L]+" L"+P[2][R]+","+P[2][L]+" L"+P[3][R]+","+P[3][L]+" z";return N}},n.prototype.generateGetBarPoints=function(i,a){var s=this,c=a?s.subXAxis:s.xAxis,d=i.__max__+1,v=s.getBarW(c,d),b=s.getShapeX(v,d,i,!!a),P=s.getShapeY(!!a),R=s.getShapeOffset(s.isBarType,i,!!a),L=v*(s.config.bar_space/2),N=a?s.getSubYScale:s.getYScale;return function(V,X){var D=N.call(s,V.id)(0),q=R(V,X)||D,j=b(V),tt=P(V);return s.config.axis_rotated&&(0<V.value&&tt<D||V.value<0&&D<tt)&&(tt=D),tt-=D-q,[[j+L,q],[j+L,tt],[j+v-L,tt],[j+v-L,q]]}},n.prototype.isWithinBar=function(i,a){return B(i,p(a),2)},n.prototype.getShapeIndices=function(i){var a=this,s=a.config,c={},d=0,v,b;return a.filterTargetsToShow(a.data.targets.filter(i,a)).forEach(function(P){for(v=0;v<s.data_groups.length;v++)if(!(s.data_groups[v].indexOf(P.id)<0)){for(b=0;b<s.data_groups[v].length;b++)if(s.data_groups[v][b]in c){c[P.id]=c[s.data_groups[v][b]];break}}C(c[P.id])&&(c[P.id]=d++)}),c.__max__=d-1,c},n.prototype.getShapeX=function(i,a,s,c){var d=this,v=c?d.subX:d.x;return function(b){var P=b.id in s?s[b.id]:0;return b.x||b.x===0?v(b.x)-i*(a/2-P):0}},n.prototype.getShapeY=function(i){var a=this;return function(s){var c=i?a.getSubYScale(s.id):a.getYScale(s.id);return c(a.isTargetNormalized(s.id)?a.getRatio("index",s,!0):s.value)}},n.prototype.getShapeOffset=function(i,a,s){var c=this,d=c.orderTargets(c.filterTargetsToShow(c.data.targets.filter(i,c))),v=d.map(function(b){return b.id});return function(b,P){var R=s?c.getSubYScale(b.id):c.getYScale(b.id),L=R(0),N=L;return d.forEach(function(V){var X=c.isStepType(b)?c.convertValuesToStep(V.values):V.values,D=c.isTargetNormalized(b.id),q=X.map(function(j){return D?c.getRatio("index",j,!0):j.value});V.id===b.id||a[V.id]!==a[b.id]||v.indexOf(V.id)<v.indexOf(b.id)&&((C(X[P])||+X[P].x!=+b.x)&&(P=-1,X.forEach(function(j,tt){var K=j.x.constructor===Date?+j.x:j.x,dt=b.x.constructor===Date?+b.x:b.x;K===dt&&(P=tt)})),P in X&&X[P].value*b.value>=0&&(N+=R(q[P])-L))}),N}},n.prototype.isWithinShape=function(i,a){var s=this,c=s.d3.select(i),d;return s.isTargetToShow(a.id)?i.nodeName==="circle"?d=s.isStepType(a)?s.isWithinStep(i,s.getYScale(a.id)(a.value)):s.isWithinCircle(i,s.pointSelectR(a)*1.5):i.nodeName==="path"&&(d=c.classed(T.bar)?s.isWithinBar(s.d3.mouse(i),i):!0):d=!1,d},n.prototype.getInterpolate=function(i){var a=this,s=a.d3,c={linear:s.curveLinear,"linear-closed":s.curveLinearClosed,basis:s.curveBasis,"basis-open":s.curveBasisOpen,"basis-closed":s.curveBasisClosed,bundle:s.curveBundle,cardinal:s.curveCardinal,"cardinal-open":s.curveCardinalOpen,"cardinal-closed":s.curveCardinalClosed,monotone:s.curveMonotoneX,step:s.curveStep,"step-before":s.curveStepBefore,"step-after":s.curveStepAfter},d;return a.isSplineType(i)?d=c[a.config.spline_interpolation_type]||c.cardinal:a.isStepType(i)?d=c[a.config.line_step_type]:d=c.linear,d},n.prototype.initLine=function(){var i=this;i.main.select("."+T.chart).append("g").attr("class",T.chartLines)},n.prototype.updateTargetsForLine=function(i){var a=this,s=a.config,c,d,v=a.classChartLine.bind(a),b=a.classLines.bind(a),P=a.classAreas.bind(a),R=a.classCircles.bind(a),L=a.classFocus.bind(a);c=a.main.select("."+T.chartLines).selectAll("."+T.chartLine).data(i).attr("class",function(N){return v(N)+L(N)}),d=c.enter().append("g").attr("class",v).style("opacity",0).style("pointer-events","none"),d.append("g").attr("class",b),d.append("g").attr("class",P),d.append("g").attr("class",function(N){return a.generateClass(T.selectedCircles,N.id)}),d.append("g").attr("class",R).style("cursor",function(N){return s.data_selection_isselectable(N)?"pointer":null}),i.forEach(function(N){a.main.selectAll("."+T.selectedCircles+a.getTargetSelectorSuffix(N.id)).selectAll("."+T.selectedCircle).each(function(V){V.value=N.values[V.index].value})})},n.prototype.updateLine=function(i){var a=this,s=a.main.selectAll("."+T.lines).selectAll("."+T.line).data(a.lineData.bind(a)),c=s.enter().append("path").attr("class",a.classLine.bind(a)).style("stroke",a.color);a.mainLine=c.merge(s).style("opacity",a.initialOpacity.bind(a)).style("shape-rendering",function(d){return a.isStepType(d)?"crispEdges":""}).attr("transform",null),s.exit().transition().duration(i).style("opacity",0)},n.prototype.redrawLine=function(i,a,s){return[(a?this.mainLine.transition(s):this.mainLine).attr("d",i).style("stroke",this.color).style("opacity",1)]},n.prototype.generateDrawLine=function(i,a){var s=this,c=s.config,d=s.d3.line(),v=s.generateGetLinePoints(i,a),b=a?s.getSubYScale:s.getYScale,P=function(L){return(a?s.subxx:s.xx).call(s,L)},R=function(L,N){return c.data_groups.length>0?v(L,N)[0][1]:b.call(s,L.id)(L.value)};return d=c.axis_rotated?d.x(R).y(P):d.x(P).y(R),c.line_connectNull||(d=d.defined(function(L){return L.value!=null})),function(L){var N=c.line_connectNull?s.filterRemoveNull(L.values):L.values,V=a?s.subX:s.x,X=b.call(s,L.id),D=0,q=0,j;return s.isLineType(L)?c.data_regions[L.id]?j=s.lineWithRegions(N,V,X,c.data_regions[L.id]):(s.isStepType(L)&&(N=s.convertValuesToStep(N)),j=d.curve(s.getInterpolate(L))(N)):(N[0]&&(D=V(N[0].x),q=X(N[0].value)),j=c.axis_rotated?"M "+q+" "+D:"M "+D+" "+q),j||"M 0 0"}},n.prototype.generateGetLinePoints=function(i,a){var s=this,c=s.config,d=i.__max__+1,v=s.getShapeX(0,d,i,!!a),b=s.getShapeY(!!a),P=s.getShapeOffset(s.isLineType,i,!!a),R=a?s.getSubYScale:s.getYScale;return function(L,N){var V=R.call(s,L.id)(0),X=P(L,N)||V,D=v(L),q=b(L);return c.axis_rotated&&(0<L.value&&q<V||L.value<0&&V<q)&&(q=V),[[D,q-(V-X)],[D,q-(V-X)],[D,q-(V-X)],[D,q-(V-X)]]}},n.prototype.lineWithRegions=function(i,a,s,c){var d=this,v=d.config,b,P,R="M",L,N,V,X,D,q,j,tt,K=d.isCategorized()?.5:0,dt,pt,bt=[];function xt(lt,St){var mt;for(mt=0;mt<St.length;mt++)if(St[mt].start<lt&&lt<=St[mt].end)return!0;return!1}if(_(c))for(b=0;b<c.length;b++)bt[b]={},C(c[b].start)?bt[b].start=i[0].x:bt[b].start=d.isTimeSeries()?d.parseDate(c[b].start):c[b].start,C(c[b].end)?bt[b].end=i[i.length-1].x:bt[b].end=d.isTimeSeries()?d.parseDate(c[b].end):c[b].end;dt=v.axis_rotated?function(lt){return s(lt.value)}:function(lt){return a(lt.x)},pt=v.axis_rotated?function(lt){return a(lt.x)}:function(lt){return s(lt.value)};function wt(lt){return"M"+lt[0][0]+" "+lt[0][1]+" "+lt[1][0]+" "+lt[1][1]}for(d.isTimeSeries()?L=function(lt,St,mt,yt){var ot=lt.x.getTime(),ft=St.x-lt.x,Nt=new Date(ot+ft*mt),Zt=new Date(ot+ft*(mt+yt)),It;return v.axis_rotated?It=[[s(V(mt)),a(Nt)],[s(V(mt+yt)),a(Zt)]]:It=[[a(Nt),s(V(mt))],[a(Zt),s(V(mt+yt))]],wt(It)}:L=function(lt,St,mt,yt){var ot;return v.axis_rotated?ot=[[s(V(mt),!0),a(N(mt))],[s(V(mt+yt),!0),a(N(mt+yt))]]:ot=[[a(N(mt),!0),s(V(mt))],[a(N(mt+yt),!0),s(V(mt+yt))]],wt(ot)},b=0;b<i.length;b++){if(C(bt)||!xt(i[b].x,bt))R+=" "+dt(i[b])+" "+pt(i[b]);else for(N=d.getScale(i[b-1].x+K,i[b].x+K,d.isTimeSeries()),V=d.getScale(i[b-1].value,i[b].value),X=a(i[b].x)-a(i[b-1].x),D=s(i[b].value)-s(i[b-1].value),q=Math.sqrt(Math.pow(X,2)+Math.pow(D,2)),j=2/q,tt=j*2,P=j;P<=1;P+=tt)R+=L(i[b-1],i[b],P,j);i[b].x}return R},n.prototype.updateArea=function(i){var a=this,s=a.d3,c=a.main.selectAll("."+T.areas).selectAll("."+T.area).data(a.lineData.bind(a)),d=c.enter().append("path").attr("class",a.classArea.bind(a)).style("fill",a.color).style("opacity",function(){return a.orgAreaOpacity=+s.select(this).style("opacity"),0});a.mainArea=d.merge(c).style("opacity",a.orgAreaOpacity),c.exit().transition().duration(i).style("opacity",0)},n.prototype.redrawArea=function(i,a,s){return[(a?this.mainArea.transition(s):this.mainArea).attr("d",i).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},n.prototype.generateDrawArea=function(i,a){var s=this,c=s.config,d=s.d3.area(),v=s.generateGetAreaPoints(i,a),b=a?s.getSubYScale:s.getYScale,P=function(N){return(a?s.subxx:s.xx).call(s,N)},R=function(N,V){return c.data_groups.length>0?v(N,V)[0][1]:b.call(s,N.id)(s.getAreaBaseValue(N.id))},L=function(N,V){return c.data_groups.length>0?v(N,V)[1][1]:b.call(s,N.id)(N.value)};return d=c.axis_rotated?d.x0(R).x1(L).y(P):d.x(P).y0(c.area_above?0:R).y1(L),c.line_connectNull||(d=d.defined(function(N){return N.value!==null})),function(N){var V=c.line_connectNull?s.filterRemoveNull(N.values):N.values,X=0,D=0,q;return s.isAreaType(N)?(s.isStepType(N)&&(V=s.convertValuesToStep(V)),q=d.curve(s.getInterpolate(N))(V)):(V[0]&&(X=s.x(V[0].x),D=s.getYScale(N.id)(V[0].value)),q=c.axis_rotated?"M "+D+" "+X:"M "+X+" "+D),q||"M 0 0"}},n.prototype.getAreaBaseValue=function(){return 0},n.prototype.generateGetAreaPoints=function(i,a){var s=this,c=s.config,d=i.__max__+1,v=s.getShapeX(0,d,i,!!a),b=s.getShapeY(!!a),P=s.getShapeOffset(s.isAreaType,i,!!a),R=a?s.getSubYScale:s.getYScale;return function(L,N){var V=R.call(s,L.id)(0),X=P(L,N)||V,D=v(L),q=b(L);return c.axis_rotated&&(0<L.value&&q<V||L.value<0&&V<q)&&(q=V),[[D,X],[D,q-(V-X)],[D,q-(V-X)],[D,X]]}},n.prototype.updateCircle=function(i,a){var s=this,c=s.main.selectAll("."+T.circles).selectAll("."+T.circle).data(s.lineOrScatterOrStanfordData.bind(s)),d=c.enter().append("circle").attr("shape-rendering",s.isStanfordGraphType()?"crispEdges":"").attr("class",s.classCircle.bind(s)).attr("cx",i).attr("cy",a).attr("r",s.pointR.bind(s)).style("color",s.isStanfordGraphType()?s.getStanfordPointColor.bind(s):s.color);s.mainCircle=d.merge(c).style("opacity",s.isStanfordGraphType()?1:s.initialOpacityForCircle.bind(s)),c.exit().style("opacity",0)},n.prototype.redrawCircle=function(i,a,s,c){var d=this,v=d.main.selectAll("."+T.selectedCircle);return[(s?d.mainCircle.transition(c):d.mainCircle).style("opacity",this.opacityForCircle.bind(d)).style("color",d.isStanfordGraphType()?d.getStanfordPointColor.bind(d):d.color).attr("cx",i).attr("cy",a),(s?v.transition(c):v).attr("cx",i).attr("cy",a)]},n.prototype.circleX=function(i){return i.x||i.x===0?this.x(i.x):null},n.prototype.updateCircleY=function(){var i=this,a,s;i.config.data_groups.length>0?(a=i.getShapeIndices(i.isLineType),s=i.generateGetLinePoints(a),i.circleY=function(c,d){return s(c,d)[0][1]}):i.circleY=function(c){return i.getYScale(c.id)(c.value)}},n.prototype.getCircles=function(i,a){var s=this;return(a?s.main.selectAll("."+T.circles+s.getTargetSelectorSuffix(a)):s.main).selectAll("."+T.circle+(k(i)?"-"+i:""))},n.prototype.expandCircles=function(i,a,s){var c=this,d=c.pointExpandedR.bind(c);s&&c.unexpandCircles(),c.getCircles(i,a).classed(T.EXPANDED,!0).attr("r",d)},n.prototype.unexpandCircles=function(i){var a=this,s=a.pointR.bind(a);a.getCircles(i).filter(function(){return a.d3.select(this).classed(T.EXPANDED)}).classed(T.EXPANDED,!1).attr("r",s)},n.prototype.pointR=function(i){var a=this,s=a.config;return a.isStepType(i)?0:S(s.point_r)?s.point_r(i):s.point_r},n.prototype.pointExpandedR=function(i){var a=this,s=a.config;return s.point_focus_expand_enabled?S(s.point_focus_expand_r)?s.point_focus_expand_r(i):s.point_focus_expand_r?s.point_focus_expand_r:a.pointR(i)*1.75:a.pointR(i)},n.prototype.pointSelectR=function(i){var a=this,s=a.config;return S(s.point_select_r)?s.point_select_r(i):s.point_select_r?s.point_select_r:a.pointR(i)*4},n.prototype.isWithinCircle=function(i,a){var s=this.d3,c=s.mouse(i),d=s.select(i),v=+d.attr("cx"),b=+d.attr("cy");return Math.sqrt(Math.pow(v-c[0],2)+Math.pow(b-c[1],2))<a},n.prototype.isWithinStep=function(i,a){return Math.abs(a-this.d3.mouse(i)[1])<30},n.prototype.getCurrentWidth=function(){var i=this,a=i.config;return a.size_width?a.size_width:i.getParentWidth()},n.prototype.getCurrentHeight=function(){var i=this,a=i.config,s=a.size_height?a.size_height:i.getParentHeight();return s>0?s:320/(i.hasType("gauge")&&!a.gauge_fullCircle?2:1)},n.prototype.getCurrentPaddingTop=function(){var i=this,a=i.config,s=k(a.padding_top)?a.padding_top:0;return i.title&&i.title.node()&&(s+=i.getTitlePadding()),s},n.prototype.getCurrentPaddingBottom=function(){var i=this.config;return k(i.padding_bottom)?i.padding_bottom:0},n.prototype.getCurrentPaddingLeft=function(i){var a=this,s=a.config;return k(s.padding_left)?s.padding_left:s.axis_rotated?!s.axis_x_show||s.axis_x_inner?1:Math.max(u(a.getAxisWidthByAxisId("x",i)),40):!s.axis_y_show||s.axis_y_inner?a.axis.getYAxisLabelPosition().isOuter?30:1:u(a.getAxisWidthByAxisId("y",i))},n.prototype.getCurrentPaddingRight=function(){var i=this,a=i.config,s=0,c=10,d=i.isLegendRight?i.getLegendWidth()+20:0;return k(a.padding_right)?s=a.padding_right+1:a.axis_rotated?s=c+d:!a.axis_y2_show||a.axis_y2_inner?s=2+d+(i.axis.getY2AxisLabelPosition().isOuter?20:0):s=u(i.getAxisWidthByAxisId("y2"))+d,i.colorScale&&i.colorScale.node()&&(s+=i.getColorScalePadding()),s},n.prototype.getParentRectValue=function(i){for(var a=this.selectChart.node(),s;a&&a.tagName!=="BODY";){try{s=a.getBoundingClientRect()[i]}catch{i==="width"&&(s=a.offsetWidth)}if(s)break;a=a.parentNode}return s},n.prototype.getParentWidth=function(){return this.getParentRectValue("width")},n.prototype.getParentHeight=function(){var i=this.selectChart.style("height");return i.indexOf("px")>0?+i.replace("px",""):0},n.prototype.getSvgLeft=function(i){var a=this,s=a.config,c=s.axis_rotated||!s.axis_rotated&&!s.axis_y_inner,d=s.axis_rotated?T.axisX:T.axisY,v=a.main.select("."+d).node(),b=v&&c?v.getBoundingClientRect():{right:0},P=a.selectChart.node().getBoundingClientRect(),R=a.hasArcType(),L=b.right-P.left-(R?0:a.getCurrentPaddingLeft(i));return L>0?L:0},n.prototype.getAxisWidthByAxisId=function(i,a){var s=this,c=s.axis.getLabelPositionById(i);return s.axis.getMaxTickWidth(i,a)+(c.isInner?20:40)},n.prototype.getHorizontalAxisHeight=function(i,a){var s=this,c=s.config,d=30;return i==="x"&&!(_(a)&&a?c.subchart_axis_x_show:c.axis_x_show)?8:i==="x"&&c.axis_x_height?c.axis_x_height:i==="y"&&!c.axis_y_show?c.legend_show&&!s.isLegendRight&&!s.isLegendInset?10:1:i==="y2"&&!c.axis_y2_show?s.rotated_padding_top:(i==="x"&&!c.axis_rotated&&c.axis_x_tick_rotate&&(d=30+s.axis.getMaxTickWidth(i)*Math.cos(Math.PI*(90-Math.abs(c.axis_x_tick_rotate))/180)),i==="y"&&c.axis_rotated&&c.axis_y_tick_rotate&&(d=30+s.axis.getMaxTickWidth(i)*Math.cos(Math.PI*(90-Math.abs(c.axis_y_tick_rotate))/180)),d+(s.axis.getLabelPositionById(i).isInner?0:10)+(i==="y2"?-10:0))},n.prototype.initBrush=function(i){var a=this,s=a.d3;return a.brush=(a.config.axis_rotated?s.brushY():s.brushX()).on("brush",function(){var c=s.event.sourceEvent;c&&c.type==="zoom"||a.redrawForBrush()}).on("end",function(){var c=s.event.sourceEvent;c&&c.type==="zoom"||a.brush.empty()&&c&&c.type!=="end"&&a.brush.clear()}),a.brush.updateExtent=function(){var c=this.scale.range(),d;return a.config.axis_rotated?d=[[0,c[0]],[a.width2,c[1]]]:d=[[c[0],0],[c[1],a.height2]],this.extent(d),this},a.brush.updateScale=function(c){return this.scale=c,this},a.brush.update=function(c){this.updateScale(c||a.subX).updateExtent(),a.context.select("."+T.brush).call(this)},a.brush.clear=function(){a.context.select("."+T.brush).call(a.brush.move,null)},a.brush.selection=function(){return s.brushSelection(a.context.select("."+T.brush).node())},a.brush.selectionAsValue=function(c,d){var v,b;return c?(a.context&&(v=[this.scale(c[0]),this.scale(c[1])],b=a.context.select("."+T.brush),d&&(b=b.transition()),a.brush.move(b,v)),[]):(v=a.brush.selection()||[0,0],[this.scale.invert(v[0]),this.scale.invert(v[1])])},a.brush.empty=function(){var c=a.brush.selection();return!c||c[0]===c[1]},a.brush.updateScale(i)},n.prototype.initSubchart=function(){var i=this,a=i.config,s=i.context=i.svg.append("g").attr("transform",i.getTranslate("context"));s.style("visibility","visible"),s.append("g").attr("clip-path",i.clipPathForSubchart).attr("class",T.chart),s.select("."+T.chart).append("g").attr("class",T.chartBars),s.select("."+T.chart).append("g").attr("class",T.chartLines),s.append("g").attr("clip-path",i.clipPath).attr("class",T.brush),i.axes.subx=s.append("g").attr("class",T.axisX).attr("transform",i.getTranslate("subx")).attr("clip-path",a.axis_rotated?"":i.clipPathForXAxis).style("visibility",a.subchart_axis_x_show?"visible":"hidden")},n.prototype.initSubchartBrush=function(){var i=this;i.initBrush(i.subX).updateExtent(),i.context.select("."+T.brush).call(i.brush)},n.prototype.updateTargetsForSubchart=function(i){var a=this,s=a.context,c=a.config,d,v,b,P,R=a.classChartBar.bind(a),L=a.classBars.bind(a),N=a.classChartLine.bind(a),V=a.classLines.bind(a),X=a.classAreas.bind(a);P=s.select("."+T.chartBars).selectAll("."+T.chartBar).data(i),b=P.enter().append("g").style("opacity",0),b.merge(P).attr("class",R),b.append("g").attr("class",L),v=s.select("."+T.chartLines).selectAll("."+T.chartLine).data(i),d=v.enter().append("g").style("opacity",0),d.merge(v).attr("class",N),d.append("g").attr("class",V),d.append("g").attr("class",X),s.selectAll("."+T.brush+" rect").attr(c.axis_rotated?"width":"height",c.axis_rotated?a.width2:a.height2)},n.prototype.updateBarForSubchart=function(i){var a=this,s=a.context.selectAll("."+T.bars).selectAll("."+T.bar).data(a.barData.bind(a)),c=s.enter().append("path").attr("class",a.classBar.bind(a)).style("stroke","none").style("fill",a.color);s.exit().transition().duration(i).style("opacity",0).remove(),a.contextBar=c.merge(s).style("opacity",a.initialOpacity.bind(a))},n.prototype.redrawBarForSubchart=function(i,a,s){(a?this.contextBar.transition(Math.random().toString()).duration(s):this.contextBar).attr("d",i).style("opacity",1)},n.prototype.updateLineForSubchart=function(i){var a=this,s=a.context.selectAll("."+T.lines).selectAll("."+T.line).data(a.lineData.bind(a)),c=s.enter().append("path").attr("class",a.classLine.bind(a)).style("stroke",a.color);s.exit().transition().duration(i).style("opacity",0).remove(),a.contextLine=c.merge(s).style("opacity",a.initialOpacity.bind(a))},n.prototype.redrawLineForSubchart=function(i,a,s){(a?this.contextLine.transition(Math.random().toString()).duration(s):this.contextLine).attr("d",i).style("opacity",1)},n.prototype.updateAreaForSubchart=function(i){var a=this,s=a.d3,c=a.context.selectAll("."+T.areas).selectAll("."+T.area).data(a.lineData.bind(a)),d=c.enter().append("path").attr("class",a.classArea.bind(a)).style("fill",a.color).style("opacity",function(){return a.orgAreaOpacity=+s.select(this).style("opacity"),0});c.exit().transition().duration(i).style("opacity",0).remove(),a.contextArea=d.merge(c).style("opacity",0)},n.prototype.redrawAreaForSubchart=function(i,a,s){(a?this.contextArea.transition(Math.random().toString()).duration(s):this.contextArea).attr("d",i).style("fill",this.color).style("opacity",this.orgAreaOpacity)},n.prototype.redrawSubchart=function(i,a,s,c,d,v,b){var P=this,R=P.d3,L,N,V;R.event&&R.event.type==="zoom"&&P.brush.selectionAsValue(P.x.orgDomain()),i&&(P.brush.empty()||P.brush.selectionAsValue(P.x.orgDomain()),L=P.generateDrawArea(d,!0),N=P.generateDrawBar(v,!0),V=P.generateDrawLine(b,!0),P.updateBarForSubchart(s),P.updateLineForSubchart(s),P.updateAreaForSubchart(s),P.redrawBarForSubchart(N,s,s),P.redrawLineForSubchart(V,s,s),P.redrawAreaForSubchart(L,s,s))},n.prototype.redrawForBrush=function(){var i=this,a=i.x,s=i.d3,c;i.redraw({withTransition:!1,withY:i.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),c=s.event.selection||i.brush.scale.range(),i.main.select("."+T.eventRect).call(i.zoom.transform,s.zoomIdentity.scale(i.width/(c[1]-c[0])).translate(-c[0],0)),i.config.subchart_onbrush.call(i.api,a.orgDomain())},n.prototype.transformContext=function(i,a){var s=this,c;a&&a.axisSubX?c=a.axisSubX:(c=s.context.select("."+T.axisX),i&&(c=c.transition())),s.context.attr("transform",s.getTranslate("context")),c.attr("transform",s.getTranslate("subx"))},n.prototype.getDefaultSelection=function(){var i=this,a=i.config,s=S(a.axis_x_selection)?a.axis_x_selection(i.getXDomain(i.data.targets)):a.axis_x_selection;return i.isTimeSeries()&&(s=[i.parseDate(s[0]),i.parseDate(s[1])]),s},n.prototype.removeSubchart=function(){var i=this;i.brush=null,i.context.remove(),i.context=null},n.prototype.initText=function(){var i=this;i.main.select("."+T.chart).append("g").attr("class",T.chartTexts),i.mainText=i.d3.selectAll([])},n.prototype.updateTargetsForText=function(i){var a=this,s=a.classChartText.bind(a),c=a.classTexts.bind(a),d=a.classFocus.bind(a),v=a.main.select("."+T.chartTexts).selectAll("."+T.chartText).data(i),b=v.enter().append("g").attr("class",s).style("opacity",0).style("pointer-events","none");b.append("g").attr("class",c),b.merge(v).attr("class",function(P){return s(P)+d(P)})},n.prototype.updateText=function(i,a,s){var c=this,d=c.config,v=c.barOrLineData.bind(c),b=c.classText.bind(c),P=c.main.selectAll("."+T.texts).selectAll("."+T.text).data(v),R=P.enter().append("text").attr("class",b).attr("text-anchor",function(L){return d.axis_rotated?L.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",i).attr("y",a).style("fill",function(L){return c.color(L)}).style("fill-opacity",0);c.mainText=R.merge(P).text(function(L,N,V){return c.dataLabelFormat(L.id)(L.value,L.id,N,V)}),P.exit().transition().duration(s).style("fill-opacity",0).remove()},n.prototype.redrawText=function(i,a,s,c,d){return[(c?this.mainText.transition(d):this.mainText).attr("x",i).attr("y",a).style("fill",this.color).style("fill-opacity",s?0:this.opacityForText.bind(this))]},n.prototype.getTextRect=function(i,a,s){var c=this.d3.select("body").append("div").classed("c3",!0),d=c.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),v=this.d3.select(s).style("font"),b;return d.selectAll(".dummy").data([i]).enter().append("text").classed(a||"",!0).style("font",v).text(i).each(function(){b=p(this)}),c.remove(),b},n.prototype.generateXYForText=function(i,a,s,c){var d=this,v=d.generateGetAreaPoints(i,!1),b=d.generateGetBarPoints(a,!1),P=d.generateGetLinePoints(s,!1),R=c?d.getXForText:d.getYForText;return function(L,N){var V=d.isAreaType(L)?v:d.isBarType(L)?b:P;return R.call(d,V(L,N),L,this)}},n.prototype.getXForText=function(i,a,s){var c=this,d=p(s),v,b;return c.config.axis_rotated?(b=c.isBarType(a)?4:6,v=i[2][1]+b*(a.value<0?-1:1)):v=c.hasType("bar")?(i[2][0]+i[0][0])/2:i[0][0],a.value===null&&(v>c.width?v=c.width-d.width:v<0&&(v=4)),v},n.prototype.getYForText=function(i,a,s){var c=this,d=p(s),v;return c.config.axis_rotated?v=(i[0][0]+i[2][0]+d.height*.6)/2:(v=i[2][1],a.value<0||a.value===0&&!c.hasPositiveValue?(v+=d.height,c.isBarType(a)&&c.isSafari()?v-=3:!c.isBarType(a)&&c.isChrome()&&(v+=3)):v+=c.isBarType(a)?-3:-6),a.value===null&&!c.config.axis_rotated&&(v<d.height?v=d.height:v>this.height&&(v=this.height-4)),v},n.prototype.initTitle=function(){var i=this;i.title=i.svg.append("text").text(i.config.title_text).attr("class",i.CLASS.title)},n.prototype.redrawTitle=function(){var i=this;i.title.attr("x",i.xForTitle.bind(i)).attr("y",i.yForTitle.bind(i))},n.prototype.xForTitle=function(){var i=this,a=i.config,s=a.title_position||"left",c;return s.indexOf("right")>=0?c=i.currentWidth-i.getTextRect(i.title.node().textContent,i.CLASS.title,i.title.node()).width-a.title_padding.right:s.indexOf("center")>=0?c=Math.max((i.currentWidth-i.getTextRect(i.title.node().textContent,i.CLASS.title,i.title.node()).width)/2,0):c=a.title_padding.left,c},n.prototype.yForTitle=function(){var i=this;return i.config.title_padding.top+i.getTextRect(i.title.node().textContent,i.CLASS.title,i.title.node()).height},n.prototype.getTitlePadding=function(){var i=this;return i.yForTitle()+i.config.title_padding.bottom};function U(i){return i/Math.pow(10,Math.ceil(Math.log(i)/Math.LN10-1e-12))===1}n.prototype.drawColorScale=function(){var i=this,a=i.d3,s=i.config,c=i.data.targets[0],d,v,b,P,R,L,N,V;if(d=isNaN(s.stanford_scaleWidth)?20:s.stanford_scaleWidth,v=5,v<0||d<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");V=i.height-s.stanford_padding.bottom-s.stanford_padding.top,P=a.range(s.stanford_padding.bottom,V,v),N=a.scaleSequential(c.colors).domain([P[P.length-1],P[0]]),i.colorScale&&i.colorScale.remove(),i.colorScale=i.svg.append("g").attr("width",50).attr("height",V).attr("class",T.colorScale),i.colorScale.append("g").attr("transform","translate(0, "+s.stanford_padding.top+")").selectAll("bars").data(P).enter().append("rect").attr("y",function(X,D){return D*v}).attr("x",0).attr("width",d).attr("height",v).attr("fill",function(X){return N(X)}),L=a.scaleLog().domain([c.minEpochs,c.maxEpochs]).range([P[0]+s.stanford_padding.top+P[P.length-1]+v-1,P[0]+s.stanford_padding.top]),R=a.axisRight(L),s.stanford_scaleFormat==="pow10"?R.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):S(s.stanford_scaleFormat)?R.tickFormat(s.stanford_scaleFormat):R.tickFormat(a.format("d")),S(s.stanford_scaleValues)&&R.tickValues(s.stanford_scaleValues(c.minEpochs,c.maxEpochs)),b=i.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+d+",0)").call(R),s.stanford_scaleFormat==="pow10"&&b.selectAll(".tick text").text(null).filter(U).text(10).append("tspan").attr("dy","-.7em").text(function(X){return Math.round(Math.log(X)/Math.LN10)}),i.colorScale.attr("transform","translate("+(i.currentWidth-i.xForColorScale())+", 0)")},n.prototype.xForColorScale=function(){var i=this;return i.config.stanford_padding.right+p(i.colorScale.node()).width},n.prototype.getColorScalePadding=function(){var i=this;return i.xForColorScale()+i.config.stanford_padding.left+20},n.prototype.isStanfordGraphType=function(){var i=this;return i.config.data_type==="stanford"},n.prototype.initStanfordData=function(){var i=this,a=i.d3,s=i.config,c=i.data.targets[0],d,v,b;if(c.values.sort(at),d=c.values.map(function(P){return P.epochs}),b=isNaN(s.stanford_scaleMin)?a.min(d):s.stanford_scaleMin,v=isNaN(s.stanford_scaleMax)?a.max(d):s.stanford_scaleMax,b>v)throw Error("Number of minEpochs has to be smaller than maxEpochs");c.colors=S(s.stanford_colors)?s.stanford_colors:a.interpolateHslLong(a.hsl(250,1,.5),a.hsl(0,1,.5)),c.colorscale=a.scaleSequentialLog(c.colors).domain([b,v]),c.minEpochs=b,c.maxEpochs=v},n.prototype.getStanfordPointColor=function(i){var a=this,s=a.data.targets[0];return s.colorscale(i.epochs)},n.prototype.getCentroid=function(i){var a=Z(i),s=0,c=0,d,v,b,P,R;for(d=0,v=i.length-1;d<i.length;v=d,d+=1)P=i[d],R=i[v],b=P.x*R.y-R.x*P.y,s+=(P.x+R.x)*b,c+=(P.y+R.y)*b;return b=a*6,{x:s/b,y:c/b}},n.prototype.getStanfordTooltipTitle=function(i){var a=this,s=a.axis.getLabelText("x"),c=a.axis.getLabelText("y");return`
      <tr><th>`+(s?$(s):"x")+"</th><th class='value'>"+i.x+`</th></tr>
      <tr><th>`+(c?$(c):"y")+"</th><th class='value'>"+i.value+`</th></tr>
    `},n.prototype.countEpochsInRegion=function(i){var a=this,s=a.data.targets[0],c,d;return c=s.values.reduce(function(v,b){return v+Number(b.epochs)},0),d=s.values.reduce(function(v,b){return it(b,i)?v+Number(b.epochs):v},0),{value:d,percentage:d!==0?(d/c*100).toFixed(1):0}};var Z=function(i){var a=0,s,c,d,v;for(s=0,c=i.length-1;s<i.length;c=s,s+=1)d=i[s],v=i[c],a+=d.x*v.y,a-=d.y*v.x;return a/=2,a},it=function(i,a){for(var s,c,d,v,b,P=i.x,R=i.value,L=!1,N=0,V=a.length-1;N<a.length;V=N++)s=a[N].x,c=a[N].y,v=a[V].x,d=a[V].y,b=c>R!=d>R&&P<(v-s)*(R-c)/(d-c)+s,b&&(L=!L);return L},at=function(i,a){return i.epochs<a.epochs?-1:i.epochs>a.epochs?1:0};return n.prototype.initStanfordElements=function(){var i=this;i.stanfordElements=i.main.select("."+T.chart).append("g").attr("class",T.stanfordElements),i.stanfordElements.append("g").attr("class",T.stanfordLines),i.stanfordElements.append("g").attr("class",T.stanfordTexts),i.stanfordElements.append("g").attr("class",T.stanfordRegions)},n.prototype.updateStanfordElements=function(i){var a=this,s=a.main,c=a.config,d,v,b,P,R,L,N=a.xvCustom.bind(a),V=a.yvCustom.bind(a),X=a.countEpochsInRegion.bind(a);d=s.select("."+T.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+T.stanfordLine).data(c.stanford_lines),v=d.enter().append("g").attr("class",function(D){return T.stanfordLine+(D.class?" "+D.class:"")}),v.append("line").attr("x1",function(D){return c.axis_rotated?V(D,"value_y1"):N(D,"value_x1")}).attr("x2",function(D){return c.axis_rotated?V(D,"value_y2"):N(D,"value_x2")}).attr("y1",function(D){return c.axis_rotated?N(D,"value_x1"):V(D,"value_y1")}).attr("y2",function(D){return c.axis_rotated?N(D,"value_x2"):V(D,"value_y2")}).style("opacity",0),a.stanfordLines=v.merge(d),a.stanfordLines.select("line").transition().duration(i).attr("x1",function(D){return c.axis_rotated?V(D,"value_y1"):N(D,"value_x1")}).attr("x2",function(D){return c.axis_rotated?V(D,"value_y2"):N(D,"value_x2")}).attr("y1",function(D){return c.axis_rotated?N(D,"value_x1"):V(D,"value_y1")}).attr("y2",function(D){return c.axis_rotated?N(D,"value_x2"):V(D,"value_y2")}).style("opacity",1),d.exit().transition().duration(i).style("opacity",0).remove(),R=s.select("."+T.stanfordTexts).selectAll("."+T.stanfordText).data(c.stanford_texts),L=R.enter().append("g").attr("class",function(D){return T.stanfordText+(D.class?" "+D.class:"")}),L.append("text").attr("x",function(D){return c.axis_rotated?V(D,"y"):N(D,"x")}).attr("y",function(D){return c.axis_rotated?N(D,"x"):V(D,"y")}).style("opacity",0),a.stanfordTexts=L.merge(R),a.stanfordTexts.select("text").transition().duration(i).attr("x",function(D){return c.axis_rotated?V(D,"y"):N(D,"x")}).attr("y",function(D){return c.axis_rotated?N(D,"x"):V(D,"y")}).text(function(D){return D.content}).style("opacity",1),R.exit().transition().duration(i).style("opacity",0).remove(),b=s.select("."+T.stanfordRegions).selectAll("."+T.stanfordRegion).data(c.stanford_regions),P=b.enter().append("g").attr("class",function(D){return T.stanfordRegion+(D.class?" "+D.class:"")}),P.append("polygon").attr("points",function(D){return D.points.map(function(q){return[c.axis_rotated?V(q,"y"):N(q,"x"),c.axis_rotated?N(q,"x"):V(q,"y")].join(",")}).join(" ")}).style("opacity",0),P.append("text").attr("x",function(D){return a.getCentroid(D.points).x}).attr("y",function(D){return a.getCentroid(D.points).y}).style("opacity",0),a.stanfordRegions=P.merge(b),a.stanfordRegions.select("polygon").transition().duration(i).attr("points",function(D){return D.points.map(function(q){return[c.axis_rotated?V(q,"y"):N(q,"x"),c.axis_rotated?N(q,"x"):V(q,"y")].join(",")}).join(" ")}).style("opacity",function(D){return D.opacity?D.opacity:.2}),a.stanfordRegions.select("text").transition().duration(i).attr("x",function(D){return c.axis_rotated?V(a.getCentroid(D.points),"y"):N(a.getCentroid(D.points),"x")}).attr("y",function(D){return c.axis_rotated?N(a.getCentroid(D.points),"x"):V(a.getCentroid(D.points),"y")}).text(function(D){if(D.text){var q,j,tt;return a.isStanfordGraphType()&&(tt=X(D.points),q=tt.value,j=tt.percentage),D.text(q,j)}return""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),b.exit().transition().duration(i).style("opacity",0).remove()},n.prototype.initTooltip=function(){var i=this,a=i.config,s;if(i.tooltip=i.selectChart.style("position","relative").append("div").attr("class",T.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),a.tooltip_init_show){if(i.isTimeSeries()&&A(a.tooltip_init_x)){for(a.tooltip_init_x=i.parseDate(a.tooltip_init_x),s=0;s<i.data.targets[0].values.length&&i.data.targets[0].values[s].x-a.tooltip_init_x!==0;s++);a.tooltip_init_x=s}i.tooltip.html(a.tooltip_contents.call(i,i.data.targets.map(function(c){return i.addName(c.values[a.tooltip_init_x])}),i.axis.getXAxisTickFormat(),i.getYFormat(i.hasArcType()),i.color)),i.tooltip.style("top",a.tooltip_init_position.top).style("left",a.tooltip_init_position.left).style("display","block")}},n.prototype.getTooltipSortFunction=function(){var i=this,a=i.config;if(a.data_groups.length===0||a.tooltip_order!==void 0){var s=a.tooltip_order;s===void 0&&(s=a.data_order);var c=function(b){return b?b.value:null};if(A(s)&&s.toLowerCase()==="asc")return function(b,P){return c(b)-c(P)};if(A(s)&&s.toLowerCase()==="desc")return function(b,P){return c(P)-c(b)};if(S(s)){var d=s;return a.tooltip_order===void 0&&(d=function(b,P){return s(b?{id:b.id,values:[b]}:null,P?{id:P.id,values:[P]}:null)}),d}else if(y(s))return function(b,P){return s.indexOf(b.id)-s.indexOf(P.id)}}else{var v=i.orderTargets(i.data.targets).map(function(b){return b.id});return(i.isOrderAsc()||i.isOrderDesc())&&(v=v.reverse()),function(b,P){return v.indexOf(b.id)-v.indexOf(P.id)}}},n.prototype.getTooltipContent=function(i,a,s,c){var d=this,v=d.config,b=v.tooltip_format_title||a,P=v.tooltip_format_name||function(tt){return tt},R,L,N,V,X,D,q=v.tooltip_format_value;q||(q=d.isTargetNormalized(i.id)?function(tt,K){return(K*100).toFixed(2)+"%"}:s);var j=this.getTooltipSortFunction();for(j&&i.sort(j),L=0;L<i.length;L++)if(i[L]&&(i[L].value||i[L].value===0)){if(d.isStanfordGraphType())R||(N=d.getStanfordTooltipTitle(i[L]),R="<table class='"+d.CLASS.tooltip+"'>"+N),D=d.getStanfordPointColor(i[L]),X=$(v.data_epochs),V=i[L].epochs;else if(R||(N=$(b?b(i[L].x,i[L].index):i[L].x),R="<table class='"+d.CLASS.tooltip+"'>"+(N||N===0?"<tr><th colspan='2'>"+N+"</th></tr>":"")),V=$(q(i[L].value,i[L].ratio,i[L].id,i[L].index,i)),V!==void 0){if(i[L].name===null)continue;X=$(P(i[L].name,i[L].ratio,i[L].id,i[L].index)),D=d.levelColor?d.levelColor(i[L].value):c(i[L].id)}V!==void 0&&(R+="<tr class='"+d.CLASS.tooltipName+"-"+d.getTargetSelectorSuffix(i[L].id)+"'>",R+="<td class='name'><span style='background-color:"+D+"'></span>"+X+"</td>",R+="<td class='value'>"+V+"</td>",R+="</tr>")}return R+"</table>"},n.prototype.tooltipPosition=function(i,a,s,c){var d=this,v=d.config,b=d.d3,P,R,L,N,V,X=d.hasArcType(),D=b.mouse(c);return X?(R=(d.width-(d.isLegendRight?d.getLegendWidth():0))/2+D[0],N=(d.hasType("gauge")?d.height:d.height/2)+D[1]+20):(P=d.getSvgLeft(!0),v.axis_rotated?(R=P+D[0]+100,L=R+a,V=d.currentWidth-d.getCurrentPaddingRight(),N=d.x(i[0].x)+20):(R=P+d.getCurrentPaddingLeft(!0)+d.x(i[0].x)+20,L=R+a,V=P+d.currentWidth-d.getCurrentPaddingRight(),N=D[1]+15),L>V&&(R-=L-V+20),N+s>d.currentHeight&&(N-=s+30)),N<0&&(N=0),{top:N,left:R}},n.prototype.showTooltip=function(i,a){var s=this,c=s.config,d,v,b,P=s.hasArcType(),R=i.filter(function(N){return N&&k(N.value)}),L=c.tooltip_position||n.prototype.tooltipPosition;if(R.length===0||!c.tooltip_show){s.hideTooltip();return}s.tooltip.html(c.tooltip_contents.call(s,i,s.axis.getXAxisTickFormat(),s.getYFormat(P),s.color)).style("display","block"),d=s.tooltip.property("offsetWidth"),v=s.tooltip.property("offsetHeight"),b=L.call(this,R,d,v,a),s.tooltip.style("top",b.top+"px").style("left",b.left+"px")},n.prototype.hideTooltip=function(){this.tooltip.style("display","none")},n.prototype.setTargetType=function(i,a){var s=this,c=s.config;s.mapToTargetIds(i).forEach(function(d){s.withoutFadeIn[d]=a===c.data_types[d],c.data_types[d]=a}),i||(c.data_type=a)},n.prototype.hasType=function(i,a){var s=this,c=s.config.data_types,d=!1;return a=a||s.data.targets,a&&a.length?a.forEach(function(v){var b=c[v.id];(b&&b.indexOf(i)>=0||!b&&i==="line")&&(d=!0)}):Object.keys(c).length?Object.keys(c).forEach(function(v){c[v]===i&&(d=!0)}):d=s.config.data_type===i,d},n.prototype.hasArcType=function(i){return this.hasType("pie",i)||this.hasType("donut",i)||this.hasType("gauge",i)},n.prototype.isLineType=function(i){var a=this.config,s=A(i)?i:i.id;return!a.data_types[s]||["line","spline","area","area-spline","step","area-step"].indexOf(a.data_types[s])>=0},n.prototype.isStepType=function(i){var a=A(i)?i:i.id;return["step","area-step"].indexOf(this.config.data_types[a])>=0},n.prototype.isSplineType=function(i){var a=A(i)?i:i.id;return["spline","area-spline"].indexOf(this.config.data_types[a])>=0},n.prototype.isAreaType=function(i){var a=A(i)?i:i.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[a])>=0},n.prototype.isBarType=function(i){var a=A(i)?i:i.id;return this.config.data_types[a]==="bar"},n.prototype.isScatterType=function(i){var a=A(i)?i:i.id;return this.config.data_types[a]==="scatter"},n.prototype.isStanfordType=function(i){var a=A(i)?i:i.id;return this.config.data_types[a]==="stanford"},n.prototype.isPieType=function(i){var a=A(i)?i:i.id;return this.config.data_types[a]==="pie"},n.prototype.isGaugeType=function(i){var a=A(i)?i:i.id;return this.config.data_types[a]==="gauge"},n.prototype.isDonutType=function(i){var a=A(i)?i:i.id;return this.config.data_types[a]==="donut"},n.prototype.isArcType=function(i){return this.isPieType(i)||this.isDonutType(i)||this.isGaugeType(i)},n.prototype.lineData=function(i){return this.isLineType(i)?[i]:[]},n.prototype.arcData=function(i){return this.isArcType(i.data)?[i]:[]},n.prototype.barData=function(i){return this.isBarType(i)?i.values:[]},n.prototype.lineOrScatterOrStanfordData=function(i){return this.isLineType(i)||this.isScatterType(i)||this.isStanfordType(i)?i.values:[]},n.prototype.barOrLineData=function(i){return this.isBarType(i)||this.isLineType(i)?i.values:[]},n.prototype.isSafari=function(){var i=window.navigator.userAgent;return i.indexOf("Safari")>=0&&i.indexOf("Chrome")<0},n.prototype.isChrome=function(){var i=window.navigator.userAgent;return i.indexOf("Chrome")>=0},n.prototype.initZoom=function(){var i=this,a=i.d3,s=i.config,c;return i.zoom=a.zoom().on("start",function(){if(s.zoom_type==="scroll"){var d=a.event.sourceEvent;d&&d.type==="brush"||(c=d,s.zoom_onzoomstart.call(i.api,d))}}).on("zoom",function(){if(s.zoom_type==="scroll"){var d=a.event.sourceEvent;d&&d.type==="brush"||(i.redrawForZoom(),s.zoom_onzoom.call(i.api,i.x.orgDomain()))}}).on("end",function(){if(s.zoom_type==="scroll"){var d=a.event.sourceEvent;d&&d.type==="brush"||d&&c.clientX===d.clientX&&c.clientY===d.clientY||s.zoom_onzoomend.call(i.api,i.x.orgDomain())}}),i.zoom.updateDomain=function(){return a.event&&a.event.transform&&(s.axis_rotated&&s.zoom_type==="scroll"&&a.event.sourceEvent.type==="mousemove"?i.x.domain(a.event.transform.rescaleY(i.subX).domain()):i.x.domain(a.event.transform.rescaleX(i.subX).domain())),this},i.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[i.width,i.height]]).extent([[0,0],[i.width,i.height]]),this},i.zoom.update=function(){return this.updateExtent().updateDomain()},i.zoom.updateExtent()},n.prototype.zoomTransform=function(i){var a=this,s=[a.x(i[0]),a.x(i[1])];return a.d3.zoomIdentity.scale(a.width/(s[1]-s[0])).translate(-s[0],0)},n.prototype.initDragZoom=function(){var i=this,a=i.d3,s=i.config,c=i.context=i.svg,d=i.margin.left+20.5,v=i.margin.top+.5;if(s.zoom_type==="drag"&&s.zoom_enabled){var b=function(R){return R&&R.map(function(L){return i.x.invert(L)})},P=i.dragZoomBrush=a.brushX().on("start",function(){i.api.unzoom(),i.svg.select("."+T.dragZoom).classed("disabled",!1),s.zoom_onzoomstart.call(i.api,a.event.sourceEvent)}).on("brush",function(){s.zoom_onzoom.call(i.api,b(a.event.selection))}).on("end",function(){if(a.event.selection!=null){var R=b(a.event.selection);s.zoom_disableDefaultBehavior||i.api.zoom(R),i.svg.select("."+T.dragZoom).classed("disabled",!0),s.zoom_onzoomend.call(i.api,R)}});c.append("g").classed(T.dragZoom,!0).attr("clip-path",i.clipPath).attr("transform","translate("+d+","+v+")").call(P)}},n.prototype.getZoomDomain=function(){var i=this,a=i.config,s=i.d3,c=s.min([i.orgXDomain[0],a.zoom_x_min]),d=s.max([i.orgXDomain[1],a.zoom_x_max]);return[c,d]},n.prototype.redrawForZoom=function(){var i=this,a=i.d3,s=i.config,c=i.zoom,d=i.x;s.zoom_enabled&&i.filterTargetsToShow(i.data.targets).length!==0&&(c.update(),!s.zoom_disableDefaultBehavior&&(i.isCategorized()&&d.orgDomain()[0]===i.orgXDomain[0]&&d.domain([i.orgXDomain[0]-1e-10,d.orgDomain()[1]]),i.redraw({withTransition:!1,withY:s.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),a.event.sourceEvent&&a.event.sourceEvent.type==="mousemove"&&(i.cancelClick=!0)))},H})})(Pv);const kE=Du,OE=document.querySelector(".formWrap"),ap=document.querySelector("#ticketName"),op=document.querySelector("#imgUrl"),sp=document.querySelector("#cityName"),up=document.querySelector("#ticketPrice"),cp=document.querySelector("#ticketNum"),lp=document.querySelector("#ticketGrade"),fp=document.querySelector("#ticketDescription"),RE=document.querySelector(".submitBtn"),ty=document.querySelector("#filter"),NE=document.querySelector(".filterTotalText"),VE=document.querySelector(".travelListDisplay");let Be;axios.get("https://raw.githubusercontent.com/hexschool/js-training/main/travelApi.json").then(function(t){Be=t.data.data,console.log(Be),is(Be),rs(Be)}).catch(function(t){console.log(t)});function is(t){let e="";t.forEach(function(n){e+=`
    <div class="col">
    <div class="card h-100">
      <div class="imgWrap position-relative z-1">
        <a href="#">
          <img
            src="${n.imgUrl}"
            class="card-img-top mb-5"
            alt="${n.name}"
          />
        </a>
        <div class="cityTag fs-5 position-absolute z-2 px-5 py-2">
          ${n.area}
        </div>
        <div
          class="gradingTag position-absolute z-2 bg-highlight px-2 py-1"
        >
          ${n.rate}
        </div>
      </div>
      <div class="card-body">
        <h4
          class="card-title fw-medium text-highlight border-bottom border-3 border-highlight pb-1 mb-4"
        >
          ${n.name}
        </h4>
        <p class="card-text mb-8">
          ${n.description}
        </p>
      </div>
      <div class="card-footer bg-white">
        <ul
          class="list-unstyled d-flex justify-content-between align-items-start text-highlight"
        >
          <li>
            <i class="fa-solid fa-circle-exclamation me-1"></i>剩下最後
            ${n.group} 組
          </li>
          <li class="d-flex align-items-basline">
            TWD<span class="fs-2 fw-medium ms-1">${n.price}</span>
          </li>
        </ul>
      </div>
    </div>
  </div>`}),VE.innerHTML=e,NE.textContent=`本次搜尋共 ${t.length} 筆資料`}RE.addEventListener("click",function(t){if(ap.value==""||op.value==""||sp.value==""||fp.value==""||cp.value==""||up.value==""||lp.value==""){alert("請填寫完整資訊！！");return}let e={};e.id=Be.length,e.name=ap.value,e.imgUrl=op.value,e.area=sp.value,e.description=fp.value,e.group=Number(cp.value),e.price=Number(up.value),e.rate=Number(lp.value),Be.push(e),OE.reset(),is(Be),rs(Be),ty.value="地區搜尋"});ty.addEventListener("change",function(t){if(t.target.value!==void 0)if(t.target.value==="全部地區")is(Be),rs(Be);else{let e=[];Be.forEach(function(n){t.target.value===n.area&&e.push(n)}),is(e),rs(e)}});function rs(t){console.log(t);let e={};t.forEach(function(o){e[o.area]===void 0?e[o.area]=1:e[o.area]+=1});let n=[];Object.keys(e).forEach(function(o){let u=[];u.push(o),u.push(e[o]),n.push(u)}),kE.generate({size:{height:240,width:300},data:{columns:n,type:"donut",colors:{台北:"#26BFC7",台中:"#5151D3",高雄:"#E68618"}},donut:{title:"套票地區比重"},tooltip:{show:!0}})}
